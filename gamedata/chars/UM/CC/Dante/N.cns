;リベ　一段目
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2
facep2 = 1

[State 200 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 2
v = 2
range = 1,2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) =1
channel = 0
value = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) =2
channel = 0
value = 5,1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 6,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 13
value = 6,4

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 20*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 25, 0
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(20+(20*(var(54)*.1)))

[State 200, エフェクト];「テンプレート.txt」参照
type = Explod
trigger1 = animelem = 3
anim = 201
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
ID = 200
removeongethit = 1

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 200
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6000
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2
x = 10

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 10

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, コントロール]
type = CtrlSet 
trigger1 = animelem = 13
value = 1

[State 200, コントロール]
type = statetypeSet
trigger1 = animelemtime(13) >= 0
movetype = I

;---------------------------------------------------------------------------
; 下の「立ち強パンチ」のステートを見てみましょ。
;
;「Width」のコントローラは相手や画面端を押すための『物理的な幅』を
; 一時的に伸ばしたり縮ませたりする命令。
; キャラの幅はバトル中に「Ctrl+C」を押して「判定ボックス」を表示させてる時に
; 一緒に確認出来る。「軸位置から伸びる黄緑色の線」がその幅。
;
; 後は「ChangeAnim」を使って５枚目で攻撃を当てたらすぐに６枚目に
; コマを進ませる命令をしてたり、
;『画像表示優先度』で「振りかぶる時は奥」「振り切った直後から手前」に
; モーション表示の操作をしてるくらいで、難しくない処理。
;
; これは余談だけど、Widthの読み方は「ウィッズ」。
; この解説文書いた時に初めて読み方知ったよ！　｡ﾟ(ﾟつД`ﾟ)ﾟ｡
;---------------------------------------------------------------------------
;リベ　二段目
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 205
poweradd = 20
sprpriority = 2
facep2 = 1

[State 205, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2
x = 10

[State 205, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 205, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 205, 0

[State 205, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 12
value = 6,4

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 20*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 205, エフェクト];「テンプレート.txt」参照
type = Explod
trigger1 = animelem = 3
anim = 206
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
ID = 205
removeongethit = 1

[State 205, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 25, 0
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(26+(26*(var(54)*.1)))

[state 205 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 205
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6000
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 205, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[State 205, コントロール]
type = CtrlSet 
trigger1 = animelem = 13
value = 1

[State 205, コントロール]
type = statetypeSet
trigger1 = animelemtime(13) >= 0
movetype = I


;---------------------------------------------------------------------------
;リベ　二段目　EX
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2
facep2 = 1


[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 1
x = 6

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2
x = 6

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 5

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 6
x = 10

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 10
x = 5

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 11
x = 5

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 12
x = 5

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 6,2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 12
value = 210, 1

[State 205, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 23
value = 6,4

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 10*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 210, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 20, 0
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(26+(26*(var(54)*.1)))

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 210
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6000
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 210, ヒット定義]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 15, 0
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-1.5
air.hittime = 20-ceil(20*fvar(0))
getpower = ceil(26+(26*(var(54)*.1)))

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 2
id = 212
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6000
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 9
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 15, 0
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(26+(26*(var(54)*.1)))

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 3
id = 200
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6000
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 13
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 15, 0
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(26+(26*(var(54)*.1)))

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 4
id = 213
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6000
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 210, エフェクト]
type = Explod
trigger1 = animelem = 3
anim = 211
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 210

[State 210, エフェクト]
type = Explod
trigger1 = animelem = 12
anim = 212
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 1
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 210

[State 210, コントロール]
type = CtrlSet 
trigger1 = animelem = 25
value = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------

;リベ　三段目
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 215
poweradd = 20
sprpriority = 2
facep2 = 1

[State 215, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 215, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 10

[State 215, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 215, 0

[State 215, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 16
value = 6,4

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 20*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 215, エフェクト];「テンプレート.txt」参照
type = Explod
trigger1 = animelem = 4
anim = 216
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 1
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 215

[State 215, ヒット定義]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 35, 0
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 40-ceil(40*fvar(0))
ground.hittime  = 40-ceil(40*fvar(0))
ground.velocity = -5,0
fall = 1
fall.recover = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -5,-1
getpower = ceil(40+(40*(var(54)*.1)))

[state 215 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 215
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6000
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 215, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215, コントロール]
type = CtrlSet 
trigger1 = animelem = 17
value = 1

[State 215, コントロール]
type = statetypeSet
trigger1 = animelemtime(17) >= 0
movetype = I


;---------------------------------------------------------------------------
;リベ　三段目　EX
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2
facep2 = 1

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2
x = 5

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 5

[State 200, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 10

[State 200 ,ボイスランダム]
type = VarRandom
Trigger1 = time%11 = 4
v = 2
range = 1,3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time%11 = 4
trigger1 =var(2) = 1
channel = 0
value = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time%11= 4
trigger1 =var(2) = 2
channel = 0
value = 5,1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time%11 = 4
trigger1 =var(2) = 3
channel = 0
value = 5,2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time%6 = 5
value = 220, 4

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 8*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 210, ヒット定義]
type = HitDef
trigger1 = AnimElemtime(4) >= 0
trigger1 = time%8 = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 4, 0
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 0,-.4
air.hittime = 25-ceil(25*fvar(0))
fall.recover = 1
fall.recovertime = 25-ceil(25*fvar(0))
yaccel = .08
getpower = ceil(5+(5*(var(54)*.1)))
ground.cornerpush.veloff = 0
kill = 0

[State 220, エフェクト]
type = Explod
trigger1 = movehit = 2
anim = 6002
pos = -20,-75
random = 0,50
postype = p2
id = 220
ignorehitpause = 1
sprpriority = 6
ownpal = 1
scale = 0.5,0.5

[State 220, エフェクト]
type = Explod
trigger1 = animelem = 4
anim = 222
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 1
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 220

[State 220, エフェクト]
type = Explod
trigger1 = animelem = 4
anim = 223
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 220

[State 220, ステート変更]
type = ChangeState
triggerall = var(15) = 0
trigger1 = AnimTime = 0
value = 225
ctrl = 1

[State 220, 変数]
type = VarSet
triggerall = time > 10
trigger1 = command = "aaaa"
var(15) = 1

[State 220, ステート変更]
type = ChangeState
triggerall = var(15) = 1
trigger1 = animtime = 0
value = 221
ctrl = 0

[State 220, 変数]
type = VarSet
trigger1 = animtime = 0
var(15) = 0

;---------------------------------------------------------------------------
;リベ　三段目　EX　ミリオンスタブ
[Statedef 221]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 221
poweradd = 20
sprpriority = 2
facep2 = 1

[State 1000 ,同技補正用変数]
type = Varadd
trigger1 = movehit = 1
trigger1 = hitcount = 1
v = 39
value = 1

[State 1000 ,同技補正用変数]
type = Varset
trigger1 = var(39) = 3
fv = 0
value = .2

[State 1000 ,同技補正用変数]
type = Varset
trigger1 = var(39) > 3
fv = 0
value = 1

[State 200 ,ボイスランダム]
type = VarRandom
Trigger1 = time%11 = 4
v = 2
range = 1,3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time%11 = 4
trigger1 =var(2) = 1
channel = 0
value = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time%11= 4
trigger1 =var(2) = 2
channel = 0
value = 5,1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time%11 = 4
trigger1 =var(2) = 3
channel = 0
value = 5,2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time%6 = 5
value = 220, 4

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 8*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 221, ヒット定義]
type = HitDef
trigger1 = time%8 = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 5, 0
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 0,-.4
air.hittime = 25-ceil(25*fvar(0))
fall.recover = 0
fall.recovertime = 30-ceil(30*fvar(0))
yaccel = .08
getpower = ceil(5+(5*(var(54)*.1)))
ground.cornerpush.veloff = 0
kill = 0

[State 221, エフェクト]
type = Explod
trigger1 = movehit = 2
anim = 6002
pos = 0,-75
random = 0,50
postype = p2
id = 221
ignorehitpause = 1
sprpriority = 6
ownpal = 1
scale = 0.5,0.5

[State 221, 変数]
type = VarSet
triggerall = time > 10
trigger1 = command = "aaaa"
var(15) = 1

[State 221, 変数]
type = VarSet
trigger1 = time = 1
var(15) = 0

[State 211, エフェクト]
type = Explod
trigger1 = animelem = 2
anim = 222
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 1
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 221

[State 221, エフェクト]
type = Explod
trigger1 = animelem = 2
anim = 223
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 221

[State 221, 変数]
type = Varadd
trigger1 = animtime = 0
var(16) = 1

[State 221, ステート変更]
type = ChangeState
triggerall = var(15) = 1
trigger1 = animtime = 63
value = 221
ctrl = 0

[State 221, ステート変更]
type = ChangeState
trigger1 = var(15) = 0
trigger1 = Animtime = 0
trigger2 = animtime = 0 && var(16) = 2 && fvar(39) < 200
trigger3 = animtime = 0 && var(16) = 3 && fvar(39) < 400
trigger4 = animtime = 0 && var(16) = 4 && fvar(39) < 600
trigger5 = animtime = 0 && var(16) = 5 && fvar(39) < 800
value = 225
ctrl = 0

[State 221, 変数]
type = VarSet
trigger1 = animtime = 0
var(15) = 0

[State 221, エフェクトを消す]
type = RemoveExplod
triggerall = var(15) =0
trigger1 = animtime = 0
ID = 221

;---------------------------------------------------------------------------

;リベ　三段目　EX　〆
[Statedef 225]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 225
poweradd = 20
sprpriority = 2
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 225, 0

[State 205, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 13
value = 6,4

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 75*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 215, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 45, 5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 40-ceil(40*fvar(0))
ground.hittime  = 40-ceil(40*fvar(0))
ground.velocity = -9,-4
fall = 1
fall.recover = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -9,-4
getpower = ceil(50+(50*(var(54)*.1)))

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 5
anim = 226
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 225

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 5
anim = 227
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 225

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 5
anim = 228
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 225

[State 1105]
type = envshake
trigger1 = animelem =5
time =4
freq = 80
ampl =-8

[State 225, ステート変更]
type = ChangeState
trigger1 = time < 14
trigger1 = command = "y"
trigger1 = command = "holddown"
value = 1000
ctrl = 0

[State 210, コントロール]
type = CtrlSet 
trigger1 = animelem = 15
value = 1

[State 225, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ギル　1段目
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 200 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 2
v = 2
range = 1,4

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 6,17

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =1
channel = 0
value = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =2
channel = 0
value = 5,1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =3
channel = 0
value = 5,2

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 30*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 20


[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 5

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃
damage = 30, 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 4
sparkno = 3
sparkxy = -10,-76
hitsound = s610, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 35-ceil(35*fvar(0))
ground.hittime  = 35-ceil(35*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
envshake.time = 10
envshake.ampl = 3
getpower = ceil(40+(40*(var(54)*.1)))


[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ギル　2段目
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2

[State 200 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 2
v = 2
range = 1,4

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 6,17

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =1
channel = 0
value = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =2
channel = 0
value = 5,1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =3
channel = 0
value = 5,2

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 30*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2
x = 15

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 15

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 25

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃
damage = 30, 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 4
sparkno = 3
sparkxy = -32,-96
hitsound = s610, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 35-ceil(35*fvar(0))
ground.hittime  = 35-ceil(35*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 30-ceil(30*fvar(0))
envshake.time = 10
envshake.ampl = 3
getpower = ceil(40+(40*(var(54)*.1)))


[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ギル　3段目
[Statedef 270]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 270
sprpriority = 2

[State 270 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 2
v = 2
range = 1,4

[State 270, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
value = 6,17

[State 270, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
trigger1 = var(2) =1
channel = 0
value = 5,0

[State 270, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
trigger1 = var(2) =2
channel = 0
value = 5,1

[State 270, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
trigger1 = var(2) =3
channel = 0
value = 5,2

[State 270 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 30*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 270, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 8
x = 15


[State 270, ヒット定義]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA ;立ち通常打撃
damage = 30, 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 4
sparkno = 3
sparkxy = -32,-111
hitsound = s610, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 35-ceil(35*fvar(0))
ground.hittime  = 35-ceil(35*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 1,-5
fall.recovertime = 35-ceil(35*fvar(0))
envshake.time = 10
envshake.ampl = 3
getpower = ceil(40+(40*(var(54)*.1)))


[State 270, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ギル　4段目
[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 310
sprpriority = 2

[State 310 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 2
v = 2
range = 1,3

[State 270, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
trigger1 = var(2) =1
value = 310,0

[State 270, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
trigger1 = var(2) =2
channel = 0
value = 310,1

[State 270, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
trigger1 = var(2) =3
channel = 0
value = 310,2

[State 270 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 30*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 270, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 15

[State 270, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 10

[State 270, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 11
x = 15

[State 270, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 12
x = 10


[State 270, ヒット定義]
type = HitDef
trigger1 = AnimElem = 11
attr = S, NA ;立ち通常打撃
damage = 30, 0
animtype = hard
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 4
sparkno = 3
sparkxy = -32,-111
hitsound = s610, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 35-ceil(35*fvar(0))
ground.hittime  = 35-ceil(35*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,7
fall.recovertime = 26-ceil(26*fvar(0))
envshake.time = 10
envshake.ampl = 3
getpower = ceil(40+(40*(var(54)*.1)))


[State 270, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ギル　3段目EX
[Statedef 290]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 290
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 7
trigger2 = animelem = 10
trigger3 = animelem = 13
trigger4 = animelem = 16
trigger5 = animelem = 19
trigger6 = animelem = 22
value = 6,17

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 7
trigger2 = animelem = 10
trigger3 = animelem = 13
trigger4 = animelem = 16
trigger5 = animelem = 19
trigger6 = animelem = 22
channel = 0
value = 5,2

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 30*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 27
x = 10

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 5

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 10

[State 221, エフェクト]
type = Explod
trigger1 = animelem = 7
anim = 291
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ignorehitpause = 0
ID = 290

[State 200, ヒット定義]
type = HitDef
trigger1 = animelem = 7
trigger2 = animelem = 10
trigger3 = animelem = 13
trigger4 = animelem = 16
trigger5 = animelem = 19
trigger6 = animelem = 22
attr = S, NA ;立ち通常打撃
damage = 10, 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 3
sparkxy = -10,-76
hitsound = s610, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 34-ceil(34*fvar(0))
ground.hittime  = 34-ceil(34*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
air.hittime = 20-ceil(20*fvar(0))
envshake.time = 10
envshake.ampl = 3
getpower = ceil(40+(40*(var(54)*.1)))


[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ギル　4段目EX
[Statedef 330]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 330
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
trigger2 = animelem = 11
value = 6,17

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 30*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 240, 0]
type = velset
trigger1 = AnimElemTime(5) = 2
x = 8

[State 200, ヒット定義]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
damage = 25, 0
animtype = hard
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 3
sparkxy = -10,-76
hitsound = s610, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4,-1
fall.recovertime = 26-ceil(26*fvar(0))
envshake.time = 10
envshake.ampl = 3
getpower = ceil(40+(40*(var(54)*.1)))

[State 200, ヒット定義]
type = HitDef
trigger1 = animelem = 11
attr = S, NA
damage = 30, 0
animtype = hard
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 3
sparkxy = -10,-76
hitsound = s610, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -5,0
fall = 1
fall.recover = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4,-1
fall.recovertime = 26-ceil(26*fvar(0))
envshake.time = 10
envshake.ampl = 3
getpower = ceil(40+(40*(var(54)*.1)))

[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ルシ　1段目
[Statedef 350]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 350
sprpriority = 2

[State 200 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 2
v = 2
range = 1,4

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =1
channel = 0
value = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =2
channel = 0
value = 5,1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =3
channel = 0
value = 5,2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 620,0

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 25

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 5

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 6
x = 5

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 12
x = 10

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 15*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 3
anim = 351
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 350

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA 
damage = 15, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2,2
sparkno = -1
sparkxy = -10,-76
hitsound = -1, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(20+(20*(var(54)*.1)))

[State 620 ,]
type = velset
trigger1 = hitcount = 1
v = 43
value = (random%10)
[State 620 ,]
type = velset
trigger1 = hitcount = 1
v = 44
value = (random%30)


[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 350
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 351
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ルシ　2段目
[Statedef 355]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 355
sprpriority = 2

[State 620 ,剣本数管理]
type = Varadd
triggerall = movehit = 1
trigger1 = hitcount = 1
v = 17
value = ifelse(var(17) < 15,1,0)

[State 200 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 2
v = 2
range = 1,4

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =1
channel = 0
value = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =2
channel = 0
value = 5,1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) =3
channel = 0
value = 5,2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 620,0

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 25

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 5

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 6
x = 5

[State 230, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 12
x = 10

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 15*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 4
anim = 356
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 355

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA 
damage = 15, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2,2
sparkno = -1
sparkxy = -10,-76
hitsound = -1, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(20+(20*(var(54)*.1)))

[State 620 ,]
type = velset
trigger1 = hitcount = 1
v = 43
value = (random%10)
[State 620 ,]
type = velset
trigger1 = hitcount = 1
v = 44
value = (random%30)

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 350
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 351
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;ルシ　3段目
[Statedef 360]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 360
sprpriority = 2

[State 240, 0]
type = velset
trigger1 = AnimElem = 1
x = 5

[State 200 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 2
v = 2
range = 1,4

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 620,0

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 15*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 4
anim = 361
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 361

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA 
damage = 15, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2,2
sparkno = -1
sparkxy = -10,-76
hitsound = -1, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(20+(20*(var(54)*.1)))

[State 620 ,]
type = velset
trigger1 = hitcount = 1
v = 43
value = (random%10)
[State 620 ,]
type = velset
trigger1 = hitcount = 1
v = 44
value = (random%30)

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 350
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 351
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ルシ　4段目
[Statedef 365]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 365
sprpriority = 2

[State 240, 0]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 620 ,剣本数管理]
type = Varadd
triggerall = movehit = 1
trigger1 = hitcount = 1
trigger2 = hitcount = 2
v = 17
value = ifelse(var(17) < 15,1,0)

[State 200 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 2
v = 2
range = 1,4

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 620,0

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 15*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 5
anim = 366
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 366

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = animelem = 6
attr = S, NA 
damage = 10, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2,2
sparkno = -1
sparkxy = -10,-76
hitsound = -1, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(20+(20*(var(54)*.1)))

[State 620 ,]
type = velset
trigger1 = hitcount = 1
trigger2 = hitcount = 2
v = 43
value = (random%10)
[State 620 ,]
type = velset
trigger1 = hitcount = 1
v = 44
value = (random%30)

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
trigger2 = hitcount = 2
id = 350
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 351
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 2
id = 352
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 2
id = 353
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ルシ　〆段目
[Statedef 370]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 22
ctrl = 0
velset = 0,0
anim = 370
sprpriority = 2

[State 240, 0]
type = velset
trigger1 = AnimElem = 2
x = 5

[State 240, 0]
type = velset
trigger1 = AnimElem = 39
x = 5

[State 240, 0]
type = velset
trigger1 = AnimElem = 44
x = 5

[State 240, 0]
type = velset
trigger1 = AnimElem = 54
x = 8

[State 620 ,剣本数管理]
type = Varadd
triggerall = movehit = 1
trigger1 = hitcount = 1
trigger2 = hitcount = 2
trigger3 = hitcount = 4
trigger4 = hitcount = 6
v = 17
value = ifelse(var(17) < 15,1,0)

[State 620 ,剣本数管理]
type = Varadd
triggerall = movehit = 1
trigger1 = hitcount = 9
v = 17
value = ifelse(var(17) <13,3,ifelse(var(17) <14,2,ifelse(var(17) = 14,1,0)))

[State 200 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 2
v = 2
range = 1,4

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4;
trigger2 = AnimElem = 10
trigger3 = AnimElem = 14
trigger4 = AnimElem = 17
trigger5 = AnimElem = 21
trigger6 = AnimElem = 25
trigger7 = AnimElem = 40
trigger8 = AnimElem = 46
trigger9 = AnimElem = 56
value = 620,0

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 15*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 5
anim = 371
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 371

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 5
anim = 373
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 371

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 41
anim = 374
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 371

[State 225, エフェクト]
type = Explod
trigger1 = animelem = 56
anim = 372
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 372

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 15
trigger4 = AnimElem = 18
trigger5 = AnimElem = 22
trigger6 = AnimElem = 41
trigger7 = AnimElem = 47
attr = S, NA 
damage = 10, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2,2
sparkno = -1
sparkxy = -10,-76
hitsound = -1, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 40-ceil(40*fvar(0))
ground.hittime  = 40-ceil(40*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(20+(20*(var(54)*.1)))

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 26
attr = S, NA 
damage = 10, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2,2
sparkno = -1
sparkxy = -10,-76
hitsound = -1, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 60-ceil(60*fvar(0))
ground.hittime  = 60-ceil(60*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(20+(20*(var(54)*.1)))

[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 57
attr = S, NA
damage = 40, 0
animtype = UP
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = S4, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 26-ceil(25*fvar(0))
ground.hittime  = 26-ceil(25*fvar(0))
air.hittime = 45-ceil(45*fvar(0))
ground.velocity = -1,-12
fall = 1
fall.recover = 1
fall.recovertime = 45-ceil(44*fvar(0))
yaccel = .5
airguard.velocity = -1.9,-.12
air.type = High
air.velocity = -1,-12
getpower = ceil(20+(20*(var(54)*.1)))

[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;_____________________________custom
;custom

--------------------------------------------------------------------------------
;しゃがみ弱
[Statedef 400]
type    = C
movetype= A
physics = C
ctrl = 0
anim = ifelse(facing = 1,400,401)
facep2 = 1

;基底補正
[State 400, 変数]
type =varset
trigger1= movehit= 1
trigger1= var(53) < 15
var(53)=15

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 6, 14

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 5*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[state 4100 ,エフェクト]
type = Helper
trigger1 = animelem = 3
id = 811
name = "hibana"
pos = -15, -45
Postype = p1
stateno = 811
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 400, ヒット定義]
type = HitDef
trigger1 = animelem = 3
attr = C, NA 
damage    = 7
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 2,5
sparkno = 0
sparkxy = -20,-6
hitsound   = S-1,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 16
ground.velocity = 0
air.velocity = -1.5,-3
air.hittime = 20-ceil(20*fvar(0))
getpower = ceil(15+(15*(var(54)*.1)))

[State 400, ステート変更]
type = ChangeState
triggerall = time > 10
trigger1 = command = "a" && command = "holddown"
value = 405
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "holddown" && command = "x"
value = 410
ctrl = 0 

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ弱追加
[Statedef 405]
type    = C
movetype= A
physics = C
ctrl = 0
anim = ifelse(facing = 1,405,406)
facep2 = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 6, 14

[State 200 ,変数]
type = Varadd
trigger1 = time= 0
v = 25
value = 1

[state 4100 ,エフェクト]
type = Helper
trigger1 = animelem = 1
id = 811
name = "hibana"
pos = -15, -45
Postype = p1
stateno = 811
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 400, ヒット定義]
type = HitDef
trigger1 = animelem = 1
attr = C, NA 
damage    = 7
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 2,5
sparkno = 0
sparkxy = -20,-6
hitsound   = S-1,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 16
ground.velocity = 0
air.velocity = -1.5,-3
air.hittime = 20-ceil(20*fvar(0))
getpower = ceil(15+(15*(var(54)*.1)))

[State 221, ステート変更]
type = ChangeState
triggerall = command = "a" && command = "holddown" && time > 10
trigger1 = var(25) < 2
trigger2 = var(25) < 2 && fvar(39) > 200
trigger3 = var(25) < 3 && fvar(39) > 400
trigger4 = var(25) < 4 && fvar(39) > 600
trigger5 = var(25) < 5 && fvar(39) > 700
value = 405
ctrl = 0

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
--------------------------------------------------------------------------------
;ビーストアッパー
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
ctrl = 0
anim = 410
sprpriority = 2

[State 410 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 1
v = 2
range = 1,2

[State 410, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = var(2) = 1
channel = 0
value = 5,7

[State 410, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = var(2) = 2
channel = 0
value = 5,8

[State 410, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 13

[State 410, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 14

[State 410, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 11
x = 3

[State 410, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 12
x = 6

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 30*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 410, ヒット定義]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 40,0
animtype = Hard
guardflag = M
hitflag = MAF
air.animtype = up
fall.animtype = up
hitsound = s610,0
guardsound = S-1,0
pausetime = 6,6
sparkno = 3
guard.sparkno = S-1
sparkxy = -10,-100
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 19
ground.velocity = -2.5,0
guard.velocity = -8
air.velocity = -1, -10
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall.recovertime = 50
fall.recover = 0
yaccel = .5
givepower = 35, 35
envshake.time = 10
envshake.ampl = 3
getpower = ceil(50+(50*(var(54)*.1)))


[State 410, コントロール]
type = statetypeSet
trigger1 = animelem = 5
statetype = S
physics = S

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit =1 && command = "x"
value = 230
ctrl = 0 


[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------------

;ヘルムブレイカー
[Statedef 600]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 11
ctrl = 0
facep2   = 1
anim = 600
velset = 0,0


[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 6,0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
channel = 0
value = 5,3

[State 600, エフェクト]
type = Explod
trigger1 = animelem = 4
anim = 601
facing = 1
postype = p1
scale = 0.5,0.5
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1
removetime = -1 
removeongethit = 1
ID = 600

[State 600, 変数];高さ
type = Varset
trigger1 = time = 0
v = 12
value = ceil(pos Y)

[State 600, 速度]
type = velset
trigger1 = time = 3
x = 0
Y = 0.5

[State 600, 速度]
type = velset
trigger1 = animelem = 5
x = 0
Y = 9

[State 600, 速度]
type = velset
trigger1 = animelem = 7
x = 0
Y = 16

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 10*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 600, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 15,0
animtype = hard
guardflag = HA
hitflag = MAF
air.animtype = back
fall.animtype = back
hitsound = S4, 0
guardsound = S6,0
pausetime = 3,5
sparkno = 3
sparkxy = -10,-30
ground.type = High
ground.slidetime = 10-ceil(10*fvar(0))
ground.hittime  = 12-ceil(12*fvar(0))
guard.ctrltime = 20
ground.velocity = -4,0
guard.velocity = -8
air.velocity = 0, 16
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
yaccel = .5
givepower = 30, 0
envshake.time = 10
envshake.ampl = 3
getpower = ceil(30+(30*(var(54)*.1)))

[state 600 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 600
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6000
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 600, ステート変更]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 602

;---------------------------------------------------------------------------
;ヘルムブレイカー（着地）
[Statedef 602]
type    = S
physics = N
movetype = A
ctrl = 0
anim = 602
velset = 0,0

[State 602, 0]
type = EnvShake
trigger1 = time = 0
time = 6
ampl = -7
freq = 120

[State 602, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 600, 1

[State 602, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 600, 2

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 20*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 602, エフェクト]
type = Explod
trigger1 = animelem = 1
anim = 603
facing = 1
postype = p1
pos = 120,0
scale = 0.5,0.5
sprpriority = 1
ontop = 1
ownpal = 1
bindtime = 1
removeongethit = 1
ID = 602

[State 602, ヒット定義]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage = 20-(var(12)/8)
animtype = Heavy
guardflag = HA
hitflag = MAFD
air.animtype = back
fall.animtype = back
hitsound = S4, 0
guardsound = S6,0
pausetime = 3,4
sparkno = 3
sparkxy = -10,-20
ground.type = High
ground.slidetime = 20-ceil(20*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
guard.ctrltime = 20
ground.velocity = -2.5,8
guard.velocity = -8
air.velocity = -2.5, 8
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -12
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.bounce = 1
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
envshake.time = 10
envshake.ampl = 3
getpower = ceil(30+(30*(var(54)*.1)))

[state 600 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 600
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6000
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 602, StateTypeSet]
type = StateTypeSet
trigger1 = Animelem = 2
movetype = I

[State 602, 移動]
type = PosSet
trigger1 = Time = 0
y = 0

[State 602, コントロール]
type = CtrlSet
trigger1 = Animelem = 7
value = 1

[State 602, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;フルハウス(キラービー)
[Statedef 610]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 50
ctrl = 0
facep2   = 1
anim = 610
velset = 0,0

[State 610 ,同技補正用変数]
type = Varadd
trigger1 = movehit = 1
v = 32
value = 1

[State 610 ,同技補正用変数]
type = Varset
trigger1 = var(32) = 4
fv = 0
value = .2

[State 610 ,同技補正用変数]
type = Varset
trigger1 = var(32) > 4
fv = 0
value = 1

[State 610, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 610, 1

[State 610, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 610, 2

[State 610, エフェクト]
type = Explod
trigger1 = animelem = 1
anim = 611
facing = 1
postype = p1
scale = 0.5,0.5
pos = 0,-10
sprpriority = 3
ownpal = 1
ontop = 1
removeongethit = 1
ID = 610


[State 610, エフェクト]
type = Explod
trigger1 = animelem = 5
anim = 613
facing = 1
postype = p1
scale = 0.5,0.5
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1
ontop = 1
removetime = -1 
removeongethit = 1
ID = 610

[State 610, エフェクト]
type = Explod
trigger1 = animelem = 5
anim = 614
facing = 1
postype = p1
scale = 0.5,0.5
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = 1
ontop = 1
removeongethit = 1
ID = 610

[State 610, エフェクト]
type = Explod
trigger1 = animelem = 5
anim = 616
facing = 1
postype = p1
scale = 0.5,0.5
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = 1
ontop = 1
removeongethit = 1
ID = 610

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 30*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 610, ヒット定義]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 50,0
animtype = Heavy
guardflag = HA
hitflag = MAF
air.animtype = back
fall.animtype = back
hitsound = s610,0
guardsound = 6,0
pausetime = 5,6
sparkno = 3
sparkxy = -10,-20
ground.type = High
ground.slidetime = 25-ceil(25*fvar(0))
ground.hittime  = 40-ceil(25*fvar(0))
air.hittime = 60-ceil(20*fvar(0))
guard.ctrltime = 20
ground.velocity = -2.5,0
guard.velocity = -8
air.velocity = -2, -5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall.recovertime = 60-ceil(60*fvar(0))
down.bounce = 1
fall.recover = 1
yaccel = .5
givepower = 35, 35
envshake.time = 10
envshake.ampl = 3
getpower = ceil(40+(40*(var(54)*.1)))

[State 610, 速度]
type = velset
trigger1 = animelem = 4
x = 12
Y = 12

[State 610, ステート変更]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 615
;---------------------------------------------------------------------------
;キラービー（着地）
[Statedef 615]
type    = S
physics = S
movetype = I
ctrl = 0
anim = 615
velset = 0,0

[State 615, 近距離移動]
type = Posset
trigger1 = time = 0
y = 0

[State 610, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 610, 3

[State 615, エフェクト]
type = Explod
trigger1 = animelem = 1
anim = 612
facing = 1
postype = p1
scale = 0.5,0.5
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1
ontop= 1
removeongethit = 1
ID = 615

[State 615, 速度]
type = velset
trigger1 = animelem = 1
x = 3
Y = 0

[State 615, 速度]
type = velset
trigger1 = animelem = 2
x = 2
Y = 0

[State 615, 速度]
type = velset
trigger1 = animelem = 3
x = 0
Y = 0

[State 615, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 615, コントロール]
type = CtrlSet 
trigger1 = animelem = 7
value = 1

[State 615, コントロール]
type = statetypeSet
trigger1 = animelemtime(7) >= 0
movetype = I

;---------------------------------------------------------------------------
;ルシ　空中
[Statedef 620]
type    = A
physics = A
movetype = A
facep2   = 1
ctrl = 0
anim = 620
velset = 3,-7
poweradd = 55

[State 620 ,同技補正用変数]
type = Varadd
trigger1 = movehit = 1
trigger1 = hitcount = 1
v = 33
value = 1

[State 620 ,剣本数管理]
type = Varadd
triggerall = movehit = 1
trigger1 = hitcount = 1
trigger2 = hitcount = 2
v = 17
value = ifelse(var(17) < 15,1,0)

[State 620 ,剣本数管理]
type = Varadd
triggerall = movehit = 1
trigger1 = hitcount = 4
v = 17
value = ifelse(var(17) <14,2,ifelse(var(17) = 14,1,0))

[State 620 ,同技補正用変数]
type = Varset
trigger1 = var(33) = 3
fv = 0
value = .2

[State 620 ,同技補正用変数]
type = Varset
trigger1 = var(33) > 3
fv = 0
value = 1

[State 620, 速度加算]
type = VelAdd
trigger1 = 1
y = -.2

[State 620, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 8
value = 620, 0

[State 620, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 15
value = 620, 1

[State 620, 速度]
type = velset
trigger1 = animelem = 15
x = 2
Y = -6


[State 620, 速度加算]
type = VelAdd
trigger1 = time > 33
y = .3

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 15*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 620 ,]
type = velset
trigger1 = hitcount = 1
trigger2 = hitcount = 2
trigger3 = hitcount = 3
trigger4 = hitcount = 4
v = 43
value = (random%10)
[State 620 ,]
type = velset
trigger1 = hitcount = 1
trigger2 = hitcount = 2
trigger3 = hitcount = 3
trigger4 = hitcount = 4
v = 44
value = (random%30)

[State 610, ヒット定義]
type = HitDef
trigger1 = animelem = 3 || animelem = 8
attr = A, NA
damage = 15,0
animtype = Heavy
guardflag = HA
hitflag = MAF
air.animtype = back
fall.animtype = back
hitsound = s610,0
guardsound = S-1,0
pausetime = 2,3
sparkno = S-1
guard.sparkno = S-1
sparkxy = -10,-20
ground.type = High
ground.slidetime = 25-ceil(25*fvar(0))
ground.hittime  = 25-ceil(25*fvar(0))
air.hittime = 24-ceil(24*fvar(0))
guard.ctrltime = 20
ground.velocity = -2.5,0
guard.velocity = -8
air.velocity = -2, -4
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.hittime = 28
down.bounce = 1
fall.recover = 1
air.fall = 1
fall.recovertime = 24-ceil(24*fvar(0))
yaccel = .5
givepower = 35, 35
envshake.time = 10
envshake.ampl = 3
forcestand = 1
getpower = ceil(20+(20*(var(54)*.1)))

[State 610, ヒット定義]
type = HitDef
trigger1 = animelem = 15
attr = A, NA
damage = 20,0
animtype = Heavy
guardflag = HA
hitflag = MAF
air.animtype = back
fall.animtype = back
hitsound = s610,0
guardsound = S-1,0
pausetime = 2,3
sparkno = S-1
guard.sparkno = S-1
sparkxy = -10,-20
ground.type = High
ground.slidetime = 25-ceil(25*fvar(0))
ground.hittime  = 25-ceil(25*fvar(0))
air.hittime = 28-ceil(28*fvar(0))
guard.ctrltime = 20
ground.velocity = -2.5,0
guard.velocity = -8
air.velocity = -2, -5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.bounce = 1
fall.recover = 1
fall.recovertime = 28-ceil(28*fvar(0))
air.fall = 1
yaccel = .5
givepower = 35, 35
envshake.time = 10
envshake.ampl = 3
forcestand = 1
numhits = 2
getpower = ceil(40+(40*(var(54)*.1)))

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 620
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 621
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 2
id = 622
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 2
id = 623
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 3
id = 624
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 3
id = 625
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 4
id = 624
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 200 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 4
id = 625
name = "hit"
pos = -5+(var(43)), -70-(var(44))-Ceil(P2BodyDist Y)
Postype = p2
stateno = 6003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 620, コントロール]
type = CtrlSet 
trigger1 = time > 55
value = 1


;---------------------------------------------------------------------------
;パンドラ空中
[Statedef 630]
type    = A
movetype= A
physics = N
ctrl = 0
facep2   = 1
anim = 630
sprpriority = 2
poweradd = 20

[State 630 ,同技補正用変数]
type = Varadd
trigger1 = time = 0
v = 36
value = 1

[State 630 ,同技補正用変数]
type = Varset
trigger1 = var(36) = 3
fv = 0
value = 0

[State 630 ,同技補正用変数]
type = Varset
trigger1 = var(36) > 4
fv = 0
value = 1

[State 630]
type = statetypeset
physics = N
trigger1 = Time = 0

[State 630, 移動]
type = velset
trigger1 = time = 0
trigger1 = var(5) = 0
x = 0

[State 630, 移動]
type = velset
trigger1 = time = 0
y = -7

[State 630, 移動]
type = veladd
trigger1 = time < 21
y = .5

[State 630, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = time < 21
value = 52

[State 630]
type = statetypeset
physics = A
trigger1 = Time = 21

[state 630 ヒット回数]
type = varset
trigger1 = (MoveContact = 1)
var(13) = (var(13)+1)

[State 630, 音を鳴らす]
type = PlaySnd
trigger1 = time%5 = 0
value = 630, 0

[State 630, エフェクト]
type = Explod
trigger1 = animelem = 4
anim = 631
facing = 1
postype = p1
scale = 0.25,0.25
pos = 62,-27
sprpriority = 3
ownpal = 1
bindtime = -1
ontop= 1 
removeongethit = 1
ID = 630

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 10*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 630, ヒット定義]
type = HitDef
trigger1 = time%5 = 0
attr = S, NP
damage    = 5
guardflag = HA
hitflag = MAF
priority = 4
pausetime = 0,0
sparkno = 1
sparkxy = -10,-30
hitsound   = 5,3
guardsound = 6,0
animtype = Med
ground.type = high
ground.slidetime = 10-ceil(6*fvar(0))
ground.hittime  = 20-ceil(6*fvar(0))
air.hittime = 32-ceil(32*fvar(0))
ground.velocity = -2
ground.cornerpush.veloff =-2
guard.cornerpush.veloff = -2
air.velocity = 0,-2
airguard.ctrltime = 20
air.cornerpush.veloff = -2
airguard.cornerpush.veloff = -3
air.fall = 1
fall.recover = 1
fall.recovertime = 32-ceil(32*fvar(0))
yaccel = .3
getpower = ceil(15+(15*(var(54)*.1)))


;---------------------------------------------------------------------------
;ショットガン
[Statedef 640]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 640
facep2 = 1
poweradd = 50

[state 640]
type = velset
trigger1 = animelem = 3
x = 0
y = -5

[State 610 ,同技補正用変数]
type = Varadd
trigger1 = movehit = 1
v = 37
value = 1

[State 610 ,同技補正用変数]
type = Varset
trigger1 = var(37) = 3
fv = 0
value = .2

[State 610 ,同技補正用変数]
type = Varset
trigger1 = var(37) > 3
fv = 0
value = 1

[State 640, ぶつかり]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (5) < 0)
value = 20,0

[State 4060, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 6,18

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 10*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 630, エフェクト]
type = Explod
trigger1 = animelem = 3
anim = 641
facing = 1
postype = p1
scale = .5,.5
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1
ontop= 1 
removeongethit = 1
ID = 641

[State 4600, ヒット定義]
type = HitDef
trigger1 = animelem = 3
attr = S, NP
damage = 55, 0
animtype = UP
guardflag = HA
hitflag = MAFP
priority = 3, Hit
pausetime = 2,4
sparkno = 3
sparkxy = -20,-140
hitsound = S10000, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 18-ceil(18*fvar(0))
ground.hittime  = 26-ceil(26*fvar(0))
air.hittime = 12-ceil(12*fvar(0))
ground.velocity = -8,-2
airguard.velocity = -1.9,-.8
air.velocity = -8,-2
fall = 1
fall.recover = 0
fall.recovertime = 45-ceil(44*fvar(0))
yaccel = .5
ground.cornerpush.veloff = 0
getpower = ceil(30+(30*(var(54)*.1)))

;---------------------------------------------------------------------------
;投げ　マスタング
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
attr = S, NT ;立ち通常投げ（Standing, Normal Throw）
hitflag = M-  ;マイナスが付加されてるので相手が食らい中の時は掴めない
priority = 1, Miss
sparkno = -1  ;-1だからヒットスパークは表示しない
p1sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 810
p2stateno = 820
guard.dist = 0 ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;投げ成功(ボタン押し)
[Statedef 810]
type    = S
movetype= A
physics = N
anim =ifelse(Facing = 1,810,811)
poweradd = 60

;基底補正
[State 400, 変数]
type =varset
trigger1= time = 0
trigger1= var(53) < 35
var(53)=35

[State 810, 変数]
type = VarSet
trigger1 = Time = 0
var(3) = command = "holdback"

[State 810, アニメ変更　右]
type = ChangeAnim
trigger1 = Facing = 1
trigger1 = Time = 0
trigger1 = var(3)
value = 811

[State 810, アニメ変更　左]
type = ChangeAnim
trigger1 = Facing = -1
trigger1 = Time = 0
trigger1 = var(3)
value = 810

[State 810, 振り返る]
type = Turn
trigger1 = var(3)
trigger1 = AnimElem = 1

[State 810, 掴んだ相手の向き]
type = TargetFacing
trigger1 = var(3)
trigger1 = AnimElem = 1
value = -1

[State 810, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000, 1

[State 810, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 47, 1

[State 810, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = 41, 0

[State 810, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 11
trigger3 = AnimElem = 15
value = 6,15

[state 4100 ,エフェクト]
type = Helper
trigger1 = animelem = 8
id = 811
name = "hibana"
pos = 12, -112
Postype = p1
stateno = 811
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = animelem = 11
id = 811
name = "hibana"
pos = -8, -123
Postype = p1
stateno = 811
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = animelem = 15
id = 811
name = "hibana"
pos = 12, -112
Postype = p1
stateno = 811
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 810, 状態変更]
type = StateTypeSet
trigger1 = animelem = 6
statetype = A
physics = A

[State 810, 速度]
type = velset
trigger1 = animelem = 6
x = -6
Y = -4

[State 810,移動]
type = Posadd
trigger1 = animelem = 6
x = 25

[State 810,移動]
type = Posset
trigger1 = animelem = 6
y = -80

[State 810, 状態変更]
type = StateTypeSet
trigger1 = animelem = 8
physics = N

[State 810, 速度]
type = velset
trigger1 = animelem = 8
x = -.1
Y = .1

[State 810, 状態変更]
type = StateTypeSet
trigger1 = animelem = 21
physics = A

[State 810, 掴んだ相手の位置反転]
type = TargetBind
trigger1 = var(3)
trigger1 = AnimElemTime(6) < 0
pos = -28, 0  ;自分の軸位置から相手の軸をX=28・Y=0の位置にする

[State 810, 掴んだ相手の位置１];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) < 0
pos = 28, 0  ;自分の軸位置から相手の軸をX=28・Y=0の位置にする

;相手が食らい状態の時のみ機能するTarget系コントローラ
[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 12
value = -15

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = AnimElem = 16
value = -40

[State 810, 掴んだ相手のステート変更]
type = TargetState
trigger1 = AnimElem = 18
value = 821

[State 810, 変数]
type = varset
trigger1 = animelem  = 4
var(4) =! command = "hold-y"

[State 810, 掴んだ相手のステート変更]
type = TargetState
trigger1 = var(4)
trigger1 = AnimElem = 5
value = 825

[State 810, ステート変更]
type = ChangeState
trigger1 =var(4)
Trigger1 = Animelem = 5
value = 815
ctrl = 0



;---------------------------------------------------------------------------
;投げ成功(ボタン離し)
[Statedef 815]
type    = S
movetype= A
physics = N
anim = 815
poweradd = 0

;基底補正
[State 400, 変数]
type =varset
trigger1= time = 0
trigger1= var(53) < 20
var(53)=20

[State 810, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 41, 0

[State 810, 状態変更]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
physics = A

[State 810, 速度]
type = velset
trigger1 = animelem = 2
Y = -4

[State 810,移動]
type = Posadd
trigger1 = animelem = 2
x = 25

[State 810,移動]
type = Posset
trigger1 = animelem = 2
y = -80

[State 200, コントロール]
type = CtrlSet 
trigger1 = animelem = 4
value = 1
;---------------------------------------------------------------------------
:投げ エフェクト1
[Statedef 811]
type = A
ctrl = 0
anim = 4001
velset = 0,0
movetype = A
physics = N
sprpriority = 7


[state 811,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 811,スケール]
type = angledraw
trigger1 = 1
scale = .7,.7

[state 811,透過]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[state 811,角度]
type = angleset
trigger1 = time = 0
value = -30

[State 811, 消滅]
type=destroyself
trigger1= time = 4


;---------------------------------------------------------------------------
; こっちは制御を奪った相手の食らいステート。
; 相手の制御を解く場合、「ChangeState」のコントローラにしてしまうと
;「相手が制御を奪われた状態のままになるバグ」が発生してしまう。
; なので必ず『SelfState』で相手のステートに戻し、制御を解除しないといけない。
; そこさえ注意しておけば、自由に相手の食らいモーションを設定出来る。
;
; デバッグ表示中に相手の情報の一部の文字が黄色になったら、それが
; P2StateNoやTargetStateで制御を奪われた状態の証。
; 投げが成功したらCtrl+Dで相手側の情報を確認だ！m9っ｀Д´)
;---------------------------------------------------------------------------
;マスタング：相手側1
[Statedef 820]
type    = S
movetype= H
physics = S
velset = 0,0

[State 810, 速度]
type = velset
trigger1 = time = 23
x = -6

[State 820, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 820


;---------------------------------------------------------------------------
; ※３：GetHitVar
;
; 　食らってしまった『相手の攻撃の効果』を
; 　自分側が「特殊な変数」に変換して判断するトリガー。
;　「GetHitVar(**)」の『**』に該当する、予め決められているパラメータを全て紹介。
;
; 　大概「相手のHitDefとProjectileのパラメータ」から引き出すので、かなり多い（苦笑
;
;
; 　XVelAdd             = 自分が負けて吹っ飛んだ時の「Ｘ軸方向の加速度(float)」を計測する
; 　YVelAdd             = 自分が負けて吹っ飛んだ時の「Ｙ軸方向の加速度(float)」を計測する
; 　Type                = 自分の「食らいアニメの種類」。（0=None・1=High・2=Low・3=Trip）
; 　AnimType            = 相手のHitDefに設定されている「animtype」を判断する
;                        （0=Light・1=Medium・2=Hard・3=Back・4=Up・5=DiagUp）
; 　GroundType          = 相手のHitDefに設定されている「ground.type」を判断する
; 　AirType             = 相手のHitDefに設定されている「air.type」を判断する
;
; 　Damage              = 相手から食らってしまった「ダメージ量」を計測する
; 　HitCount            = 相手の「現在のヒット数」を計測する
; 　FallCount           = 自分が「地面に激突した回数」を判断する
; 　HitShakeTime        = 自分の「ヒット硬直時間」を計測する
; 　HitTime             = 自分の「食らい時間」を計測する
; 　SlideTime           = 相手のHitDefに設定されている「slidetime」を判断する
; 　CtrlTime            = 相手のHitDefに設定されている「(air)guard.ctrltime」を判断する
; 　RecoverTime         = 横に倒れている時の「起き上がるまでの時間」を判断する
;
; 　XOff                = 相手のHitDefに設定されている「"snap"のＸ軸」を判断する（非推奨）
; 　YOff                = 相手のHitDefに設定されている「"snap"のＹ軸」を判断する（非推奨）
; 　ZOff                = 相手のHitDefに設定されている「"snap"のＺ軸」を判断する？（存在しないので無意味）
;
; 　XVel                = 相手のHitDefに設定されている「Ｘ軸の食らい状態の移動速度」を判断する
; 　YVel                = 相手のHitDefに設定されている「Ｙ軸の食らい状態の移動速度」を判断する
; 　YAccel              = 相手のHitDefに設定されている「yaccel」を判断する
; 　chainID             = 相手のHitDefに設定されている「chainID」を判断する
; 　Guarded             =「相手のコンボでの最後の攻撃をガードした場合」を判断する
; 　IsBound             =「TargetBindで掴まれてる状態」を判断する
;
; 　Fall                = 相手のHitDefに設定されている「fall」を判断する
; 　Fall.Damage         = 相手のHitDefに設定されている「fall.damage」を判断する
; 　Fall.XVel           = 相手のHitDefに設定されている「fall.xvelocity」を判断する
; 　Fall.YVel           = 相手のHitDefに設定されている「fall.yvelocity」を判断する
; 　Fall.Recover        = 相手のHitDefに設定されている「fall.recover」を判断する
; 　Fall.RecoverTime    = 相手のHitDefに設定されている「fall.recovertime」を判断する
; 　Fall.Kill           = 相手のHitDefに設定されている「fall.kill」を判断する
; 　Fall.EnvShake.Time  = 相手のHitDefに設定されている「fall.envshake.time」を判断する
; 　Fall.EnvShake.Freq  = 相手のHitDefに設定されている「fall.envshake.freq」を判断する
; 　Fall.EnvShake.Ampl  = 相手のHitDefに設定されている「fall.envshake.ampl」を判断する
; 　Fall.EnvShake.Phase = 相手のHitDefに設定されている「fall.envshake.phase」を判断する
;
;---------------------------------------------------------------------------
;マスタング：相手側2
[Statedef 821]
type    = A
movetype= H
physics = N
velset = -1,-9
poweradd = 40

[State 821, 速度加算];重力
type = VelAdd
trigger1 = 1
y = .4 

[State 820, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 821

[State 820, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 22
value = 822

[State 821, 相手ステートに戻す]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;マスタング：相手側3
[Statedef 825]
type    = S
movetype= H
physics = S
velset = 0,0

[State 810, 速度]
type = velset
trigger1 = time = 0
x = -6

[State 820, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0 
value = 825

[State 821, 相手ステートに戻す]
type = SelfState
trigger1 = time > 30
value = 5001

;---------------------------------------------------------------------------
:チャージ エフェクト1
[Statedef 4003]
type = A
ctrl = 0
anim = 4003
velset = 0,0
movetype = A
physics = N
sprpriority = 3


[state 4003,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 4003,スケール]
type = angledraw
trigger1 = 1
scale = .7,.7

[state 4003,透過]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[state 4003,角度]
type = angleset
trigger1 = time = 0
value = -30

[State 4003, 消滅]
type=destroyself
trigger1= time = 6

;---------------------------------------------------------------------------
:チャージ エフェクト2
[Statedef 4002]
type = A
ctrl = 0
anim = 4002
velset = 0,0
movetype = A
physics = N
sprpriority = 2


[state 4003,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 4003,スケール]
type = angledraw
trigger1 = 1
scale = .7,.7

[state 4003,透過]
type = Trans
trigger1 = 1
trans = sub
alpha = 128,128

[state 4003,角度]
type = angleset
trigger1 = time = 0
value = -30

[State 4003, 消滅]
type=destroyself
trigger1= time = 6

;---------------------------------------------------------------------------
:チャージ エフェクト2
[Statedef 4004]
type = A
ctrl = 0
anim = 4004
velset = 0,0
movetype = A
physics = N
sprpriority = 4


[state 4003,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 4003,スケール]
type = angledraw
trigger1 = 1
scale = .7,.7

[state 4003,透過]
type = Trans
trigger1 = 1
trans = sub
alpha = 128,128

[state 4003,角度]
type = angleset
trigger1 = time = 0
value = -30

[State 4003, 消滅]
type=destroyself
trigger1= time = 6

;---------------------------------------------------------------------------
;エボアボ空中射撃
[Statedef 4060]
type    = A
movetype= A
physics = A
velset = 0,ifelse(var(14) = 1,0,-3)
ctrl = 0
anim = ifelse(facing = 1,4060,4061)
facep2 = 1

;基底補正
[State 400, 変数]
type =varset
trigger1= movehit= 1
trigger1 = var(23) = 0
trigger1= var(53) < 5
var(53)=5

[state 2100, ゲージ増減]
type = poweradd
trigger1 = time = 0 &&var(20) = 4
value = -500

[State 200 ,変数]
type = Varadd
trigger1 = time= 0
v = 24
value = 1

[State 4020, 変数]
type = VarSet
trigger1 = time = 0 && var(20) = 4
var(23) = 1

[State 4060, 音を鳴らす]
type = PlaySnd
trigger1 = var(20) != 4
trigger1 = AnimElem = 2
value = 6,15

[State 4060, 音を鳴らす]
type = PlaySnd
trigger1 = var(20) = 4
trigger1 = AnimElem = 2
value = 6,16

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) != 4
trigger1 = animelem = 2
id = 4060
name = "hibana"
pos = 12, -112
Postype = p1
stateno = 811
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4
trigger1 = animelem = 2
id = 4060
name = "hibana"
pos = 12, -112
Postype = p1
stateno = 4003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4
trigger1 = animelem = 2
id = 4061
name = "hibana"
pos = 12, -112
Postype = p1
stateno = 4002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4
trigger1 = animelem = 2
id = 4062
name = "hibana"
pos = 12, -112
Postype = p1
stateno = 4004
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 10*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))


[State 4600, ヒット定義]
type = HitDef
trigger1 = animelem = 2
attr = S, NP
damage = ifelse(var(20) = 4,15,7), 0
animtype = medium
guardflag = HA
hitflag = MAFP
priority = 3, Hit
pausetime = 2,4
sparkno = 1
sparkxy = -10,-76
hitsound = S10000, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
ground.hittime  = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
air.hittime = 26-ceil(26*fvar(0))
ground.velocity = -2,0
airguard.velocity = -1.9,-.8
air.velocity = -.5,-1
fall.recovertime = ifelse(var(23) =1,30-ceil(30*fvar(0)),25-ceil(20*fvar(0)))
ground.cornerpush.veloff = 0
getpower = ifelse(var(23) =1,0,ceil(15+(15*(var(54)*.1))))

[State 4500 ,変数]
type = Varset
trigger1 = var(14) = 0
Trigger1 = time = 0
fvar(1) = -3

[State 4500 ,変数]
type = Varset
Trigger1 = time = 1
var(14) = 1

[State 4065, ステート変更]
type = ChangeState
trigger1 = time > 6 
triggerall = command = "z"
value = 4065
ctrl = 0
;---------------------------------------------------------------------------
;エボアボ空中射撃追加1
[Statedef 4065]
type    = A
movetype= A
physics = A
velset = 0,0
ctrl = 0
anim = ifelse(facing = 1,4065,4066)
facep2 = 1

[State 200 ,変数]
type = Varadd
trigger1 = time= 0
v = 24
value = 1

;基底補正
[State 400, 変数]
type =varset
trigger1= movehit= 1
trigger1 = var(23) = 0
trigger1= var(53) < 5
var(53)=5

[State 4065, 音を鳴らす]
type = PlaySnd
triggerall = AnimElem = 1
trigger1 = var(20) != 4
trigger2 =  var(20) = 4 && var(23) = 0
value = 6,15

[State 4065, 音を鳴らす]
type = PlaySnd
trigger1 = var(20) = 4 && var(23) = 1 && AnimElem = 1
value = 6,16

[state 4100 ,エフェクト]
type = Helper
triggerall = AnimElem = 1
trigger1 = var(20) != 4
trigger2 =  var(20) = 4 && var(23) = 0
id = 4060
name = "hibana"
pos = -8, -123
Postype = p1
stateno = 811
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1 && AnimElem = 1
id = 4060
name = "hibana"
pos = -8, -123
Postype = p1
stateno = 4003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1 && AnimElem = 1
id = 4061
name = "hibana"
pos = -8, -123
Postype = p1
stateno = 4002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1 && AnimElem = 1
id = 4062
name = "hibana"
pos = -8, -123
Postype = p1
stateno = 4004
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 10*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 4600, ヒット定義]
type = HitDef
trigger1 = animelem = 1
attr = S, NP
damage = ifelse(var(20) = 4,15,7), 0
animtype = medium
guardflag = HA
hitflag = MAFP
priority = 3, Hit
pausetime = 2,4
sparkno = 1
sparkxy = -10,-76
hitsound = S10000, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
ground.hittime  = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
air.hittime = 26-ceil(26*fvar(0))
ground.velocity = -2,0
airguard.velocity = -1.9,-.8
air.velocity = -.5,-1
fall.recovertime = ifelse(var(23) =1,30-ceil(30*fvar(0)),25-ceil(20*fvar(0)))
ground.cornerpush.veloff = 0
getpower = ifelse(var(23) =1,0,ceil(15+(15*(var(54)*.1))))

[State 4065 ,変数]
type = varadd
Trigger1 = time = 0
fvar(1) = 1

[State 4065 ,変数]
type = Veladd
Trigger1 = time = 0
y = fvar(1)

[State 221, ステート変更]
type = ChangeState
triggerall = command = "z" && time > 4
trigger1 = var(24) < 3
trigger2 = var(24) < 3 && fvar(39) > 200
trigger3 = var(24) < 5 && fvar(39) > 400
trigger4 = var(24) < 7 && fvar(39) > 600
trigger5 = var(24) < 9 && fvar(39) > 700
value = 4070
ctrl = 0

;---------------------------------------------------------------------------
;エボアボ空中射撃追加2
[Statedef 4070]
type    = A
movetype= A
physics = A
velset = 0,0
ctrl = 0
anim = ifelse(facing = 1,4070,4071)
facep2 = 1

[State 200 ,変数]
type = Varadd
trigger1 = time= 0
v = 24
value = 1

;基底補正
[State 400, 変数]
type =varset
trigger1= movehit= 1
trigger1 = var(23) = 0
trigger1= var(53) < 5
var(53)=5


[State 4065, 音を鳴らす]
type = PlaySnd
triggerall = AnimElem = 1
trigger1 = var(20) != 4
trigger2 =  var(20) = 4 && var(23) = 0
value = 6,15

[State 4065, 音を鳴らす]
type = PlaySnd
trigger1 = var(20) = 4 && var(23) = 1 && AnimElem = 1
value = 6,16

[state 4100 ,エフェクト]
type = Helper
triggerall = AnimElem = 1
trigger1 = var(20) != 4
trigger2 =  var(20) = 4 && var(23) = 0
id = 4060
name = "hibana"
pos = 12, -112
Postype = p1
stateno = 811
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1 && AnimElem = 1
id = 4060
name = "hibana"
pos = 12, -112
Postype = p1
stateno = 4003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1 && AnimElem = 1
id = 4061
name = "hibana"
pos = 12, -112
Postype = p1
stateno = 4002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1 && AnimElem = 1
id = 4062
name = "hibana"
pos = 12, -112
Postype = p1
stateno = 4004
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 10*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 4600, ヒット定義]
type = HitDef
trigger1 = animelem = 1
attr = S, NP
damage = ifelse(var(20) = 4,15,7), 0
animtype = medium
guardflag = HA
hitflag = MAFP
priority = 3, Hit
pausetime = 2,4
sparkno = 1
sparkxy = -10,-76
hitsound = S10000, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
ground.hittime  = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
air.hittime = 26-ceil(26*fvar(0))
ground.velocity = -2,0
airguard.velocity = -1.9,-.8
air.velocity = -.5,-1
fall.recovertime = ifelse(var(23) =1,30-ceil(30*fvar(0)),25-ceil(20*fvar(0)))
ground.cornerpush.veloff = 0
getpower = ifelse(var(23) =1,0,ceil(15+(15*(var(54)*.1))))

[State 4065 ,変数]
type = varadd
Trigger1 = time = 0
fvar(1) = 1

[State 4065 ,変数]
type = Veladd
Trigger1 = time = 0
y = fvar(1)

[State 221, ステート変更]
type = ChangeState
triggerall = command = "c" && time > 4
trigger1 = var(24) < 3
trigger2 = var(24) < 3 && fvar(39) > 200
trigger3 = var(24) < 5 && fvar(39) > 400
trigger4 = var(24) < 7 && fvar(39) > 600
trigger5 = var(24) < 9 && fvar(39) > 700
value = 4065
ctrl = 0

;---------------------------------------------------------------------------
;エボアボ斜め上射撃
[Statedef 4020]
type    = S
movetype= A
physics = S
ctrl = 0
anim = ifelse(facing = 1,4020,4021)
facep2 = 1

;基底補正
[State 400, 変数]
type =varset
trigger1= movehit= 1
trigger1 = var(23) = 0
trigger1= var(53) < 5
var(53)=5


[state 2100, ゲージ増減]
type = poweradd
trigger1 = time = 0 &&var(20) = 4
value = -500

[State 200 ,変数]
type = Varadd
trigger1 = time= 0
v = 24
value = 1

[State 4020, 変数]
type = VarSet
trigger1 = time = 0 && var(20) = 4
var(23) = 1

[State 4060, 音を鳴らす]
type = PlaySnd
triggerall = var(23) != 1
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
value = 6,15

[State 4060, 音を鳴らす]
type = PlaySnd
triggerall = var(23) = 1
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
value = 6,16

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) != 1
trigger1 = AnimElem = 3
id = 4020
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4021
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) != 1
trigger1 = AnimElem = 6
id = 4020
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4021
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999
[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) != 1
trigger1 = AnimElem = 9
id = 4020
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4021
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) = 1
trigger1 = animelem = 3
id = 4022
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4022
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) = 1
trigger1 = animelem = 3
id = 4023
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4023
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) = 1
trigger1 = animelem = 3
id = 4024
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4024
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) = 1
trigger1 = animelem = 6
id = 4022
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4022
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) = 1
trigger1 = animelem = 6
id = 4023
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4023
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) = 1
trigger1 = animelem = 6
id = 4024
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4024
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) = 1
trigger1 = animelem = 9
id = 4022
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4022
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) = 1
trigger1 = animelem = 9
id = 4023
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4023
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 4100 ,エフェクト]
type = Helper
trigger1 = var(23) = 1
trigger1 = animelem = 9
id = 4024
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4024
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 10*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 4600, ヒット定義]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 6
trigger3 = animelem = 9
attr = S, NP
damage = ifelse(var(20) = 4,15,7), 0
animtype = medium
guardflag = HA
hitflag = MAFP
priority = 3, Hit
pausetime = 2,4
sparkno = 1
sparkxy = -10,-165
hitsound = S10000, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
ground.hittime  = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
air.hittime = 26-ceil(26*fvar(0))
ground.velocity = -2,0
airguard.velocity = -1.9,-.8
air.velocity = -.5,-1
fall.recovertime = ifelse(var(23) =1,30-ceil(30*fvar(0)),25-ceil(20*fvar(0)))
ground.cornerpush.veloff = 0
getpower = ifelse(var(23) =1,0,ceil(15+(15*(var(54)*.1))))

[State 4065, ステート変更]
type = ChangeState
trigger1 = time > 10
trigger1 = command = "holddown"
trigger1 = command = "a"
value = 1000
ctrl = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;エボアボ斜め上射撃追加1
[Statedef 4025]
type    = S
movetype= A
physics = S
ctrl = 0
anim = ifelse(facing = 1,4025,4026)
facep2 = 1

[State 200 ,変数]
type = Varadd
trigger1 = time= 0
v = 24
value = 1

;基底補正
[State 400, 変数]
type =varset
trigger1= movehit= 1
trigger1 = var(23) = 0
trigger1= var(53) < 5
var(53)=5


[State 4065, 音を鳴らす]
type = PlaySnd
triggerall = AnimElem = 1
trigger1 = var(20) != 4
trigger2 =  var(20) = 4 && var(23) = 0
value = 6,15

[State 4065, 音を鳴らす]
type = PlaySnd
trigger1 = var(20) = 4 && var(23) = 1
trigger1 = AnimElem = 1
value = 6,16

[state 4100 ,エフェクト]
type = Helper
triggerall = AnimElem = 1
trigger1 = var(20) != 4
trigger2 =  var(20) = 4 && var(23) = 0
id = 4020
name = "hibana"
pos = 1, -101
Postype = p1
stateno = 4021
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1
trigger1 = animelem = 1
id = 4022
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4022
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1
trigger1 = animelem = 1
id = 4023
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4023
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1
trigger1 = animelem = 1
id = 4024
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4024
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 10*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))
[State 4600, ヒット定義]
type = HitDef
trigger1 = animelem = 1
attr = S, NP
damage = ifelse(var(20) = 4,15,7), 0
animtype = medium
guardflag = HA
hitflag = MAFP
priority = 3, Hit
pausetime = 2,4
sparkno = S-1
sparkxy = -10,-76
hitsound = S10000, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
ground.hittime  = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
air.hittime = 26-ceil(26*fvar(0))
ground.velocity = -2,0
airguard.velocity = -1.9,-.8
air.velocity = -.5,-1
fall.recovertime = ifelse(var(23) =1,30-ceil(30*fvar(0)),25-ceil(20*fvar(0)))
ground.cornerpush.veloff = 0
getpower = ifelse(var(23) =1,0,ceil(15+(15*(var(54)*.1))))

[State 221, ステート変更]
type = ChangeState
triggerall = command = "z" && time > 4
trigger1 = var(24) < 3
trigger2 = var(24) < 3 && fvar(39) > 200
trigger3 = var(24) < 5 && fvar(39) > 400
trigger4 = var(24) < 7 && fvar(39) > 600
trigger5 = var(24) < 9 && fvar(39) > 700
value = 4030
ctrl = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;エボアボ斜め上射撃追加2
[Statedef 4030]
type    = S
movetype= A
physics = S
ctrl = 0
anim = ifelse(facing = 1,4030,4031)
facep2 = 1

[State 200 ,変数]
type = Varadd
trigger1 = time= 0
v = 24
value = 1

;基底補正
[State 400, 変数]
type =varset
trigger1= movehit= 1
trigger1 = var(23) = 0
trigger1= var(53) < 5
var(53)=5


[State 4065, 音を鳴らす]
type = PlaySnd
triggerall = AnimElem = 1
trigger1 = var(20) != 4
trigger2 =  var(20) = 4 && var(23) = 0
value = 6,15

[State 4065, 音を鳴らす]
type = PlaySnd
trigger1 = var(20) = 4 && var(23) = 1
trigger1 = AnimElem = 1
value = 6,16

[state 4100 ,エフェクト]
type = Helper
triggerall = AnimElem = 1
trigger1 = var(20) != 4
trigger2 =  var(20) = 4 && var(23) = 0
id = 4020
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4021
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1
trigger1 = animelem = 1
id = 4022
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4022
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1
trigger1 = animelem = 1
id = 4023
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4023
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999


[state 4100 ,エフェクト]
type = Helper
trigger1 = var(20) = 4 && var(23) = 1
trigger1 = animelem = 1
id = 4024
name = "hibana"
pos = 2, -102
Postype = p1
stateno = 4024
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 10*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 4600, ヒット定義]
type = HitDef
trigger1 = animelem = 1
attr = S, NP
damage = ifelse(var(20) = 4,15,7), 0
animtype = medium
guardflag = HA
hitflag = MAFP
priority = 3, Hit
pausetime = 2,4
sparkno = S-1
sparkxy = -10,-76
hitsound = S10000, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
ground.hittime  = ifelse(var(23) =1,18-ceil(18*fvar(0)),10-ceil(10*fvar(0)))
air.hittime = 26-ceil(26*fvar(0))
ground.velocity = -2,0
airguard.velocity = -1.9,-.8
air.velocity = -.5,-1
fall.recovertime = ifelse(var(23) =1,30-ceil(30*fvar(0)),25-ceil(20*fvar(0)))
ground.cornerpush.veloff = 0
getpower = ifelse(var(23) =1,0,ceil(15+(15*(var(54)*.1))))

[State 221, ステート変更]
type = ChangeState
triggerall = command = "c" && time > 4
trigger1 = var(24) < 3
trigger2 = var(24) < 3 && fvar(39) > 200
trigger3 = var(24) < 5 && fvar(39) > 400
trigger4 = var(24) < 7 && fvar(39) > 600
trigger5 = var(24) < 9 && fvar(39) > 700
value = 4025
ctrl = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
:エボアボ斜め上射撃 エフェクト1
[Statedef 4021]
type = A
ctrl = 0
anim = 4001
velset = 0,0
movetype = A
physics = N
sprpriority = 7


[state 811,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 811,スケール]
type = angledraw
trigger1 = 1
scale = .7,.7

[state 811,透過]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[state 811,角度]
type = angleset
trigger1 = time = 0
value = 45

[State 811, 消滅]
type=destroyself
trigger1= time = 4

;---------------------------------------------------------------------------
:エボアボ斜め上射撃 エフェクト2
[Statedef 4022]
type = A
ctrl = 0
anim = 4003
velset = 0,0
movetype = A
physics = N
sprpriority = 3


[state 811,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 811,スケール]
type = angledraw
trigger1 = 1
scale = .7,.7

[state 811,透過]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[state 811,角度]
type = angleset
trigger1 = time = 0
value = 45

[State 811, 消滅]
type=destroyself
trigger1= time = 4
;---------------------------------------------------------------------------
:エボアボ斜め上射撃 エフェクト3
[Statedef 4023]
type = A
ctrl = 0
anim = 4002
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state 811,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 811,スケール]
type = angledraw
trigger1 = 1
scale = .7,.7

[state 811,透過]
type = Trans
trigger1 = 1
trans = sub
alpha = 200,256

[state 811,角度]
type = angleset
trigger1 = time = 0
value = 45

[State 811, 消滅]
type=destroyself
trigger1= time = 4
;---------------------------------------------------------------------------
:エボアボ斜め上射撃 エフェクト4
[Statedef 4024]
type = A
ctrl = 0
anim = 4004
velset = 0,0
movetype = A
physics = N
sprpriority = 4


[state 811,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 811,スケール]
type = angledraw
trigger1 = 1
scale = .7,.7

[state 811,透過]
type = Trans
trigger1 = 1
trans = sub
alpha = 200,256

[state 811,角度]
type = angleset
trigger1 = time = 0
value = 45

[State 811, 消滅]
type=destroyself
trigger1= time = 4
;---------------------------------------------------------------------------
;ヤマト　1段目
[Statedef 4500]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4500
poweradd = 20
sprpriority = 2
facep2 = 1

[State 4500 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 1
v = 2
range = 1,4

[State 4500, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 6,5

[State 4500, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 6,6

[State 4500, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) = 1
channel = 0
value = 5,2

[State 4500, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) = 2
channel = 0
value = 5,8

[State 4500, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) = 3
channel = 0
value = 5,1

[State 4500, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 13
value = 6,13

[State 4500, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 30

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 25*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 4500, エフェクト]
type = Explod
trigger1 = animelem = 4
anim = 4501
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4500

[State 4500, エフェクト]
type = Explod
trigger1 = animelem = 13
anim = 4502
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4500

[State 4500, エフェクト]
type = Explod
trigger1 = animelem = 14
anim = 4503
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4500

[State 4500, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NP
damage = 25, 0
animtype = heavy
guardflag = MA
hitflag = MAFP
priority = 7, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = -1, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.5,-3
fall.recovertime = 26-ceil(26*fvar(0))
getpower = ceil(50+(50*(var(54)*.1)))

[State 200, コントロール]
type = CtrlSet 
trigger1 = animelem = 14
value = 1

[State 4500, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ヤマト　2段目
[Statedef 4510]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4510
poweradd = 20
sprpriority = 2
facep2 = 1

[State 4510 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 1
v = 2
range = 1,2

[State 4510, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 6,5

[State 4510, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 6,6

[State 4510, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) = 1
channel = 0
value = 5,6

[State 4510, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) = 2
channel = 0
value = 5,7

[State 4500, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 10
value = 6,13


[State 4510, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 1
x = 10

[State 4510, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2
x = 10

[State 4510, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 25*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 4510, エフェクト]
type = Explod
trigger1 = animelem = 2
anim = 4511
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4510

[State 4500, エフェクト]
type = Explod
trigger1 = animelem = 10
anim = 4512
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4510

[State 4510, ヒット定義]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NP
damage = 25, 0
animtype = heavy
guardflag = MA
hitflag = MAFP
priority = 3, Hit
pausetime = 2, 2
sparkno = S-1
sparkxy = -10,-76
hitsound = -1, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30-ceil(30*fvar(0))
ground.hittime  = 30-ceil(30*fvar(0))
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.5,-3
fall.recovertime = 30-ceil(30*fvar(0))
getpower = ceil(50+(50*(var(54)*.1)))

[State 200, コントロール]
type = CtrlSet 
trigger1 = animelem = 12
value = 1

[State 4510, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ヤマト　3段目
[Statedef 4520]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4520
poweradd = 20
sprpriority = 2
facep2 = 1


[State 4510 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 1
v = 2
range = 1,2

[State 4520, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 6,9

[State 4520, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 6,7

[State 4520, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
trigger1 = var(2) = 1
channel = 0
value = 5,8

[State 4520, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 15
value = 6,10

[State 4520, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 22
value = 6,11

[State 4520, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 28
value = 6,12

[State 4520, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 32
value = 6,13

[State 200 ,STP]
type = Varadd
Trigger1 = ProjHitTime(4520) = 1
trigger1 = fvar(39) < 700
fv = 39
value = 25*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 200 ,納刀ボーナス]
type = poweradd
Trigger1 =  var(19) =1 
trigger1 = animelem = 28
value = 500

[State 4520 ,ヒットフラグ]
type = Varadd
trigger1 = ProjHitTime(4520) = 1
v = 19
value = 1

[State 200 ,STP]
type = Varadd
Trigger1 =  var(19) =1 
trigger1 = animelem = 28
trigger1 = fvar(39) < 700
fv = 39
value = 90

[state 4520 ,抜刀エフェクト]
type = Helper
trigger1 = animelem = 4
id = 4520
name = "battou"
pos = 0, 0
Postype = p1
stateno = 4525
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4520 ,抜刀エフェクト2]
type = Helper
trigger1 = animelem = 4
id = 4520
name = "battou"
pos = 0, -45
Postype = p1
stateno = 4526
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4520 ,納刀エフェクト1]
type = Helper
trigger1 = animelem = 28
id = 4521
name = "noutou"
pos = 0, -45
Postype = p1
stateno = 4527
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4520 ,納刀エフェクト2]
type = Helper
trigger1 = animelem = 28
id = 4521
name = "noutou"
pos = 0, -45
Postype = p1
stateno = 4528
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 4520, エフェクト]
type = Explod
trigger1 = animelem = 4
anim = 4522
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 7
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4520

[State 4520, エフェクト]
type = Explod
trigger1 = animelem = 6
anim = 4523
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4520

[State 4520, エフェクト]
type = Explod
trigger1 = animelem = 15
anim = 4524
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = 17
removeongethit = 1
ID = 4520

[State 4520, エフェクト]
type = Explod
trigger1 = animelem = 31
anim = 4527
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4520

[State 4510, エフェクト]
type = Explod
trigger1 = animelem = 31
anim = 4528
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4520

[State 4520, 飛び道具]
type = Projectile
trigger1 = AnimElem = 6
attr = S, SP
damage = 50,0 
getpower = ceil(50+(50*(var(54)*.1)))
animtype = light
pausetime = 0,5
guard.pausetime = 0,30
offset = 0,0
velocity = 0
accel = 0,0
projID = 4520
projanim = 4529
projhitanim = -1
projremanim = -1
projscale = 0.5,0.5
projshadow = 0,0,0
projhits = 1
projmisstime = 30
projpriority = 7
projremovetime = 3
guardflag = MA
priority = 5
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound = S4, 0
guardsound = 6,0
ground.type = High
ground.slidetime = 14
ground.hittime = 16
ground.velocity = -8,-1
air.velocity = -8,-2
air.juggle = 0
envshake.time = 8
envshake.ampl = 6
envshake.freq = 100
fall = 1
fall.recover = 0

[state 4610 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = ProjHitTime(4520) = 1
id = 4600
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6001
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 4520, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 32
x = 7

[State 4520, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 33
x = 10

[State 200, コントロール]
type = CtrlSet 
trigger1 = animelem = 19
value = 1

[State 4520, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;抜刀エフェクト
[Statedef 4525]
type = A
ctrl = 0
anim = 4521
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state 9021 位置固定]
type = BindToRoot
trigger1 = 1
time = -1
facing = 0
pos = -16, -46

[state 6004,変数]
type = varset
trigger1 = time = 0
v = 2
value = 10

[state 6004,変数]
type = varadd
trigger1 = time<=5
v = 2
value = -3

[state 6004,変数]
type = varadd
trigger1 = time>10
v = 2
value = 1

[state 4525,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[state 4525,透過]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*24,256

[state 4525,角度]
type = angleset
trigger1 = time = 0
value = 90

[state 4525,スケール]
type = angledraw
trigger1 = 1
scale = 0.5+time*0.4,0.5+time*0.4


[State 4525, 消滅]
type=destroyself
trigger1= time>=8
;---------------------------------------------------------------------------
;抜刀エフェクト2
[Statedef 4526]
type = A
ctrl = 0
anim = 6001
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state 9021 位置固定]
type = BindToRoot
trigger1 = 1
time = -1
facing = 0
pos = 0, -45

[state 6004,変数]
type = varset
trigger1 = time = 0
v = 2
value = 10

[state 6004,変数]
type = varadd
trigger1 = time<=5
v = 2
value = -3

[state 6004,変数]
type = varadd
trigger1 = time>10
v = 2
value = 1

[state 6004,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[state 6004,透過]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*24,256

[state 6004,角度]
type = angleset
trigger1 = time = 0
value = 90

[state 6004,スケール]
type = angledraw
trigger1 = 1
scale = 1,0.3+time*0.4

[state 6004,消滅]
type = destroyself
trigger1 = time = 13
;---------------------------------------------------------------------------
;納刀エフェクト
[Statedef 4527]
type = A
ctrl = 0
anim = 4525
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state 9021 位置固定]
type = BindToRoot
trigger1 = 1
time = -1
facing = 0
pos = 12, -65

[state 6004,変数]
type = varset
trigger1 = time = 0
v = 2
value = 10

[state 6004,変数]
type = varadd
trigger1 = time<=5
v = 2
value = -3

[state 6004,変数]
type = varadd
trigger1 = time>10
v = 2
value = 1

[state 4525,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[state 4525,透過]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*24,256

[state 4525,角度]
type = angleset
trigger1 = time = 0
value = 90

[state 4525,スケール]
type = angledraw
trigger1 = 1
scale = 0.4+time*0.04,0.4+time*0.04


[State 4525, 消滅]
type=destroyself
trigger1= time>=12
;---------------------------------------------------------------------------
;納刀エフェクト2
[Statedef 4528]
type = A
ctrl = 0
anim = 4526
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state 9021 位置固定]
type = BindToRoot
trigger1 = 1
time = -1
facing = 0
pos = 12, -65

[state 6004,変数]
type = varset
trigger1 = time = 0
v = 2
value = 10

[state 6004,変数]
type = varadd
trigger1 = time<=5
v = 2
value = -3

[state 6004,変数]
type = varadd
trigger1 = time>10
v = 2
value = 1

[state 4525,影消し]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[state 4525,透過]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*24,256

[state 4525,角度]
type = angleset
trigger1 = time = 0
value = 90

[state 4525,スケール]
type = angledraw
trigger1 = 1
scale = 0.3+time*0.04,0.3+time*0.04

[State 4525, 消滅]
type=destroyself
trigger1= time>=12
;---------------------------------------------------------------------------
;空ヤマト一段目
[Statedef 4600]
type    = A
movetype= A
physics = A
ctrl = 0
facep2   = 1
anim = 4600
ownpal = 1
sprpriority = 5

[State 4600 ,同技補正用変数]
type = Varadd
trigger1 = movehit = 1
v = 29
value = 1

[State 4600 ,同技補正用変数]
type = Varset
trigger1 = var(29) = 8
fv = 0
value = .2

[State 4600 ,同技補正用変数]
type = Varset
trigger1 = var(29) > 8
fv = 0
value = 1

[State 4600 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 1
v = 2
range = 1,4

[State 4600, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 6,8

[State 4600, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) = 2
channel = 0
value = 5,0

[State 4600, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) = 3
channel = 0
value = 5,1

[State 4600, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) = 4
channel = 0
value = 5,2

[State 4600, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
value = 6,12

[State 200 ,STP]
type = Varadd
Trigger1 = movehit = 1
trigger1 = fvar(39) < 700
fv = 39
value = 20*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 4600]
type = statetypeset
physics = N
trigger1 = Time = 0

[State 4600, 移動]
type = velset
trigger1 = time = 0
trigger1 = var(5) = 0
x = .1

[State 4600, 移動]
type = veladd
trigger1 = time < 21
y = .25

[State 4600, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = time < 21
value = 52

[State 4600]
type = statetypeset
physics = A
trigger1 = Time = 21


[State 4600, 移動]
type = velset
trigger1 = time = 0
y = -.5

[State 4600]
type = Velmul
trigger1 = Time > 0
x = 0.97

[State 4600, エフェクト]
type = Explod
trigger1 = animelem = 3
anim = 4601
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4600

[State 4600, エフェクト]
type = Explod
trigger1 = animelem = 3
anim = 4602
facing = 1
postype = p1
pos = 0,0
scale = 0.45,0.45
sprpriority = 5
ontop = 1
ownpal = 1
bindtime = 16
removeongethit = 1
ID = 4600

[State 4600, エフェクト]
type = Explod
trigger1 = time = 12
anim = 4603
facing = 1
postype = p1
pos = 0,0
scale = 0.45,0.45
sprpriority = 4
ontop = 0
ownpal = 1
bindtime = 16
removeongethit = 1
ID = 4600

[State 4600, ヒット定義]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 6
attr = S, NP
damage = 10, 0
animtype = medium
guardflag = HA
hitflag = MAFP
priority = 3, Hit
pausetime = 2,4
sparkno = S-1
sparkxy = -10,-76
hitsound = S10000, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12-ceil(12*fvar(0))
ground.hittime  = 14-ceil(14*fvar(0))
air.hittime = 20-ceil(20*fvar(0))
ground.velocity = -2,0
airguard.velocity = -1.9,-.8
air.velocity = -.5,-1
fall.recovertime = 20-ceil(20*fvar(0))
getpower = ceil(35+(35*(var(54)*.1)))

[state 4600 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 1
id = 4600
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6001
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[state 4600 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = hitcount = 2
id = 4600
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6001
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 4600, コントロール]
type = CtrlSet 
trigger1 = time > 32
value = 1

;---------------------------------------------------------------------------
;空ヤマト二段目
[Statedef 4610]
type    = A
movetype= A
physics = A
ctrl = 0
facep2   = 1
anim = 4610
ownpal = 1

[State 4600 ,同技補正用変数]
type = Varadd
trigger1 = movehit = 1
v = 28
value = 1

[State 4600 ,同技補正用変数]
type = Varset
trigger1 = var(28) = 3
fv = 0
value = .2

[State 4600 ,同技補正用変数]
type = Varset
trigger1 = var(28) > 3
fv = 0
value = 1

[State 4600 ,ボイスランダム]
type = VarRandom
Trigger1 = Animelem = 1
v = 2
range = 1,2

[State 4610, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 6,7

[State 4610, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) = 1
value =5,6

[State 4610, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) = 2
channel = 0
value = 5,7

[State 200 ,STP]
type = Varadd
Trigger1 = ProjHitTime(4610) = 1
trigger1 = fvar(39) < 700
fv = 39
value = 25*(ifelse(fvar(39) >=200,ifelse(fvar(39) >=400,0.65,0.85),1))

[State 4610]
type = statetypeset
physics = N
trigger1 = Time = 0

[State 4610, 移動]
type = velset
trigger1 = time = 0
trigger1 = var(5) = 0
x = .1

[State 4610, 移動]
type = veladd
trigger1 = time < 21
y = .2

[State 4610, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = time < 21
value = 52

[State 4610]
type = statetypeset
physics = A
trigger1 = Time = 21


[State 4610, 移動]
type = velset
trigger1 = time = 0
y = -.5

[State 4610]
type = Velmul
trigger1 = Time > 0
x = 0.97

[State 4610, エフェクト]
type = Explod
trigger1 = animelem = 3
anim = 4611
facing = 1
postype = p1
pos = 0,0
scale = 0.5,0.5
sprpriority = 4
ontop = 1
ownpal = 1
bindtime = 1
removeongethit = 1
ID = 4610

[State 4610, 飛び道具]
type = Projectile
trigger1 = AnimElem = 3
attr = S, SP
damage = 40-ceil(15*var(10)),7 
getpower = 50,10
animtype = light
pausetime = 0,5
guard.pausetime = 0,5
offset = 0,0
velocity = 0
accel = 0,0
projID = 4610
projanim = 4612
projhitanim = -1
projremanim = -1
projscale = 0.5,0.5
projshadow = 0,0,0
projhits = 1
projmisstime = 30
projpriority = 3
projremovetime = 3
guardflag = MA
priority = 7
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound = S4, 0
guardsound = 6,0
ground.type = High
ground.slidetime = 14
ground.hittime = 16
ground.velocity = -10,-3
air.velocity = -10,-2
air.juggle = 0
envshake.time = 8
envshake.ampl = 6
envshake.freq = 100
fall = 1
fall.recover = 1
fall.recovertime = 40-ceil(20*fvar(0))
getpower = ceil(50+(50*(var(54)*.1)))

[state 4610 ,ヒットエフェクトヘルパー]
type = Helper
trigger1 = ProjHitTime(4610) = 1
id = 4600
name = "hit"
pos = 0, -80+Ceil(P2BodyDist Y)
Postype = p2
stateno = 6001
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999

[State 4610, コントロール]
type = CtrlSet 
trigger1 = time > 32
value = 1