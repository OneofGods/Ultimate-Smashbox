;-------------------------------------------------------------------------------
;===============================================================================
;                               HYPER ATTACK
;===============================================================================
;-------------------------------------------------------------------------------
;Captain Sword
[Statedef 1500]
type = S
movetype = A
physics = S
anim = 1500
ctrl = 0
velset = 0, 0
sprpriority = 1

[State 1500, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 1500, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1500, RemoveExplod c]
type = RemoveExplod
trigger1 = time = 0
ID = 4478


[State 1500, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 0


[State 1500, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 1500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 4, 5
channel = 0


[State 1500, SuperPause]
type = SuperPause
trigger1 = time = 7
time = 45
sound = S9120,0
anim = S9100
pos = -6, -129
movetime =45
poweradd = -1000


[State 1500, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 2, 8

;----------------------
[State 0, VarSet carga Bg]
type = VarSet
trigger1 = time = 0
v = 45   ;fv = 10
value = 1


[State 0, carga Bg]
type = helper
triggerall = numhelper(9210)=0
trigger1 = time = 7
helpertype = normal
stateno = 9210
ID = 9210
name ="hyperbg"
postype = p1
pos = 0,0
ownpal = 1
persistent = 0
supermovetime = 9999
ignorehitpause = 1

[State 0, WinKO]
type = AssertSpecial
triggerall = !var(16)
trigger1 = time > 7
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

[State 0, WinKO]
type = VarSet
trigger1 = WinKO
v = 16
value = 1
;----------------------


[State 1500, Helper]
type = Helper
trigger1 = time = 7
ID = 888
name = "Hoover"
StateNo = 1510
postype = p1
pos = -140, -(var(5))
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

[State 1500, Helper]
type = Helper
trigger1 = time = 7
ID = 889
name = "Jennety"
StateNo = 1520
postype = p1
pos = 6, -(var(5))
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

[State 1500, Helper]
type = Helper
trigger1 = time = 7
ID = 890
name = "Sho"
StateNo = 1530
postype = p1
pos = 30, -(var(5))
ownpal = 1
pausemovetime = 999999
supermovetime = 999999


[State 1500, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = 3, 9


[State 1500, Helper]
type = Helper
trigger1 = time = 14
ID = 999
name = "Sword Beam"
StateNo = 1550
postype = p1
pos = 0, 0
ownpal = 1
pausemovetime = 999999
supermovetime = 999999


[State 1500, ChangeAnim]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 13
value = 1511

[State 1500, ChangeAnim]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 19
value = 1512

[State 1500, ChangeAnim]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 22
value = 1513

[State 1500, ChangeAnim]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 30
value = 1514

[State 1500, VarSet]
type = VarSet
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 20
v = 0
value = 1

[State 1500, VarSet]
type = VarSet
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), MoveHit
trigger1 = Helper(999), AnimElemNo(0) = 24
v = 6
value = 1



[State 1500, VarAdd]
type = VarAdd
trigger1 = Anim = 1514
trigger1 = NumHelper(999) = 0
v = 0
value = 1

[State 1500, RemoveExplod]
type = RemoveExplod
trigger1 = var(0) >= 20
ID = 640


[State 1500, ScreenBound]
type = ScreenBound
trigger1 = var(6) = 1
value = 0


[State 1500, ChangeState]
type = ChangeState
trigger1 = var(0) >= 20
trigger1 = var(6) = 1
value = 1501

[State 1500, ChangeState]
type = ChangeState
trigger1 = var(0) >= 20
value = 12
ctrl = 1

;-------------------------------------------------------------------------------
; Dash Back Onto Screen
[Statedef 1501]
type = S
movetype = I
physics = S
anim = 0

[State 1501, ChangeState]
type = ChangeState
trigger1 = BackEdgeDist <= 0
value = 1505

[State 1501, VarSet]
type = VarSet
trigger1 = BackEdgeDist > 0
v = 6
value = 0


[State 1501, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0


[State 1501, ChangeState]
type = ChangeState
trigger1 = BackEdgeDist > 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 1505]
type = S
movetype = I
physics = S

[State 1505, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 1505, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 3

[State 1505, ChangeAnim]
type = ChangeAnim
trigger1 = time = 50
value = 100

[State 1505, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 4, 22

[State 1505, PosAdd]
type = PosAdd
trigger1 = BackEdgeDist < -100
x = -70 - BackEdgeDist

[State 1505, VelSet]
type = VelSet
trigger1 = time = 50
x = 20

[State 1505, VarSet]
type = VarSet
trigger1 = Anim = 100
trigger1 = AnimTime = 0
v = 6
value = 0

[State 1505, ChangeState]
type = ChangeState
trigger1 = Anim = 100
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------
; Hoover - Captain Sword
[Statedef 1510]
type = A
movetype = I
physics = N
anim = 810;730
velset = 4.4, 7
sprpriority = -1


[State 1510, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)


[State 1510, VelAdd]
type = VelAdd
trigger1 = 1
y = .3


[State 1510, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1515

;------------------------
;Hoover - Land
[Statedef 1515]
type = S
movetype = I
physics = N
anim = 1515
velset = 0, 0

[State 1515, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 1515, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = -(floor(ParentDist X))

[State 1515, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = -(floor(ParentDist Y))

[State 1515, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = var(1), var(2)

[State 1515, ChangeAnim]
type = ChangeAnim
trigger1 = parent, var(0) = 1
value = 1516
persistent = 0

[State 1515, ChangeState]
type = ChangeState
trigger1 = parent, var(0) > 1
trigger2 = parent, MoveType = H
value = 1516

;-----------------------------------------------------
; Hoover - Jump Out
[Statedef 1516]
type = A
movetype = I
physics = N
anim = 810;730
velset = 3, -14

[State 1516, VelAdd]
type = VelAdd
trigger1 = 1
y = .3

[State 1516, DestroySelf]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;-----------------------------------------------------
; Jennety - Captain Sword
[Statedef 1520]
type = A
movetype = I
physics = N
anim = 830;770
velset = 1, 7
sprpriority = 0


[State 1520, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)


[State 1520, VelAdd]
type = VelAdd
trigger1 = 1
y = .3


[State 1520, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1525

;------------------------
; Jennety - Land
[Statedef 1525]
type = S
movetype = I
physics = N
anim = 1525
velset = 0, 0


[State 1525, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 1525, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = -(floor(ParentDist X))

[State 1525, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = -(floor(ParentDist Y))


[State 1525, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = var(1), var(2)


[State 1525, ChangeAnim]
type = ChangeAnim
trigger1 = parent, var(0) = 1
value = 1526
persistent = 0


[State 1525, ChangeState]
type = ChangeState
trigger1 = parent, var(0) > 1
trigger2 = parent, MoveType = H
value = 1526

;-----------------------------------------------------
; Jennety - Jump Out
[Statedef 1526]
type = A
movetype = I
physics = N
anim = 830;770
velset = -5, -14


[State 1526, VelAdd]
type = VelAdd
trigger1 = 1
y = .3


[State 1526, DestroySelf]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;-----------------------------------------------------
; Sho - Captain Sword
[Statedef 1530]
type = A
movetype = I
physics = N
anim = 821
velset = -4.4, 7
sprpriority = 2


[State 1530, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)


[State 1530, VelAdd]
type = VelAdd
trigger1 = 1
y = .3


[State 1530, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1535

;------------------------
; Sho - Land
[Statedef 1535]
type = S
movetype = I
physics = N
anim = 1535
velset = 0, 0


[State 1535, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 1535, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = -(floor(ParentDist X))

[State 1535, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = -(floor(ParentDist Y))


[State 1535, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = var(1), var(2)


[State 1535, ChangeAnim]
type = ChangeAnim
trigger1 = parent, var(0) = 1
value = 1536
persistent = 0


[State 1535, ChangeState]
type = ChangeState
trigger1 = parent, var(0) > 1
trigger2 = parent, MoveType = H
value = 1536

;-----------------------------------------------------
; Sho - Jump Out
[Statedef 1536]
type = A
movetype = I
physics = N
anim = 821
velset = -4, -14


[State 1536, VelAdd]
type = VelAdd
trigger1 = 1
y = .3


[State 1536, DestroySelf]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;----------------------------------------
; Sword Beam
[Statedef 1550]
type = A
movetype = A
physics = N
sprpriority = 5


[State 1550, VarAdd]
type = VarAdd
trigger1 = 1
v = 0
value = 1


[State 1550, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow


[State 1550, ChangeAnim]
type = ChangeAnim
trigger1 = var(0) = 1
value = 1550
sprpriority = 5


[State 1550, BindToParent]
type = BindToParent
trigger1 = time = 0
pos = 0, 0
time = 9999


[State 1550, PlaySnd]
type = PlaySnd
trigger1 = var(0) = 1
value = 2, 10


[State 1550, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1550, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1550
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1550, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1


[State 1550, HitDef]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 11
trigger3 = AnimElem = 12
trigger4 = AnimElem = 13
trigger5 = AnimElem = 14
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 3
damage = ifelse(hitcount<2,35,15), 2
animtype = back
sparkno = S8023+random%3
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -5, 3
air.velocity = -.2, 3
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
;p2stateno = 2000

[State 1550, HitDef]
type = HitDef
trigger1 = AnimElem = 18
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 3
damage = 15, 2
animtype = back
sparkno = S8023+random%3
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -5, 0
air.velocity = -8, 2 ;fvar(0)  ;3
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
yaccel = .65
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
;p2stateno = 2000

[State 1550, HitDef]
type = HitDef
trigger1 = AnimElem = 19
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 3
damage = 20, 2
animtype = back
sparkno = S8023+random%3
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -5, 2
air.velocity = -7, 2 ;fvar(0) ;7
yaccel = .8
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
;p2stateno = 2000

[State 1550, HitDef]
type = HitDef
trigger1 = AnimElem = 20
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 9, 3
damage = 25, 2
animtype = back
sparkno = S8030
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -9, -5
air.velocity = -8, 2 ;fvar(0) ;6
guard.hittime = 20
guard.velocity = -10
yaccel = 1.1
airguard.velocity = -5, 4
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
;p2stateno = 2000

[State 1550, HitDef]
type = HitDef
trigger1 = AnimElem = 21
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 9, 3
damage = 35, 2
animtype = back
sparkno = S8035
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -9, -5
air.velocity = -8, 2 ;fvar(0) ;9
yaccel = 1.2
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
;p2stateno = 2000

[State 1550, HitDef]
type = HitDef
trigger1 = AnimElem = 22
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 9, 3
damage = 25, 2
animtype = back
sparkno = S8035
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -9, -8
air.velocity = -7, 2 ;fvar(0) ;6
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
yaccel = ifelse(HitCount < 2, .45, 1.3)
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
;p2stateno = 2000

[State 1550, HitDef]
type = HitDef
trigger1 = AnimElem = 23
attr = A, HA
hitflag = MAFDL
guardflag = MA
pausetime = 9, 3
damage = 40, 2
animtype = back
sparkno = S8035
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -9, -1
air.velocity = -7, 2 ;fvar(0) ;5.4
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
yaccel = ifelse(HitCount < 2, .15, 1.4)
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
;p2stateno = 2000

[State 1550, HitDef]
type = HitDef
trigger1 = AnimElem = 24
attr = A, HA
hitflag = MAFDL
guardflag = MA
pausetime = 9, 9
damage = 100, 2
animtype = back
sparkno = S8035
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -12, -14
air.velocity = -11, -14
guard.hittime = 20
guard.velocity = -15
airguard.velocity = -5, 1
fall = 1
air.fall = 1
fall.recover = 0
sprpriority = 3
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
;p2stateno = 2000

[State 1550, HitDef]
type = HitDef
trigger1 = AnimElem = 25
trigger2 = AnimElem = 26
trigger3 = AnimElem = 27
trigger4 = AnimElem = 28
attr = A, HA
hitflag = MAFDL
guardflag = MA
pausetime = 3, 3
damage = ifelse(hitcount<1,30,20), 2
animtype = back
sparkno = S8040
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -12, -14
air.velocity = -11, -14
guard.hittime = 20
guard.velocity = -15
airguard.velocity = -5, 1
fall = 1
air.fall = 1
fall.recover = 0
sprpriority = 3
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
;p2stateno = 2000


[State 1550, TargetState]
type = TargetState
trigger1 = MoveHit
value = 2000
ignorehitpause = 1
persistent = 1


[State 1550, ParentVarSet]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1

[State 1550, MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit

[State 1550, 13]
type = Explod
trigger1 = AnimElem = 30
ID = 471
anim = 6120
postype = p1
pos = 106, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 1550, 14]
type = Explod
trigger1 = AnimElem = 31
ID = 472
anim = 6121
postype = p1
pos = 176, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 1550, 15]
type = Explod
trigger1 = AnimElem = 32
ID = 471
anim = 6122
postype = p1
pos = 246, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 1550, 16]
type = Explod
trigger1 = AnimElem = 30
ID = 471
anim = 6123
postype = p1
pos = 316, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 1550, 17]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 112, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1550, 18]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 152, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1550, 19]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 192, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1550, 20]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 232, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1550, 21]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 272, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1550, 22]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 312, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1


[State 1550, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1550
trigger1 = AnimTime = 0
value = 9999


[State 1550, DestroySelf]
type = DestroySelf
trigger1 = Anim = 9999
trigger1 = NumExplod = 0
trigger2 = parent, MoveType = H
trigger3 = ScreenPos X <= -486
trigger4 = ScreenPos X >= 806
trigger5 = AnimTime = 0


;---------------------------------------------------------------------------
; Captain Storm
[Statedef 1600]
type = S
movetype = I
physics = S
anim = 1600
ctrl = 0
velset = 0, 0
sprpriority = 1


[State 1600, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 1600, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 0


[State 1600, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 1600, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 4, 4
channel = 0


[State 1600, SuperPause]
type = SuperPause
trigger1 = time = 7
time = 45
sound = S9120,0
anim = S9100
pos = -3, -86
movetime = 45
poweradd = -1000


[State 1600, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 2, 8

;----------------------
[State 0, VarSet carga Bg]
type = VarSet
trigger1 = time = 7
v = 45   ;fv = 10
value = 1


[State 0, carga Bg]
type = helper
triggerall = numhelper(9210)=0
trigger1 = time = 7
helpertype = normal
stateno = 9210
ID = 9210
name ="hyperbg"
postype = p1
pos = 0,0
ownpal = 1
persistent = 0
supermovetime = 9999
ignorehitpause = 1


[State 0, WinKO]
type = VarSet
trigger1 = WinKO
v = 16
value = 1
;----------------------


[State 1600, Explod]
type = Explod
trigger1 = AnimElem = 2
ID = 490
anim = 1565
postype = p1
pos = 0, 0
bindtime = -1
removetime = 45
sprpriority = 2
ownpal = 1
removeongethit = 1
supermovetime = 999


[State 1600, Helper]
type = Helper
trigger1 = time = 7
ID = 888
name = "Hoover"
StateNo = 1700
postype = p1
pos = -54, -(var(5))
ownpal = 1
supermovetime = 900

[State 1600, Helper]
type = Helper
trigger1 = time = 7
ID = 889
name = "Jennety"
StateNo = 1740
postype = p1
pos = -160, -(var(5))
ownpal = 1
supermovetime = 900

[State 1600, Helper]
type = Helper
trigger1 = time = 7
ID = 890
name = "Sho"
StateNo = 1780
postype = p1
pos = 40, -(var(5))
ownpal = 1
supermovetime = 900

[State 1600, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S3, 9


[State 1600, ChangeState]
type = ChangeState
trigger1 = time = 45
value = 1610

;-------------------------------------------------------------------------------
; Captain Storm - Dash at Opponent
[Statedef 1610]
type = S
movetype = A
physics = N
anim = 1610
velset = 15, 0


[State 1610, ChangeState]
type = ChangeState
triggerall = AnimElemNo(0) != 1
trigger1 = P2BodyDist X <= 25
value = 1620


[State 1610, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
physics = S


[State 1610, NotHitBy]
type = NotHitBy
trigger1 = time<34
value = ,NT,ST

[State 1610, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AP


[State 1000, Explod Dust]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 8555
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8555
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 1610, Explod]
type = Explod
trigger1 = AnimElem = 6
trigger2 = AnimElem = 6 = 2
trigger3 = AnimElem = 6 = 3
trigger4 = AnimElem = 7
ID = 43
anim = 6000
postype = p1
pos = 15, 0
bindtime = 1
removetime = -2
vel = -.2, 0
ownpal = 1
sprpriority = 2


[State 1610, VarSet]
type = VarSet
trigger1 = AnimTime = 0
v = 0
value = 2


[State 1610, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Captain Storm - Uppercut
[Statedef 1620]
type = S
movetype = A
physics = N
anim = 1620


[State 1620, NotHitBy]
type = NotHitBy
trigger1 = time<25
value = ,NA,NP,NT,ST


[State 1620, VelMul]
type = VelMul
trigger1 = time = 0
x = .5


[State 1620, Explod Dust]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 8551
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8551
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 1620, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = HitCount = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger3 = HitCount = 2
trigger4 = AnimElem = 5
trigger4 = HitCount = 3
attr = S, HA
hitflag = MAF
guardflag = MA
pausetime = 6, 6
guard.pausetime = 9, 9
animtype = Up
damage = 8, 2
priority = 7, Hit
sparkno = S8003
Guard.sparkno = S142
sparkxy = -5, -90
hitsound = S0, 11
guardsound = S0, 12
ground.velocity = -3, -4
ground.hittime = 50
ground.cornerpush.veloff = 0
air.velocity = -3, -4
air.hittime = 50
air.cornerpush.veloff = 0
guard.slidetime = 23
guard.hittime = 23
guard.velocity = -9
hitonce = 1
kill = 0
fall = 1
air.fall = 1
;p2stateno = 1820
givepower = 20
getpower = 0
id = 1820
envshake.time = 8
envshake.ampl = 5

[State 1620, HitDef]
type = HitDef
trigger1 = AnimElem = 6
trigger1 = HitCount = 4
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 5, 6
guard.pausetime = 9, 9
damage = 10, 2
priority = 7, Hit
sparkno = S8003
Guard.sparkno = S142
sparkxy = -5, -90
hitsound = S0, 11
guardsound = S0, 12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.slidetime = 23
guard.hittime = 23
guard.velocity = -9
hitonce = 1
kill = 0
fall = 1
air.fall = 1
;p2stateno = 1820
givepower = 20
getpower = 0
id = 1820
envshake.time = 8
envshake.ampl = 6


[State 1620, TargetState]
type = TargetState
trigger1 = MoveHit
value = 1820
persistent = 1

[State 1620, Width]
type = Width
trigger1 = MoveHit
value = 30, 0


[State 1620, VelSet]
type = VelSet
trigger1 = AnimElem = 5
y = -6


[State 1620, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
StateType = A


[State 1620, Gravity]
type = Gravity
trigger1 = time > 12


[State 1620, VarSet]
type = VarSet
trigger1 = MoveHit
v = 0
value = 1


[State 1620, NotHitBy]
type = NotHitBy
trigger1 = MoveHit
value = SCA
time = 10


[State 1620, ChangeState]
type = ChangeState
triggerall = MoveHit
trigger1 = HitCount = 5
trigger2 = AnimElemNo(0) = 7
value = 1630

[State 1620, 7]
type = VarSet
trigger1 = MoveGuarded
v = 0
value = 2

[State 1620, 7a]
type = VelMul
trigger1 = MoveGuarded
x = .5

[State 1620, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1625

;-------------------------------------------------------------------------------
;Captain Storm - Land from Uppercut
[Statedef 1625]
type = S
movetype = I
physics = S
anim = 1625


[State 1625, Landing Sound]
type = PlaySnd
trigger1 = time = 0
value = S52,0


[State 1625, Landing Wave]
type = Explod
trigger1 = time = 0
ID = 589
anim = 8500
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
ownpal = 1
sprpriority = -2
pausemovetime = 999999
supermovetime = 999999


[State 1625, VelSet]
type = VelSet
trigger1 = time = 0
y = 0


[State 1625, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 1625, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S52,0


[State 1625, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 640


[State 1625, VarSet]
type = VarSet
trigger1 = time = 0 ;AnimTime = 0
v = 0
value = 2

[State 1625, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Captain Storm - Initial attack connected, launching followups
[Statedef 1630]
type = A
movetype = I
physics = N


[State 1630, ChangeState]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 50
ctrl = 1


[State 1630, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0


[State 1630, TargetState]
type = TargetState
trigger1 = !time && numtarget
value = 1830


[State 1630, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 3


[State 1630, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 12


[State 1630, VelAdd]
type = VelAdd
trigger1 = time > 0
trigger1 = ScreenPos Y < 350
y = .39


[State 1630, VelSet]
type = VelSet
trigger1 = ScreenPos Y >= 350
x = 0
y = 0
persistent = 0


[State 1630, ChangeState]
type = ChangeState
trigger1 = ScreenPos Y >= 350
value = 1635

;-------------------------------------------------------------------------------
;Captain Storm - Helper Attacks
[Statedef 1635]
type = A
movetype = I
physics = N
anim = 0
velset = 0, 0


[State 1635, ChangeState]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 50
ctrl = 1


[State 1635, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0


[State 1635, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2


[State 1635, Helper 1]
type = Helper
trigger1 = time = 6
trigger2 = time = 60
ID = 770
name = "Jennety"
StateNo = 1691
postype = p1
pos = -20, 0
ownpal = 1

[State 1635, Helper 2]
type = Helper
trigger1 = time = 22
ID = 771
name = "Sho"
StateNo = 1692
postype = left
pos = -60, 40
ownpal = 1

[State 1635, Helper 3]
type = Helper
trigger1 = time = 44
ID = 772
name = "Hoover"
StateNo = 1693
postype = right
pos = 100, 90
ownpal = 1
facing = -1

[State 1635, Helper 4]
type = Helper
trigger1 = time = 77
ID = 771
name = "Sho"
StateNo = 1694
postype = right
pos = 100, 90
ownpal = 1
facing = -1

[State 1635, Helper 5]
type = Helper
trigger1 = time = 92
ID = 772
name = "Hoover"
StateNo = 1695
postype = left
pos = -60, 40
ownpal = 1


[State 1635, TargetState]
type = TargetState
trigger1 = time = 102 && numtarget
value = 1850


[State 1635, Turn]
type = Turn
trigger1 = time = 150


[State 1635, PosAdd]
type = PosAdd
trigger1 = time = 151
x = -85


[State 1635, VelSet]
type = VelSet
trigger1 = time = 160
y = -14


[State 1635, VelAdd]
type = VelAdd
trigger1 = time > 160
y = -.39


[State 1635, ChangeAnim]
type = ChangeAnim
trigger1 = time = 148
value = 1020

[State 1635, PlaySnd]
type = PlaySnd
trigger1 = time = 148
value = 4, 0


[State 1635, Helper]
type = Helper
trigger1 = Anim = 1020
trigger1 = AnimElem = 6
ID = 1635;789
name = "Energy Blast"
StateNo = 1025;1696
postype = p1
pos = 53, 9
ownpal = 1


[State 1635, PalFX]
type = PalFX
trigger1 = Anim = 1020
trigger1 = AnimElemNo(0) = 6
trigger1 = (time % 3) = 0
time = 2
add = 174,174,184
mul = 256,256,256
color = 200


[State 1635, VarSet]
type = VarSet
trigger1 = WinKO
v = 16
value = 2


[State 1635, ChangeState]
type = ChangeState
trigger1 = Pos Y <= 0
value = 1650

;-------------------------------------------------------------------------------
;Captain Storm - Stop Moving
[Statedef 1650]
type = S
movetype = I
physics = N
velset = 0, 0
sprpriority = 1


[State 1650, ChangeState]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1


[State 1650, b]
type = Null ;ScreenBound
trigger1 = (Anim != 183)
value = 0


[State 1650, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2


[State 1650, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 1650, VarSet]
type = VarSet
trigger1 = WinKO
v = 16
value = 2


[State 1650, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 1650, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1020
trigger1 = AnimTime = 0
value = 12

[State 1650, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 12
trigger1 = AnimTime = 0
value = 183
elem = 3


[State 1650, Helper]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 4
ID = 046
name = "Jennety"
StateNo = 1660
postype = p1
pos = -115, -(var(5))
ownpal = 1

[State 1650, Helper]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 4
ID = 047
name = "Sho"
StateNo = 1670
postype = p1
pos = 135, -(var(5))
ownpal = 1

[State 1650, Helper]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 4
ID = 048
name = "Hoover"
StateNo = 1680
postype = p1
pos = 10, -(var(5))
ownpal = 1


[State 1650, Explod]
type = Explod
triggerall = NumHelper(046) > 0
trigger1 = Helper(046), StateNo = 1665
ID = 789
anim = 7590
postype = p1
pos = 0, -76
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1
persistent = 0


[State 1650, PlaySnd]
type = PlaySnd
trigger1 = NumExplod(789) = 1
value = 2, 4
persistent = 0


[State 1650, VarAdd]
type = VarAdd
trigger1 = Anim = 183
v = 1
value = 1


[State 1650, VarSet]
type = VarSet
trigger1 = var(1) = 125
v = 0
value = 10


[State 1650, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 130
ID = 640


[State 1650, ChangeState]
type = ChangeState
trigger1 = var(1) = 130
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Jennety - Storm End Pose
[Statedef 1660]
type = A
movetype = I
physics = N
anim = 830;770
sprpriority = 0
velset = 2.6, 4

[State 1660, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1660, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1660, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1665

; Land and Pose
[Statedef 1665]
type = S
movetype = I
physics = N
anim = 201
velset = 0, 0

[State 1665, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1665, ChangeState]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 1760

;------------------------------
; Sho - Storm End Pose
[Statedef 1670]
type = A
movetype = I
physics = N
anim = 821
sprpriority = 0
velset = -3.4, 4

[State 1670, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1670, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1670, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1675

; Land and Pose
[Statedef 1675]
type = S
movetype = I
physics = N
anim = 184
velset = 0, 0

[State 1675, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1675, ChangeState]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 1800

;------------------------------
; Hoover - Storm End Pose
[Statedef 1680]
type = A
movetype = I
physics = N
anim = 810;730
sprpriority = 0
velset = -.3, 4

[State 1680, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1680, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1680, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1685

; Land and Pose
[Statedef 1685]
type = S
movetype = I
physics = N
anim = 186
velset = 0, 0

[State 1685, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1685, ChangeState]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 1720

;------------------
; Jennety Attack 1
[Statedef 1691]
type = A
movetype = A
physics = N
anim = 1220
velset = 1, -11

[State 1691, 1]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1691, 1a]
type = PlaySnd
trigger1 = time = 0
value = 3, 5

[State 1691, 1b]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1691, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag =
pausetime = 9, 9
damage = 30
sparkno = S8400
sparkxy = -5, -110
hitsound = S0, 13
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1691, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1691, 3]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;-----------------
; Sho Attack 1
[Statedef 1692]
type = A
movetype = A
physics = N
anim = 1725

[State 1692, b]
type = PlaySnd
trigger1 = time = 0
value = 3, 8

[State 1692, 1]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 12

[State 1692, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag =
pausetime = 9, 9
damage = 30
sparkno = S8400
sparkxy = -5, -60
hitsound = S0, 13
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1692, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1692, 3]
type = DestroySelf
trigger1 = ScreenPos X > 500

;----------------
; Hoover Attack 1
[Statedef 1693]
type = A
movetype = A
physics = N
anim = 1705

[State 1693, 1]
type = PlaySnd
trigger1 = time = 0
value = 3, 3

[State 1693, 2]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 18

[STate 1693, 3]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag =
pausetime = 9, 9
damage = 30
sparkno = S8003
Guard.sparkno = S142
sparkxy = -5, -60
hitsound = S0, 11
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1693, 3a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1693, 4]
type = DestroySelf
trigger1 = ScreenPos X < -100

;----------------
; Sho Attack 2
[Statedef 1694]
type = A
movetype = A
physics = N
anim = 1725

[State 1694, 1]
type = PlaySnd
trigger1 = time = 0
value = 3, 8

[State 1694, 2]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 19

[STate 1694, 3]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag =
pausetime = 9, 9
damage = 30
sparkno = S8400
sparkxy = -5, -60
hitsound = S0, 13
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0



[State 1694, 3a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1694, 4]
type = DestroySelf
trigger1 = ScreenPos X < -100

;-----------------
; Hoover - Attack 2
[Statedef 1695]
type = A
movetype = A
physics = N
anim = 1705

[State 1695, b]
type = PlaySnd
trigger1 = time = 0
value = 3, 3

[State 1695, 1]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 12

[State 1695, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag =
pausetime = 9, 9
damage = 35
sparkno = S8003
Guard.sparkno = S142
sparkxy = -5, -80
hitsound = S0, 11
kill = 0
fall = 1
air.fall = 1
p2stateno = 1850
givepower = 10
getpower = 0

[State 1695, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1695, 3]
type = DestroySelf
trigger1 = ScreenPos X > 500

;---------------------------------------------------------------------------
; Captain Storm Hoover - Pose for startup
[Statedef 1700]
type = A
movetype = I
physics = N
anim = 810;730
velset = 2.2, 7
sprpriority = -1

[State 1700, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1700, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1700, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1710

; Hoover - Land
[Statedef 1710]
type = S
movetype = I
physics = N
anim = 1700
velset = 0, 0

[State 1710, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1710, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 1730

[State 1710, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 1720

; Hoover - Leave when attack is blocked
[Statedef 1720]
type = A
movetype = I
physics = N
anim = 810;730
velset = 3, -14

[State 1720, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1720, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

; Hoover - Fly off for attack
[Statedef 1730]
type = A
movetype = I
physics = N
anim = 1705

[State 1730, 1]
type = Turn
trigger1 = time = 0

[State 1730, 2]
type = VelSet
trigger1 = time = 0
x = 11
y = -5

[State 1730, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------------------------------------------
; Captain Storm Jennety - Pose for Startup
[Statedef 1740]
type = A
movetype = I
physics = N
anim = 830;770
velset = 4.5, 7
sprpriority = 0

[State 1740, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1740, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1740, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1750

; Jennety - Land
[Statedef 1750]
type = S
movetype = I
physics = N
anim = 1710
velset = 0, 0

[State 1750, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1750, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 1770

[State 1750, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 1760

; Jennety - Leave when attack is blocked
[Statedef 1760]
type = A
movetype = I
physics = N
anim = 830;770
velset = -5, -14

[State 1760, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1760, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

; Jennety - Fly off for attack
[Statedef 1770]
type = A
movetype = I
physics = N
anim = 1220

[State 1770, 2]
type = VelSet
trigger1 = time = 0
x = 1
y = -16

[State 1770, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------------------------------------------
; Captain Storm Sho - Pose for Startup
[Statedef 1780]
type = A
movetype = I
physics = N
anim = 821
velset = -7, 7
sprpriority = 2

[State 1780, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1780, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1780, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1790

; Sho - Land
[Statedef 1790]
type = S
movetype = I
physics = N
anim = 1720
velset = 0, 0

[State 1790, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1790, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 1810

[State 1790, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 1800

; Sho - Leave when attack is blocked
[Statedef 1800]
type = A
movetype = I
physics = N
anim = 821
velset = -4, -14

[State 1800, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1800, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

; Jennety - Fly off for attack
[Statedef 1810]
type = A
movetype = I
physics = N
anim = 1725

[State 1810, 1]
type = NotHitBy
trigger1 = 1
value = SCA



[State 1810, 2]
type = VelSet
trigger1 = time = 0
x = 15
y = -6

[State 1810, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------
; Custom State for P2 hit by Captain Storm
[Statedef 1820]
type = A
movetype = H
physics = N
ctrl = 0
velset = -5, -3

[State 1820, 1]
type = ChangeAnim2
trigger1 = 1
value = 1820


[State 1820, 1a]
type = PosFreeze
trigger1 = time < 5

[State 1820, SelfState]
type = SelfState
trigger1 = time = 140
value = 5050

[State 1850, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1870

; Part 2
[Statedef 1830]
type = A
movetype = H
physics = N
velset = 0, -.1

[State 1830, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1820


[State 1830, 2]
type = VelSet
trigger1 = floor(ScreenPos Y) > floor(120 - const(size.mid.pos.y))
y = -1

[State 1830, 3]
type = VelSet
trigger1 = floor(ScreenPos Y) < floor(120 - const(size.mid.pos.y))
y = 1

[State 1830, 4]
type = VelSet
trigger1 = floor(ScreenPos Y) = floor(120 - const(size.mid.pos.y))
y = 0

[State 1830, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 1850, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1870

; Part 3
[Statedef 1840]
type = A
movetype = H
physics = N
velset = 0, -.1

[State 1840, 1]
type = ChangeAnim2
trigger1 = time < 9
value = 1820


[State 1840, 2]
type = PosFreeze
trigger1 = time < 9

[State 1840, 3]
type = PlayerPush
trigger1 = 1
value = 0

[State 1850, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1870

; Part 4
[Statedef 1850]
type = A
movetype = H
physics = N

[State 1850, 1]
type = ChangeAnim2
trigger1 = time < 9
value = 1820

[State 1850, Freeze]
type = PosFreeze
trigger1 = time < 9

[State 1850, 2]
type = VelSet
trigger1 = AnimElem = 1
y = -25

[State 1850, 2a]
type = VelAdd
trigger1 = time > 9
y = .90


[State 0, 1]
type = ChangeAnim2
trigger1 = time > 9
trigger1 = Vel Y >= 0
value = 1830


[State 1850, 3]
type = PlayerPush
trigger1 = 1
value = 0


[State 1850, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1870


[State 1850, SelfState]
type = SelfState
trigger1 = time = 300
value = 5050

; Part 5 - Flying through Air
[Statedef 1860]
type = A
movetype = H
physics = N
velset = -6, -17

[State 1860, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5061


[State 1860, 2]
type = VelAdd
trigger1 = 1
y = .39

[State 1860, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1870

; Part 6 - Hit Ground
[Statedef 1870]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1860, a]
type = ChangeAnim
trigger1 = time = 0
value = 5110

[State 1860, 1]
type = Explod
trigger1 = time = 0
anim = F62
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
sprpriority = 2

[State 1860, 2]
type = PlaySnd
trigger1 = time = 0
value = F7, 2

[State 1860, 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 1860, 4]
type = SelfState
trigger1 = time = 115
trigger1 = Alive
value = 5120

[State 1860, 5]
type = SelfState
;trigger1 = time = 115
trigger1 = !Alive
value = 5150


;---------------------------------------------------------------------------
; Custom States for getting hit by Sword

; Decide statetype
[Statedef 2000]
type = U
movetype = H
physics = U
ctrl = 0

[State 2000, 1]
type = ChangeState
trigger1 = StateType = S
value = 2010
ignorehitpause = 1

[State 2000, 2]
type = ChangeState
trigger1 = StateType = C
value = 2020
ignorehitpause = 1

[State 2000, 3]
type = ChangeState
trigger1 = StateType = A
value = 2030
ignorehitpause = 1

[State 2000, 4]
type = ChangeState
trigger1 = StateType = L
value = 2040
ignorehitpause = 1

;-------------------------------------------------
; Stand gethits
[Statedef 2010]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 =  1
value = 1
movecamera = 0,0


[State 2010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 2010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 2010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 2010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 2010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
type = a

[State 2010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5001 ;HITG_SLIDE

[State 2010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 2031

[State 2010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 2010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 2010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

; Crouching Gethit
[Statedef 2020]
type    = C
movetype= H
physics = N
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 =  1
value = 1
movecamera = 0,0

[State 2020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 2020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 2020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 2020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 2020, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5011 ;HITC_SLIDE

[State 2020, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 2031

[State 2020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 2020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 2020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

; Air Gethit
[Statedef 2030]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 =  1
value = 1
movecamera = 0,0

[State 2030, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 2030, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 2030, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 2030, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 2030, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 2031

[State 2030, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 2030, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 2030, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

; Fly through air
[Statedef 2031]
type    = A
movetype= H
physics = N
ctrl = 0

[State 2031, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 2031, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 2031, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5040 ;HITA_RECOV

[State 2031, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 2033 ;HITA_FALL

[State 2031, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2032 ;HITA_UP (transition)

; HitA_fall
[Statedef 2032]
type    = A
movetype= H
physics = N

[State 2032, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 2032, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 2032, 3]
type = Null ;ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;HITA_RECOV

[State 2032, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 2033 ;HITA_FALL

; Knocked up, falling
[Statedef 2033]
type    = A
movetype= H
physics = N

[State 2033, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 2033, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 2033, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 2033, 4] ;Recover near ground
type = Null ;ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = Null ;ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 2033, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 2050 ;HIT_BOUNCE

; Liedown Hit
[Statedef 2040]
type    = L
movetype= H
physics = N
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 =  1
value = 1
movecamera = 0,0

[State 2040, 1] ;Set default anim
type = VarSet
trigger1 = time = 0
sysvar(2) = ifelse (GetHitVar(yvel) = 0, 5080, 5090)

[State 2040, 2]
type = VarAdd
trigger1 = time = 0
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 2040, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
trigger1 = time = 0
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 2040, 3] ;Freeze
type = ChangeAnim
trigger1 = 1
value = 5050 ;sysvar(2)

[State 2040, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5081 ;HITL_SLIDE

[State 2040, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 2031 ;HITA_UP

; Bounce off ground
[Statedef 2050]
type    = L
movetype= H
physics = N

[State 2050, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 2050, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 2050, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 2050, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 2050, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 2050, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2050, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 2050, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 2050, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 2060 ;HIT_LIEDOWN

[State 2050, 8]
type = GameMakeAnim
trigger1 = Time = 1
;value = 61
;pos = 0, 0
;under = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 2050, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 2050, 10]
type = PlaySnd
trigger1 = Time = 1
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 2050, 11]
type = PosFreeze
trigger1 = 1

[State 2050, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 2051

[State 2050, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

; Bounce Up
[Statedef 2051]
type    = L
movetype= H
physics = N

[State 2051, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 2051, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 2051, 3]
type = HitFallVel
trigger1 = Time = 0

[State 2051, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 2051, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 2051, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 2060

; Liedown
[Statedef 2060]
type    = L
movetype= H
physics = N

[State 2060, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 2060, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 2060, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 2060, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 2060, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 2060, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2060, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 2060, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 2060, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 2060, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 2060, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 2060, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 2060, 11] ;If just died
type = SelfState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 2060, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 2060, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 2060, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 2060, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State 2060, 16]
type = SelfState
trigger1 = time = 80
value = 5120
ignorehitpause = 1


;---------------------------------------------------------------------------
;Capitain Variable Assist
[Statedef 3000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
sprpriority = 1
anim = 3000


[State 3000, VarSet]
type = VarSet
triggerall = !AILevel
trigger1 = !time && (command = "Ginzu[Sh](Ninja)")
v = 25
value = 0

[State 3000, VarSet]
type = VarSet
triggerall = !AILevel
trigger1 = !time && (command = "Jennet(Mmia)")
v = 25
value = 1

[State 3000, VarSet]
type = VarSet
triggerall = !AILevel
trigger1 = !time && (command = "Hoover(Baby)")
v = 25
value = 2


[State 3000, ChangeAnim Ginzu-Sh(Ninja)]
type = ChangeAnim
trigger1 = !time && var(25) = 0
value = 3000

[State 3000, ChangeAnim Jennet(Mmia)]
type = ChangeAnim
trigger1 = !time && var(25) = 1
value = 3001

[State 3000, ChangeAnim Hoover(Baby)]
type = ChangeAnim
trigger1 = !time && var(25) = 2
value = 3002


[State 3000, Explod Dust]
type = Explod
trigger1 = AnimElem = 2, = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 10,10
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3000, SuperPause]
type = SuperPause
trigger1 = Animelem = 2
time = 55
movetime = 55
sound = S9120,0
anim = S9100
pos = -5, -80
poweradd = -1000

;----------------------
[State 3000, VarSet carga Bg]
type = VarSet
trigger1 = time = 0
v = 45   ;fv = 10
value = 1


[State 3000, carga Bg]
type = helper
triggerall = numhelper(9210)=0
trigger1 = time >= 0
helpertype = normal
stateno = 9210
ID = 9210
name ="hyperbg"
postype = p1
pos = 0,0
ownpal = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3000, WinKO]
type = AssertSpecial
triggerall = !var(16)
trigger1 = time > 7
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

[State 3000, WinKO]
type = VarSet
trigger1 = WinKO
v = 16
value = 1
;----------------------



[State 3000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 4, 12
channel = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S25,0


[State 3000, VarSet]
type = VarSet
trigger1 = var(25) = 0
fvar(4) = p2dist X - 71


[State 3000, Helper]
type = Helper
triggerall = var(25) = 0
trigger1 = animelem = 3
ID = 3100
pos = P2dist X-71,-100
postype = p1
stateno = 3100
helpertype = normal
facing = 1
name = "Ginzu[Sh](Ninja)"
ownpal = 1
keyctrl = 0
pausemovetime = 65
supermovetime = 65

[State 3000, Helper]
type = Helper
triggerall = var(25) = 1
trigger1 = animelem = 3
ID = 3200
pos = -50,-140
postype = p1
stateno = 3200
helpertype = normal
name = "Jennet(Mmia)"
ownpal = 1
keyctrl = 0
pausemovetime = 65
supermovetime = 65


[State 3000, Helper]
type = Helper
triggerall = var(25) = 2
trigger1 = Animelem = 3
ID = 3300
pos = -50,-140
postype = p1
stateno = 3300
helpertype = normal
name = "Hoover(Baby)"
ownpal = 1
keyctrl = 0
pausemovetime = 65
supermovetime = 65


[State 3000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Capitain Variable Assist AI Level Ginzu[Sh](Ninja)
[Statedef 3010]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0

[State 3010, VarSet]
type = VarSet
trigger1 = !time
v = 25
value = 0


[State 3010, ChangeState]
type = ChangeState
trigger1 = time > 0
value = 3000
;-------------------------------------------------------------------------------
;Capitain Variable Assist AI Level Jennet(Mmia)
[Statedef 3011]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0


[State 3011, VarSet]
type = VarSet
trigger1 = !time
v = 25
value = 1


[State 3011, ChangeState]
type = ChangeState
trigger1 = time > 0
value = 3000

;-------------------------------------------------------------------------------
;Capitain Variable Assist AI Level Hoover(Baby)
[Statedef 3012]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0

[State 3012, VarSet]
type = VarSet
trigger1 = !time
v = 25
value = 2


[State 3012, ChangeState]
type = ChangeState
trigger1 = time > 0
value = 3000

;---------------------------------------------------------------------------
;Ginzu[Sh](Ninja) Start
[Statedef 3100]
type= A
movetype = I
physics = N
anim = 3100
ctrl = 0
sprpriority = 2


[state 3100, VarSet]
type = VarSet
trigger1 = !Time
fvar(2) = Pos Y


[state 3100, PosAdd]
type = PosAdd
trigger1 = animelem = 6
trigger1 = Pos Y < 0
x = (parent, fvar(4)) / 20


[state 3100, playsnd]
type = playsnd
trigger1 = time = 0
value = 1,5


[State 3100, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3100, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3130
time = 99
forceair = 1


[state 3100, VelSet]
type = VelSet
trigger1 = animelem = 6
y = 9


[State 3100, Explod]
type = Explod
trigger1 = animelemtime(6) = 0
ID = 1211
anim = 1216
postype = p1
pos = -15, -57
bindtime = 1
removetime = -2
vel = -1.8, -3
accel = 0, .35
sprpriority = 4
ownpal = 1
pausemovetime = 999999
supermovetime = 999999


[State 3100, ChangeState]
type = ChangeState
trigger1 = vel y > 0 && Pos Y >= 0
value = 3101

;---------------------------------------------------------------------------
;Ginzu[Sh](Ninja)Low
[Statedef 3101]
type = S
movetype = I
physics = N
juggle  = 0
ctrl = 0
anim = 3101
sprpriority = 6


[State 3101, PosSet]
type = PosSet
trigger1 = 1
y = 0


[state 3101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S52,1


[State 3101, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8500
sprpriority = -3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8500
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3101, NotHitBy]
type = NotHitBy
trigger1 =  time<15
value = SCA,NA,SA,NP,SP
time = 1


[State 3101, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3101, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3130
time = 99
forceair = 1


[State 3101, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3110

;---------------------------------------------------------------------------
;Ginzu[Sh](Ninja) Attack
[Statedef 3110]
type = S
movetype = A
physics = N
juggle  = 0
ctrl = 0
anim = 3110
sprpriority = 4


[State 3110, PosSet]
type = PosSet
trigger1 = AnimelemTime(2)<0
y = 0


[State 3110, NotHitBy]
type = NotHitBy
trigger1 = AnimelemTime(1)>=0 && animelemtime(2)<0
value = SA,NA,SA,NP,SP
time = 1

[State 3110, NotHitBy]
type = NotHitBy
trigger1 = AnimelemTime(2)>=0 && animelemtime(3)<0
value = S,NA,SA,NP,SP
value2 = C,NA,SA,NP,SP
time = 1

[State 3110, NotHitBy]
type = NotHitBy
trigger1 = AnimelemTime(3)>=0 && animelemtime(40)<20
value = S,NA,NP
value2 = C,NA,SA,NP,SP
time = 1


[State 3110, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3110, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3130
time = 99
forceair = 1


[State 3110, StateTypeSet]
type = StateTypeSet
trigger1 = Animelem = 2
statetype = A      ;S,A,C,L
physics = N        ;A,C,S,N


[State 3110, VelSet]
type = VelSet
trigger1 = Animelem = 2
x = 0
y = -5.8

[State 3110, VelAdd]
type = VelAdd
trigger1 = AnimelemTime(3)>0
y = .3


[State 3110, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(3) = 0
value = 3,6


[State 3110, Helper]
type = Helper
trigger1 = animelemtime(4) = 2
helpertype = normal
stateno = 3140
ID = 3140
name = "Bonb1"
pos = 28,-47
postype = p1
bindtime = -1
ownpal = 1


[State 3110, Helper]
type = Helper
trigger1 = animelemtime(4) = 8
helpertype = normal
stateno = 3140
ID = 3141
name = "Bonb2"
pos = 84,-74
postype = p1
bindtime = -1
ownpal = 1


[State 3110, Helper]
type = Helper
trigger1 = animelemtime(4) = 14
helpertype = normal
stateno = 3140
ID = 3142
name = "Bonb3"
pos = 25,-109
postype = p1
bindtime = -1
ownpal = 1


[State 3110, Helper]
type = Helper
trigger1 = animelemtime(4) = 20
helpertype = normal
stateno = 3140
ID = 3143
name = "Bonb4"
pos = -42,-38
postype = p1
bindtime = -1
ownpal = 1

[State 3110, Helper]
type = Helper
trigger1 = animelemtime(4) = 26
helpertype = normal
stateno = 3140
ID = 3144
name = "Bonb5"
pos = -60,-110
postype = p1
bindtime = -1
ownpal = 1


[State 3110, ChangeState]
type = ChangeState
trigger1 = animelemtime(4) >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3111

;---------------------------------------------------------------------------
;Ginzu[Sh](Ninja)End
[Statedef 3111]
type = S
movetype = I
physics = N
juggle  = 0
ctrl = 0
anim = 3111
sprpriority = 4


[State 3101, PosSet]
type = PosSet
trigger1 = 1
y = 0


[state 3101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S52,1


[State 3111, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8500
sprpriority = -3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8500
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3111, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3111, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3130
time = 99
forceair = 1


[State 3111, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3120

;---------------------------------------------------------------------------
;Ginzu[Sh](Ninja) Hit End
[Statedef 3120]
type  = A
movetype = A
physics = N
anim = 3120
ctrl = 0
sprpriority = 3


[State 3120, Turn]
type = Turn
trigger1 = time = 0


[State 3120, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 23
length = 20
palbright = 0,0,0
palcontrast = 256,256,256
timegap = 1
framegap = 5
trans = add1


[State 3120, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3120, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3120, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3130
time = 99
forceair = 1


[State 3120, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,5

[State 3120, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 3,5


[State 3120, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,HA
damage = 65,5
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12,12
sparkno = S8400+random%2
guard.sparkno = S8142
sparkxy = -10,-90
hitsound = S0,13
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5,-12
air.type = Low
air.hittime = 5
air.velocity = -5,-12
envshake.time = 12
envshake.ampl = 3



[State 3120, VelSet]
type = VelSet
trigger1 = time = 0
x = 15
y = -2

[State 3120, Destroyself]
type = Destroyself
trigger1 = time >= 150
trigger2 = BackEdgeDist < -105 || FrontEdgeDist < -105

;---------------------------------------------------------------------------
;Ginzu[Sh](Ninja) HitOver
[Statedef 3130]
type = A
movetype = H
physics = N
anim = 3130
ctrl = 0
sprpriority = -2


[State 3130, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3130, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3,7


[State 3130, VelSet]
type = VelSet
trigger1 = time = 1
x = -9
y = -7.5


[State 3130, Gravity]
type = Gravity
trigger1 = time > 1


[State 3130, Destroyself]
type = Destroyself
trigger1 = time >= 150
trigger2 = time >= 50
trigger2 = BackEdgeDist < -105 || FrontEdgeDist < -105

;-------------------------------------------------------------------------------
;Ginzu[Sh](Ninja) Projectil Esploso
[Statedef 3140]
type = A
movetype = A
physics = N
velset = 0,0
juggle = 1
ctrl = 0
anim = 3140
sprpriority = 0


[State 3140, SprPriority]
type = SprPriority
trigger1 = Ishelper(3140)
value = 6

[State 3140, SprPriority]
type = SprPriority
trigger1 = Ishelper(3141)
value = -3

[State 3140, SprPriority]
type = SprPriority
trigger1 = Ishelper(3142)
value = -1

[State 3140, SprPriority]
type = SprPriority
trigger1 = Ishelper(3143)
value = 6

[State 3140, SprPriority]
type = SprPriority
trigger1 = Ishelper(3144)
value = -2

[State 3140, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,9
channel = 3

[State 3140, StopSnd]
type = StopSnd
trigger1 = !animtime
channel = 3


[State 3140, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 12
freq = 60
ampl = -4
phase = 90


[State 3140, VelSet]
type = VelSet
trigger1 =  animelemtime(3)>0
x = -3
y = -1


[State 3140, HitDef]
type = HitDef
trigger1 = time = 1
attr = A, HP
damage = ifelse(IsHelper(3144),50,35),5
animtype = Heavy
guardflag = MA
hitflag = MAFP
priority = 5, hit
pausetime = 3,ifelse(IsHelper(3144),14,8)
sparkno = S8009
guard.sparkno = S8142
sparkxy = -10, -20
hitsound = S0,8
guardsound = 6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 15
ground.velocity = 5,ifelse(IsHelper(3144),-12,-7)
guard.velocity = -5
airguard.velocity = -6,-2
air.type = Low
air.velocity = 5,ifelse(IsHelper(3144),-12,-7)
air.hittime = 20
fall = 1
air.fall = 1
fall.recovertime = 40
fall.recover = 40
palfx.time = 51
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10


[State 3140,FireSparks]
type = helper
trigger1 = !numhelper(8100)
trigger1 = numtarget&&movehit
trigger1 = target,movetype=H&&!target,time
trigger1 = var(48):=(target,ID)
name = "FireSparks"
id = 8100
stateno = 8100
helpertype = normal
postype = p2
pos = 0,0
ownpal = 1
keyctrl = 0
size.yscale = 1
size.xscale = 1
pausemovetime = 9999999
supermovetime = 9999999
ignorehitpause = 1
persistent = 0


[State 3140, DestroySelf]
type = DestroySelf
trigger1 = animTime = 0

;-------------------------------------------------------------------------------
;Jennet(Mmia)Start
[Statedef 3200]
type = A
movetype = I
physics = N
anim = 3200
ctrl = 0
sprpriority = 2


[State 3200, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3200, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3230
time = 99
forceair = 1


[state 3200, VelSet]
type = velset
trigger1 = time = 1
x = 6
y = 9

[State 3200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,5


[State 3200, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3201

;---------------------------------------------------------------------------
;Jennet(Mmia)Low
[Statedef 3201]
type  = S
movetype = I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3201
ctrl = 0
sprpriority = 4


[State 3201, PosSet]
type = PosSet
trigger1 = 1
y = 0


[state 3201, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S52,2


[State 3201, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8500
sprpriority = -3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8500
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3201, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3201, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3230
time = 99
forceair = 1


[State 3201, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = 3,4

[State 3201, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3210

;-------------------------------------------------------------------------------
;Vacuum Helper
[Statedef 3205]
physics = N
velset = 0,0
anim = 3205

[State 3205, nhb]
type=nothitby
trigger1=1
time=-1
value=SCA

[State 3205, hitoverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA,AA,AP,AT
stateno=3205
ignorehitpause=1

[State 3205, bound]
type=screenbound
trigger1=1
value=0

[State 3205, turn]
type=turn
trigger1=rootdist x<5

[State 3205, push]
type=playerpush
trigger1=p2bodydist x=[-10,10]
value=1

[State 3205, pos]
type=posset
trigger1=1
y=0

[State 3205, vel]
type=velset
trigger1=root,var(1)=1
x=250.0/(rootdist x+50.0)

[State 3205, vel]
type=velset
trigger1=root,var(1)!=1
x=500.0/(rootdist x+50.0)

[State 3205, pos]
type=posadd
trigger1=p2bodydist x!=[-5,5]
x=ceil(p2dist x)-enemynear,const(size.ground.back)-5

[State 3205, end]
type=destroyself
trigger1=root,stateno!=3202||root,movecontact ;&& root,stateno!=3222||root,movecontact
trigger1=root,stateno!=3922||root,movecontact
trigger1=root,stateno!=3923||root,movecontact
trigger1=root,stateno!=3924||root,movecontact
trigger1=root,stateno!=3925||root,movecontact

;---------------------------------------------------------------------------
;Jennet(Mmia) Attack
[Statedef 3210]
type = S
movetype = A
physics = N
juggle  = 0
ctrl = 0
anim = 3210
sprpriority = 4
velset = 0, 0


[State 3210, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = 3, 10


[State 3210, Turn]
type = Turn
trigger1 = Facing = -1


[State 3210, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3210, PosAdd]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) >= 180
x = 6

[State 3210, PosAdd]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) >= 80
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) < 180
x = 3

[State 3210, PosAdd]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) >= 31
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) < 80
x = 1

[State 3210, PosAdd]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) <= -130
x = -6

[State 3210, PosAdd]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) <= -30
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) > -130
x = -3

[State 3210, PosAdd]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) <= 29
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) > -30
x = -1

[State 3210, VelSet]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) >= -40
x = 6

[State 3210, VelSet]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) >= -60
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) < -40
x = 3

[State 3210, VelSet]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) >= 21
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) < -30
x = 1

[State 3210, VelSet]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) <= 20
x = -6

[State 3210, VelSet]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) <= -10
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) > 10
x = -3


[State 3210, VelSet]
type = PosAdd
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) <= -19
trigger1 = (P2dist x + enemynear,const(size.mid.pos.x)) > -10
x = -1



[State 3210, pullhelper]
type = helper
trigger1 = !numhelper(3205) && animelem>=2
helpertype = normal
stateno = 3205
ID = 3205
name = "Vaccum FX"
postype = p2
pos = enemynear,const(size.ground.back)-25,-ceil(enemy,pos y)
persistent = 0
size.ground.back = 5
size.ground.front = 5
size.height = 240


[State 3210, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3210, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3230
time = 99
forceair = 1


[State 3210, HitDef]
type = HitDef
trigger1 = time%5 = 0
attr = S, HA
animtype  = Medium
damage = ifelse(hitcount<2,20,7),2
guardflag = MA
hitflag = MAFD
priority = 7, Hit
sprpriority = 6
pausetime = 3,3
sparkno = S8410+random%2
guard.sparkno = S8142
sparkxy = -10, -122
hitsound = S0, 13
guardsound = S0, 12
ground.type = High
ground.slidetime = 35
ground.hittime  = 30
ground.velocity = ifelse(hitcount>10,-8,2),ifelse(hitcount>10,-8,-2)
air.type = High
air.velocity = ifelse(hitcount>10,-8,2),ifelse(hitcount>10,-8,-2)
air.juggle = 3
fall.recover = 0
getpower=0
givepower=20
envshake.time = 16
envshake.freq = 40
envshake.ampl = 4

[State 3210, HitDef]
type = HitDef
trigger1 = time%10 = 5
attr = S, HA
damage = ifelse(hitcount<2,15,7),2
animtype  = heavy
guardflag = MA
hitflag = MAFD
priority = 7, Hit
sprpriority = 6
pausetime = 3,3
sparkno = S8410+random%2
guard.sparkno = S8142
sparkxy = -10, -122
hitsound = S0, 13
guardsound = S0, 12
ground.type = High
ground.slidetime = 35
ground.hittime  = 30
ground.velocity = ifelse(hitcount>10,-8,-2),ifelse(hitcount>10,-8,-2)
air.type = High
air.velocity = ifelse(hitcount>10,-8,-2),ifelse(hitcount>10,-8,-2)
air.juggle = 3
fall.recover = 0
p2facing = 1
air.fall = 1
fall = 1
getpower=0
givepower=20
envshake.time = 16
envshake.freq = 40
envshake.ampl = 4


[State 3210, ChangeState]
type = ChangeState
trigger1 = time >= 100
trigger2 = hitcount>12
value = 3211

;---------------------------------------------------------------------------
;Jennet(Mmia) End
[Statedef 3211]
type = A
movetype = I
physics = N
anim = 3211
ctrl = 0
sprpriority = 4


[State 3211, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3211, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3230
time = 99
forceair = 1


[State 3211, velset]
type = velset
trigger1 = time = 20
x = -9
y = -7.5


[State 3211, playsnd]
type = playsnd
trigger1 = time = 20
value = 1,5


[State 3211, Destroyself]
type = Destroyself
trigger1 = time >= 150
trigger2 = BackEdgeDist < -105 || FrontEdgeDist < -105

;---------------------------------------------------------------------------
;Jennet(Mmia) HitOver
[Statedef 3230]
type = A
movetype = H
physics = N
anim = 3230
ctrl = 0
sprpriority = -2


[State 3130, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3230, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1800,0

[State 3230, VelSet]
type = VelSet
trigger1 = time = 1
x = -9
y = -7.5


[State 3230, Gravity]
type = Gravity
trigger1 = time > 1


[State 3130, Destroyself]
type = Destroyself
trigger1 = time >= 150
trigger2 = BackEdgeDist < -105 || FrontEdgeDist < -105

;-------------------------------------------------------------------------------
;Hoover(Baby) Start
[Statedef 3300]
type = A
movetype = I
physics = N
anim = 3300
ctrl = 0
sprpriority = 2


[State 3300, NotHitBy]
type = NotHitBy
trigger1 = time<20
value = SCA,NA,SA,NP,SP
time = 1


[State 3300, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3300, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3330
time = 99
forceair = 1


[state 3300, VelSet]
type = velset
trigger1 = time = 1
x = 6
y = 9

[state 3300, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,5


[State 3300, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3301

;---------------------------------------------------------------------------
;Hoover(Baby) Atack
[Statedef 3301]
type  = S
movetype = A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3301
poweradd = 0
sprpriority = 2

[State 3301, PosSet]
type = PosSet
trigger1 = 1
y = 0


[state 3301, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S52,3


[State 3301, NotHitBy]
type = NotHitBy
trigger1 = time<10
value = S,NA
time = 1


[State 3301, NotHitBy]
type = NotHitBy
trigger1 = AnimelemTime(2)>0 && animelemtime(3)<0
value = SA,NA,SA,NP,SP
time = 1


[State 3301, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8500
sprpriority = -3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8500
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3301, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3301, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3330
time = 99
forceair = 1

[state 3301,1]
type = playsnd
trigger1 = time = 15
value = 3,3

[State 3301, Explod]
type = Explod
trigger1 = time = 19
anim = 460
pos = 0, 0
postype = p1
removetime = -2
ignorehitpause = 1
bindtime = 1
persistent = 0
sprpriority = 5
ownpal = 1


[State 3301, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal
name = "Baby Nissil"
stateno = 3310
ID = 3310
pos = 62,-66
postype = p1
ownpal = 1
pausemovetime = 999999
supermovetime = 999999


[State 3301, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3302

;---------------------------------------------------------------------------
;Hoover(Baby) End
[Statedef 3302]
type  = S
movetype = I
physics = N
anim = 3302
ctrl = 0
sprpriority = 4


[State 3302, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA, AA, AP
time = 99

[State 3302, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA, AA, AP
stateno = 3330
time = 99
forceair = 1


[State 3302, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
movetype = A
physics = N


[state 3302, PlaySnd Voice]
type = PlaySnd
trigger1 = time = 2
value = 3,0

[state 3302, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 1,5

[state 3302, PlaySnd Voice]
type = PlaySnd
trigger1 = animelemtime(3) = 2
value = 3,3


[state 3302, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 23
length = 20
palbright = 0,0,0
palcontrast = 256,256,256
timegap = 1
framegap = 5
trans = add1


[state 3302, Explod Dust]
type = Explod
trigger1 = animelem = 2
anim = 8550
sprpriority = 3
postype = p1
pos = 45,15
bindtime = 1
ownpal = 1
id = 8550
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3302, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A,HA
damage = 75,5
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,14
sparkno = S8003
guard.sparkno = S8142
sparkxy = -10,-90
hitsound = S0,11
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -8,-14
air.type = Low
air.hittime = 5
air.velocity = -8,-13
envshake.time = 8
envshake.ampl = 5


[state 3302, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 10
y = -7

[State 3302, Destroyself]
type = Destroyself
trigger1 = time >= 150
trigger2 = BackEdgeDist < -105 || FrontEdgeDist < -105

;---------------------------------------------------------------------------
;Hoover(Baby) HitOver
[Statedef 3330]
type    = A
movetype = H
physics = N
anim = 3330
ctrl = 0
sprpriority = 4


[state 3303, 1]
type = nothitby
trigger1 = Time >= 0
value = SCA
time = 2
ignorehitpause = 1

[State 3330, VelSet]
type = VelSet
trigger1 = time = 1
x = -9
y = -7.5


[State 3330, Gravity]
type = Gravity
trigger1 = time > 1


[State 3330, Destroyself]
type = Destroyself
trigger1 = time >= 150
trigger2 = BackEdgeDist < -105 || FrontEdgeDist < -105

;---------------------------------------------------------------------------
;Baby Missil
[Statedef 3310]
type = A
movetype = A
physics = N
anim = 3310
sprpriority = 6


[State 3310, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S15,13


[state 3110, VelSet]
type = VelSet
trigger1 = Time = 0
x = 6
y = -3


[State 3310, HitBy]
type = HitBy
trigger1 = time>=0
value = SCA,AP
time = 99


[State 3310, HitOverride]
type = HitOverride
trigger1 = time>=0
attr = SCA,AP
stateno = 3315
time = 99


[State 3110, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, HP
damage = 0,2
animtype = Heavy
guardflag = MA
hitflag = MAFP
priority = 5, hit
pausetime = 1, 1
sparkno = S8009
guard.sparkno = S8142
sparkxy = 20, -90
hitsound = S0,11
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3
guard.velocity = -3
airguard.velocity = -2, -1
air.type = Low
air.velocity = -2, -1
air.hittime = 15
p1stateno = 3311


[State 3110, ChangeState]
type = ChangeState
trigger1 = MoveContact
trigger2 = time = 10
value = 3311

;---------------------------------------------------------------------------
;Baby Missil Variavel Esplosion
[Statedef 3311]
type = A
movetype = A
physics = N
anim = 9999


[State 3311, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0


[State 3311, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Baby Esplosion"
stateno = 3315
ID = 3315
pos = 0,0
postype = p1
bindtime = -1
ownpal = 1
pausemovetime = 999999
supermovetime = 999999


[State 3311, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Baby Esplosion2"
stateno = 3315
ID = 3315
pos = 98,-86
postype = p1
bindtime = -1
ownpal = 1
pausemovetime = 999999
supermovetime = 999999


[State 3311, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Baby Esplosion3"
stateno = 3315
ID = 3315
pos = 68,20
postype = p1
bindtime = -1
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

[State 3311, Helper]
type = Helper
trigger1 = time = 18
helpertype = normal
name = "Baby Esplosion4"
stateno = 3315
ID = 3315
pos = -37,-60
postype = p1
bindtime = -1
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

[State 3311, Helper]
type = Helper
trigger1 = time = 24
helpertype = normal
name = "Baby Esplosion5"
stateno = 3315
ID = 3315
pos = -69,38
postype = p1
bindtime = -1
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

[State 3311, Helper]
type = Helper
trigger1 = time = 28
helpertype = normal
name = "Baby Esplosion6"
stateno = 3315
ID = 3316
pos = -155,-54
postype = p1
bindtime = -1
ownpal = 1
pausemovetime = 999999
supermovetime = 999999


[State 3311, DestroySelf]
type = DestroySelf
trigger1 = time>35

;---------------------------------------------------------------------------
; Esploso
[Statedef 3315]
type = A
movetype = A
physics = N
velset = 0,0
juggle = 1
ctrl = 0
anim = 3315
sprpriority = 5


[State 3315, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,9
channel = 3

[State 3315, StopSnd]
type = StopSnd
trigger1 = !animtime
channel = 3


[State 3315, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 12
freq = 60
ampl = -4
phase = 90
ignorehitpause = 1


[State 3315, HitDef]
type = HitDef
trigger1 = time = 0
attr = A, HP
damage = ifelse(IsHelper(3316),55,40),8
animtype = Heavy
guardflag = MA
hitflag = MAFP
priority = 5
sprpriority = 6
pausetime = 4, 4
guard.sparkno = S8142
sparkno = S8009
sparkxy = -10, -20
hitsound = S0,8
guardsound = 6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 25
ground.velocity = ifelse(IsHelper(3316),-8,6),ifelse(IsHelper(3316),-13,-7)
guard.velocity = -5
airguard.velocity = -6,-2
air.type = Low
air.velocity = ifelse(IsHelper(3316),-8,6),ifelse(IsHelper(3316),-13,-7)
air.hittime = 25
fall = 1
air.fall = 1
fall.recovertime = 40
fall.recover = 40
palfx.time = 51
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10



[state 3315,FireSparks]
type=helper
trigger1=!numhelper(8100)
trigger1=numtarget&&movehit
trigger1=target,movetype=H&&!target,time
trigger1=var(48):=(target,ID)
name="FireSparks"
id=8100
stateno=8100
helpertype=normal
postype=p2
pos=0,0
ownpal=1
keyctrl=0
size.yscale=1
size.xscale=1
pausemovetime=9999999
supermovetime=9999999
ignorehitpause=1
persistent=0


[State 3315, DestroySelf]
type = DestroySelf
trigger1 = animTime = 0
;-------------------------------------------------------------------------------
;Captain Combat
[Statedef 3400]
type    = S
movetype = A
physics = S
ctrl = 0
velset = 0,0


[State 3400, NotHitBy]
type = NotHitBy
trigger1 = animelem = 3,2
value = C,NA,SA,NT,ST
value2 = SA,NA,SA,NP,SP
time = 40


[State 3400, Position]
type = PosSet
trigger1 = Time = 0
y = 0


[State 3400, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = 3400


[State 3400, SprPriority]
type = SprPriority
Trigger1 = Time = 0
value = 3




[State 3401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0
channel = 1


[State 3400, SuperPause]
type = SuperPause
trigger1 = time = 4
time = 70
movetime = 70
sound = S9100,1
anim = S9104
pos = -58, -87
poweradd = -3000


;----------------------
[State 3400, VarSet carga Bg]
type = VarSet
trigger1 = time = 5
v = 45   ;fv = 10
value = 1


[State 3400, carga Bg]
type = helper
triggerall = numhelper(9200)=0
trigger1 = time >= 10
helpertype = normal
stateno = 9200
ID = 9200
name ="hyperbg"
postype = p1
pos = 0,0
ownpal = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3400, WinKO]
type = VarSet
trigger1 = WinKO
v = 16
value = 1
;----------------------

[State 3400, Helper]
type = Helper
triggerall = numhelper(9500)=0
trigger1 = time = 5
helpertype = normal
stateno = 9500
id = 9500
name ="Image"
postype = p1
pos = 0,0
ownpal = 1
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1


[State 3400, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = 3100,0
channel = 0

[State 3400, PlaySnd Voice]
type = PlaySnd
trigger1 = animelem = 7
value = 3100,1
channel = 0


[State 3400, Explod Dust]
type = Explod
trigger1 = Time = 4
anim = 8550
sprpriority = 5
postype = p1
pos = 10,10
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999



[State 3400, AfterImage]
type = AfterImage
triggerall = prevstateno != [3000,3999]
trigger1 = time = 3
time = 35
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast = 50,150
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1



[State 3400, StatetyPeset]
type = StatetyPeset
trigger1 = AnimElem = 9
movetype = I


[State 3400, EnvShake]
type = EnvShake
trigger1 = AnimElem = 7
time = 70
freq = 80
ampl = -5


[State 3400, VarSet]
type = VarSet
trigger1 = helper(3410),MoveHit
v = 0
value = 1


[State 3400, NotHitBy]
type = NotHitBy
trigger1 = helper(3410),MoveHit
value = SCA
time = 30



[State 3400, MoveGuarded]
type = VarSet
trigger1 = helper(3410),MoveGuarded
v = 0
value = 2

[State 3400, VelMul]
type = VelMul
trigger1 = helper(3410),MoveGuarded
x = .5

[State 3400, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal ;player
name = "Shock"
ID = 3410
stateno = 3410
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 3400, ChangeState]
type = ChangeState
trigger1 = helper(3410),MoveHit
;trigger1 = animtime = 0;AnimElemNo(0) = 20
value = 3401
;persistent = 1

[State 3400, ChangeState]
type = null;ChangeState
triggerall = MoveHit
trigger1 = HitCount = 2
trigger2 = AnimElemNo(0) = 20
value = 3401

[State 3400, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Captain Combat Rum Back
[Statedef 3401]
type    = S
movetype = A
physics = S
ctrl = 0
anim = 3401
sprpriority = 1



[State 3401, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3402
ctrl = 0

;---------------------------------------------------------------------------
;;Captain Combat Rum Back
[Statedef 3402]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 105
sprpriority = 1


[State 3402, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3402, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 3402, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = 1, 2


[State 3402, VelSet]
type = null;VelSet
trigger1 = time = 0
x = -5.5
persistent = 0

[State 3402, VelSet]
type = VelSet
trigger1 = BackEdgeBodyDist >50
trigger1 = time = 0
x = -4.5
persistent = 0

[State 3402, VelSet]
type = VelSet
trigger1 = BackEdgeBodyDist <=50
trigger1 = time = 0
x = 4.5
persistent = 0

[State 3402, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist > 50;BackEdgeBodyDist <=50
trigger1 = time = 0
x = -5.5
persistent = 0

[State 3402, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist <= 50;BackEdgeBodyDist <=50
trigger1 = time = 0
x = -4.5
persistent = 0


[State 3402, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
physics = S


[State 3402, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3403
ctrl = 0

;---------------------------------------------------------------------------
;Captain Combat Stop Moving
[Statedef 3403]
type  = S
movetype = A
physics = S
ctrl = 0
anim = 3403
sprpriority = 1


[State 3403, carga Bg]
type = helper
triggerall = numhelper(9220)=0
trigger1 = time >= 0
helpertype = normal
stateno = 9220
ID = 9220
name ="hyperbg"
postype = p1
pos = 0,0
ownpal = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3403, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1


[State 3403, PosSet Position]
type = PosSet
trigger1 = Time = 0
y = 0



[State 3403, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3404
ctrl = 0
;-------------------------------------------------------------------------------
;Captain Combat Legion
[Statedef 3404]
type = S
movetype = A
physics = S
anim = 3404
velset = 0, 0
sprpriority = 0


[State 3404, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2



[State 3404, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 3404, PlaySnd]
type = null;PlaySnd
trigger1 = NumExplod(789) = 1
value = 2, 4
persistent = 0


[State 3404, d]
type = VarSet
trigger1 = time = 0
v = 0
value = 0



[State 3404, PlaySnd Come on!]
type = PlaySnd
trigger1 = time = 100
value = S4,6
volume = 0

[State 3404, Helper]
type = Helper
trigger1 = time = 150
ID = 3900
pos = P2dist X-71,-140
postype = p1
stateno = 3900
helpertype = normal
name = "Ginzu[Sh](Ninja)"
ownpal = 1
keyctrl = 0
supermove = 45

[State 3404, PlaySnd Sh Name]
type = PlaySnd
trigger1 = time = 155
value = S6,1
channel = -1


[State 3404, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3404 && time = 470
value = 3405


[State 3404, PlaySnd Come on!]
type = PlaySnd
trigger1 = time = 480
value = S4,6
volume = 0


[State 3404, Helper]
type = Helper
trigger1 = time = 500
ID = 3920
pos = P2dist X-131,-140
postype = p1
stateno = 3920
helpertype = normal
name = "Jennet(Mmia)"
ownpal = 1
keyctrl = 0
supermove = 45

[State 3404, PlaySnd Jennet Name]
type = PlaySnd
trigger1 = time = 505
value = S6,2
channel = -1


[State 3404, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3405 && time = 1260
value = 3406


[State 3404, PlaySnd Come on!]
type = PlaySnd
trigger1 = time = 1270
value = S4,6
volume = 0


[State 3404, Helper]
type = Helper
trigger1 = time = 1290
ID = 3950
pos = -50,0
postype = back
stateno = 3950
helpertype = normal
name = "Hoover(Baby)"
ownpal = 1
keyctrl = 0
supermove = 45

[State 3404, PlaySnd Hoover Name]
type = PlaySnd
trigger1 = time = 1295
value = S6,3
channel = -1


[State 3404, Helper]
type = Helper
trigger1 = time = 320
ID = 890
name = "Sho End"
StateNo = 3480
postype = p1
pos = 30, -(var(5))
;pos = IfElse(facing = 1,IfElse(facing = -1,-30,30),-30),-(var(5))
helpertype = normal
ownpal = 1
keyctrl = 0
supermove = 45


[State 3404, Helper]
type = Helper
trigger1 = time = 1190
ID = 889
name = "Jennety End"
StateNo = 3450
postype = p1
pos = 6, -(var(5))
helpertype = normal
ownpal = 1
keyctrl = 0
supermove = 45


[State 3404, Helper]
type = Helper
trigger1 = time = 1580
ID = 888
name = "Hoover End"
StateNo = 3420
postype = p1
pos = -140, -(var(5))
helpertype = normal
ownpal = 1
keyctrl = 0
supermove = 45

[State 3404, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3406 && time = 1630
value = 3407


[State 3404, VarAdd]
type = VarAdd
trigger1 = Anim = 1534
trigger1 = NumHelper(999) = 0
v = 0
value = 1

[State 3404, PlaySnd Voice]
type = PlaySnd
trigger1 = time = 1660
value = S4,11
volume = 0


[State 3404, ChangeState]
type = ChangeState
trigger1 = Time = 1810;1580
value = 3405
ctrl = 0

;-------------------------------------------------------------------------------
;Captain Sword
[Statedef 3405]
type = S
movetype = A
physics = S
anim = 1500
ctrl = 0
velset = 0, 0
sprpriority = 1
facep2 = 1

[State 3405, b]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 3405, Turn]
type = null;Turn
trigger1 = time = 0
;ignorehitpause =
;persistent =


[State 3405, a]
type = PosSet
trigger1 = time = 0
y = 0

[State 3405, d]
type = VarSet
trigger1 = time = 0
v = 0
value = 0

[State 3405, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3405, Explod Dust]
type = Explod
triggerall = NumHelper(999) = 1
trigger1 = Helper(999),AnimElem = 5
trigger2 = Helper(999),AnimElem = 8
trigger3 = Helper(999),AnimElem = 12
trigger4 = Helper(999),AnimElem = 15
trigger5 = Helper(999),AnimElem = 18
trigger6 = Helper(999),AnimElem = 21
trigger7 = Helper(999),AnimElem = 23
trigger8 = Helper(999),AnimElem = 26
trigger9 = Helper(999),AnimElem = 29
trigger10 = Helper(999),AnimElem = 32
trigger11 = Helper(999),AnimElem = 35
trigger12 = Helper(999),AnimElem = 38
trigger13 = Helper(999),AnimElem = 41
trigger14 = Helper(999),AnimElem = 44
trigger15 = Helper(999),AnimElem = 47
anim = 8550
sprpriority = 3
postype = p1
pos = 10,8
random = 100,10
bindtime = 1
ownpal = 1
id = 8550
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3405, Explod Dust]
type = Explod
triggerall = NumHelper(999) = 1
trigger1 = Helper(999),AnimElem = 6
trigger2 = Helper(999),AnimElem = 19
trigger3 = Helper(999),AnimElem = 24
trigger4 = Helper(999),AnimElem = 33
trigger5 = Helper(999),AnimElem = 42
trigger6 = Helper(999),AnimElem = 48
anim = 8563
sprpriority = 5
postype = p1
pos = 0,5
bindtime = 1
facing = -1
ownpal = 1
id = 8563
vel = 0,0.5
scale = 1.3,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3405, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 4, 9
channel = 0

[State 3405, PlaySnd]
type = PlaySnd
trigger1 = Helper(999),AnimElem = 41
value = 4, 5
channel = 0

[State 3405, 2]
type = SuperPause
trigger1 = time = 7
time = 15
sound = S9100,1
anim = 9101
pos = -6, -129
;movetime = 2


[State 3405, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 2, 8


[State 3405, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = 3, 9


[State 3405, 12]
type = Helper
trigger1 = time = 44
ID = 999
name = "Sword Beam"
StateNo = 3495
postype = p1
pos = 0, 0
ownpal = 1

[State 3405, ChangeAnim]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 41;13
value = 1511

[State 3405, Explod Dust]
type = Explod
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 41;13
anim = 8560
sprpriority = 5
postype = p1
pos = 10,8
facing = -1
bindtime = 1
ownpal = 1
id = 8560
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3405, 14]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 47;19
value = 1512

[State 3405, 15]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 50;22
value = 1513

[State 3405, 16]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 58;30
value = 1514

[State 3405, 17]
type = VarSet
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 48;20
v = 0
value = 1

[State 3405, 18]
type = VarSet
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), MoveHit
trigger1 = Helper(999), AnimElemNo(0) = 52;24
v = 6
value = 1

[State 3405, 18a]
type = VarSet
trigger1 = WinKO
v = 16
value = 1

[State 3405, 19]
type = VarAdd
trigger1 = Anim = 1514
trigger1 = NumHelper(999) = 0
v = 0
value = 1

[State 3405, 19a]
type = RemoveExplod
trigger1 = var(0) >= 20
ID = 640


[State 3405, ScreenBound]
type = ScreenBound
trigger1 = var(6) = 1
value = 0


[State 3405, ChangeState]
type = ChangeState
trigger1 = var(0) >= 20
trigger1 = var(6) = 1
value = 3408

[State 3405, ChangeState]
type = ChangeState
trigger1 = var(0) >= 20
value = 12
ctrl = 1


;-------------------------------------------------------------------------------
;Dash Back Onto Screen
[Statedef 3408]
type = S
movetype = I
physics = S
anim = 0


[State 3408, ChangeState]
type = ChangeState
trigger1 = BackEdgeDist <= 0
value = 3409

[State 3408, VarSet]
type = VarSet
trigger1 = BackEdgeDist > 0
v = 6
value = 0


[State 3408, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0


[State 3408, ChangeState]
type = ChangeState
trigger1 = BackEdgeDist > 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 3409]
type = S
movetype = I
physics = S


[State 3409, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0


[State 3409, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 3


[State 3409, ChangeAnim]
type = ChangeAnim
trigger1 = time = 50
value = 100


[State 3409, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 4, 22


[State 3409, PosAdd]
type = PosAdd
trigger1 = BackEdgeDist < -100
x = -70 - BackEdgeDist


[State 3409, VelSet]
type = VelSet
trigger1 = time = 50
x = 20


[State 3409, VarSet]
type = VarSet
trigger1 = Anim = 100
trigger1 = AnimTime = 0
v = 6
value = 0


[State 3409, ChangeState]
type = ChangeState
trigger1 = Anim = 100
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Explosion State
[Statedef 3410]
type = S
movetype = A
physics = N
sprpriority = 3
juggle = 15
hitdefpersist = 1


[State 3410, VarAdd]
type = VarAdd
trigger1 = 1
v = 0
value = 1


[State 3410, VarSet]
type = VarSet
trigger1 = var(0) = 1
fv = 0
value = parent, fvar(1)


[State 3410, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = fvar(0)


[State 3410, ChangeAnim]
type = ChangeAnim
trigger1 = var(0) = 1
value = 3410


[State 3410, PlaySnd]
type = PlaySnd
trigger1 = var(0) = 1
value = S900,2


[State 3410, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA
ignorehitpause = 1


[State 3410, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, HA
hitflag = MAFD
guardflag = MA
pausetime = 1, 9
damage = 80, 30
animtype = Up
sparkno = S8023+random%3
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y)
hitsound = S900, 3
guardsound = S0, 12
ground.velocity = -2,0
air.velocity = -2, 0
down.velocity = -1, -6
guard.slidetime = 18
guard.hittime = 19
guard.velocity = -8.5
sprpriority = 3
air.hittime = 35
ground.hittime = 35
fall = 0
air.fall = 0
fall.recovertime = 75
snap = 100,0
;p2stateno = 5600
Id = 5600
palfx.time = 50
palfx.add = -255,-71,41
palfx.mul = 205,164,356
palfx.sinadd = 61,102,51,15
palfx.invertall = 1
palfx.color = 150
givepower = 90
getpower = 60
kill = 0
guard.kill = 0
fall.kill = 0


[State 3410, TargetState]
type = TargetState
trigger1 = Movehit
value = 5600
ID = 5600
;ignorehitpause = 1


[state 3410,Eletric Sparks]
type = helper
trigger1 = !numhelper(8300)
trigger1 = numtarget && movehit
trigger1 = target,movetype = H &&!target,time
trigger1 = var(48):=(target,ID)
name = "EletricSparks"
id = 8300
stateno = 8300
helpertype = normal
postype = p2
pos = 0,0
ownpal = 1
keyctrl = 0
size.yscale = 1
size.xscale = 1
pausemovetime = 9999999
supermovetime = 9999999
ignorehitpause = 1
persistent = 0

[state 3410,Eletric Sparks]
type = helper
triggerall = !numhelper(8305)
triggerall = numtarget && moveguarded
triggerall = target,movetype = H &&!target,time
triggerall = var(48):=(target,ID)
trigger1 = root,var(22) =[1,2]
name = "EletricSparks"
id = 8305
stateno = 8305
helpertype = normal
postype = p2
pos = 0,0
ownpal = 1
keyctrl = 0
size.yscale = 1
size.xscale = 1
pausemovetime = 9999999
supermovetime = 9999999
ignorehitpause = 1
persistent = 0


[State 3410, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

;-----------------------------------------------------
; Hoover - Captain Sword
[Statedef 3420]
type = A
movetype = H;I
physics = N
anim = 810;730
;velset = 4.4, 7
sprpriority = -1

[State 1520, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[state 3100,3]
type = velset
trigger1 = time = 1
x = 4.4
y = 7

[State 1520, 1]
type = VelAdd
trigger1 = 1
y = .3

[state 3200,2]
type = playsnd
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1,2

[State 1000, Explod Dust]
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= 0
anim = F8500
sprpriority = -3
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
id = 8500
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 1520, 2]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
;trigger1 = Pos Y >= 0
value = 3425

;------------------------
; Hoover - Land
[Statedef 3425]
type = S
movetype = I
physics = N
anim = 3420
velset = 0, 0
facep2 = 1

[State 1525, 1]
type = PosSet
trigger1 = time = 0
y = 0


[State 1525, 3]
type = ChangeState
trigger1 = Helper(999),AnimElem = 1
trigger2 = parent, stateno != 3404
value = 3426
;------------------------
; Hoover - Land
[Statedef 3426]
type = S
movetype = I
physics = N
anim = 3421
velset = 0, 0
facep2 = 1

[State 1525, 1]
type = PosSet
trigger1 = time = 0
y = 0


[State 1525, 2]
type = ChangeAnim
trigger1 = parent, var(0) = 1
value = 3425
persistent = 0
facep1 = 1


[State 1525, 3]
type = ChangeState
trigger1 = parent, var(0) > 1
trigger2 = parent, MoveType = H
value = 3430

;-----------------------------------------------------
; Hoover - Jump Out
[Statedef 3430]
type = A
movetype = I
physics = N
anim = 810;730
velset = 3, -14

[State 1530, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1530, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;-----------------------------------------------------
; Jennety - Captain Sword
[Statedef 3450]
type = A
movetype = H;I
physics = N
anim = 770
;velset = 1, 7
sprpriority = 0
facep2 = 1

[State 1550, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[state 3100,3]
type = velset
trigger1 = time = 1
x = 1
y = 7

[State 1550, 1]
type = VelAdd
trigger1 = 1
y = .3

[state 3200,2]
type = playsnd
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1,2

[State 1000, Explod Dust]
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= 0
anim = F8500
sprpriority = -3
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
id = 8500
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 1550, 2]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
;trigger1 = Pos Y >= 0
value = 3455

;------------------------
; Jennety - Land
[Statedef 3455]
type = S
movetype = I
physics = N
anim = 3430
velset = 0, 0
facep2 = 1

[State 1555, 1]
type = PosSet
trigger1 = time = 0
y = 0


[State 1555, 3]
type = ChangeState
trigger1 = Helper(999),AnimElem = 1
trigger2 = parent, stateno != 3404
value = 3456


;------------------------
; Jennety - Land
[Statedef 3456]
type = S
movetype = I
physics = N
anim = 3431
velset = 0, 0
facep2 = 1

[State 1555, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1585, 2]
type = ChangeAnim
trigger1 = parent, var(0) = 1
value = 3435
persistent = 0
facep2 = 1


[State 1555, 3]
type = ChangeState
trigger1 = parent, var(0) > 1
trigger2 = parent, MoveType = H
value = 3460
;-----------------------------------------------------
; Jennety - Jump Out
[Statedef 3460]
type = A
movetype = I
physics = N
anim = 770
velset = -5, -14

[State 1560, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1560, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;-----------------------------------------------------
; Sho - Captain Sword
[Statedef 3480]
type    = A
movetype = H;I
anim = 821
physics = N
ctrl = 0
;velset = -4.4, 7
sprpriority = 2

[State 1580, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[state 3100,3]
type = velset
trigger1 = time = 1
x = -4.4
y = 7

[State 1580, 1]
type = VelAdd
trigger1 = 1
y = .3

[state 3200,2]
type = playsnd
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1,2

[State 1000, Explod Dust]
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= 0
anim = 8500
sprpriority = -3
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
id = 8500
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 1580, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
;trigger1 = Pos Y >= 0
value = 3485

;------------------------
; Sho - Land
[Statedef 3485]
type = S
movetype = I
physics = N
anim = 3440
velset = 0, 0
facep2 = 1

[State 1585, 1]
type = PosSet
trigger1 = time = 0
y = 7


[State 1585, ChangeState]
type = ChangeState
trigger1 = Helper(999),AnimElem = 1
trigger2 = parent, stateno != 3404
value = 3486

;------------------------
; Sho - Land
[Statedef 3486]
type = S
movetype = I
physics = N
anim = 3441
velset = 0, 0
facep2 = 1

[State 1585, 1]
type = PosSet
trigger1 = time = 0
y = 7

[State 1585, 2]
type = ChangeAnim
trigger1 = parent, var(0) = 1
value = 3445
persistent = 0



[State 1585, ChangeState]
type = ChangeState
trigger1 = parent, var(0) > 1
trigger2 = parent, MoveType = H
value = 3490
;-----------------------------------------------------
; Sho - Jump Out
[Statedef 3490]
type = A
movetype = I
physics = N
anim = 1141
velset = -4, -14

[State 1590, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1590, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;----------------------------------------
; Sword Beam
[Statedef 3495]
type = A
movetype = A
physics = N
sprpriority = 5

[State 1600, a]
type = VarAdd
trigger1 = 1
v = 0
value = 1

[State 1600, b]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1600, c]
type = ChangeAnim
trigger1 = var(0) = 1
value = 3495
sprpriority = 5


[State 1600, 1]
type = BindToParent
trigger1 = time = 0
pos = 0, 0
time = 9999

[State 1600, 2]
type = PlaySnd
trigger1 = var(0) = 1
value = 2, 10

[State 1600, 2]
type = PlaySnd
trigger1 = AnimElem = 12
trigger2 = AnimElem = 16
trigger3 = AnimElem = 25
trigger4 = AnimElem = 30
trigger5 = AnimElem = 35
trigger6 = AnimElem = 40
trigger7 = AnimElem = 45
value = 2, 11


[State 7001, AfterImage]
type = AfterImage
trigger1 = AnimElem = 26
time = 200
length = 4 ;45
palbright = -104,-104,7
palcontrast = 120,120,220
timegap = 5
framegap = 1
trans = add
ignorehitpause = -1
persistent = -1
pausemovetime = 999999
supermovetime = 999999


[State 1600, 3]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1600, 4]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 3495
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1600, 5]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1600, 6]
type = HitDef
trigger1 = AnimElem = 38
trigger2 = AnimElem = 39
trigger3 = AnimElem = 40
trigger4 = AnimElem = 41
trigger5 = AnimElem = 42
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 3
damage = 5, 2
animtype = back
sparkno = S8023+random%3
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -5, 3
air.velocity = -.2, -2
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
p2stateno = 2000

[State 1600, 7]
type = HitDef
trigger1 = AnimElem = 46
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 1
damage = 15, 2
animtype = back
sparkno = 8023+random%3
guard.sparkno = 8142;S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -5, 0
air.velocity = -8, 0 ;fvar(0)  ;3
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
yaccel = .65
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
p2stateno = 2000


[State 1600, 12]
type = HitDef
trigger1 = AnimElem = 52
attr = A, HA
hitflag = MAFD
guardflag = MA
pausetime = 9, 9
damage = 130, 2
animtype = back
sparkno = S8040
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -12, -14
air.velocity = -11, -14
guard.hittime = 20
guard.velocity = -15
airguard.velocity = -5, 1
fall = 1
air.fall = 1
fall.recover = 0
sprpriority = 3
givepower = 40
getpower = 0
p2stateno = 2000

[State 0, EnvShake]
type = EnvShake
trigger1 = MoveHit = 1
time = 15
freq = 60
ampl = -4
phase = 90


[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 58
time = 35
freq = 60
ampl = -6
phase = 90
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 58
value = S2,9
volume = 0
channel = -1


[State 1600, 12a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1

[State 1600, 12b]
type = MoveHitReset
trigger1 = MoveHit

[State 1600, 13]
type = Explod
trigger1 = AnimElem = 58
ID = 471
anim = 6120
postype = p1
pos = 106, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 1600, 14]
type = Explod
trigger1 = AnimElem = 59
ID = 472
anim = 6121
postype = p1
pos = 176, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 1600, 15]
type = Explod
trigger1 = AnimElem = 60
ID = 471
anim = 6122
postype = p1
pos = 246, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 1600, 16]
type = Explod
trigger1 = AnimElem = 58
ID = 471
anim = 6123
postype = p1
pos = 316, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 1600, 17]
type = Explod
trigger1 = AnimElem = 58
ID = 473
anim = 6110
postype = p1
pos = 112, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1600, 18]
type = Explod
trigger1 = AnimElem = 58
ID = 473
anim = 6110
postype = p1
pos = 152, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1600, 19]
type = Explod
trigger1 = AnimElem = 58
ID = 473
anim = 6110
postype = p1
pos = 192, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1600, 20]
type = Explod
trigger1 = AnimElem = 58
ID = 473
anim = 6110
postype = p1
pos = 232, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1600, 21]
type = Explod
trigger1 = AnimElem = 58
ID = 473
anim = 6110
postype = p1
pos = 272, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1600, 22]
type = Explod
trigger1 = AnimElem = 58
ID = 473
anim = 6110
postype = p1
pos = 312, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 1600, 23]
type = ChangeAnim
trigger1 = Anim = 3495
trigger1 = AnimTime = 0
value = 9999

[State 1600, 24]
type = DestroySelf
trigger1 = Anim = 9999
trigger1 = NumExplod = 0
trigger2 = parent, MoveType = H
trigger3 = ScreenPos X <= -486
trigger4 = ScreenPos X >= 806


;---------------------------------------------------------------------------
;"Ginzu[Sh](Ninja)Hyper Atack"
[Statedef 3900]
type = A
movetype = H
physics = N
anim = 3100
ctrl = 0
sprpriority = 2


[state 3900, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,5


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[state 3100, VelSet]
type = VelSet
trigger1 = time = 1
x = -6
y = 9


[state 3900, PlaySnd]
type = PlaySnd
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1,2


[State 3900, Explod Dust]
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= 0
anim = 8500
sprpriority = -3
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
id = 8500
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3900, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3901

;---------------------------------------------------------------------------
;"Ginzu[Sh](Ninja)Hyper Atack Parte 2"
[Statedef 3901]
type    = S
movetype = A
physics = S
anim = 3179
ctrl = 0
sprpriority = 2


[state 3901, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0


[State 3901, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3901,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3902

;---------------------------------------------------------------------------
;"Ginzu[Sh](Ninja)Hyper Atack Drill Claw X Start"
[Statedef 3902]
type    = U
movetype = A
physics = N
juggle  = 4
velset = 0,0
;anim = 3160;+10*(StateType = A)
;poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1

[State 3902]
type = ChangeAnim
trigger1 = Time = 0
value = 3150


[State 3902, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S1,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S3,5

[State 3902, VelSet]
type = VelSet
trigger1 = Time = 0
x = -3-(BackEdgeDist)*0.03
y = -8-(BackEdgeDist)*0.01

[State 3902]
type = VelAdd
trigger1 = 1
y = 0.3

[State 3902]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0


[State 3902, ChangeState]
type = ChangeState
trigger1 = BackEdgeDist < 15 && Pos Y < -80
value = 3903
ctrl = 0

[State 3902, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel y > 0
value = 3903
ctrl = 0
;---------------------------------------------------------------------------
;"Ginzu[Sh](Ninja)Hyper Atack Drill Claw X"
[Statedef 3903]
type    = U
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3160;+10*(StateType = A)
ctrl = 0
sprpriority = 0


[State 3903, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3903]
type = PosSet
trigger1 = Anim = 3160
x = -150*facing


[State 3903, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 45
anim = S9100
sound = S9100,0;s4000,5
pos = -10,-75
movetime = 45
darken = 0
p2defmul = 1
unhittable = 1



[State 3903, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 100,1


[State 3903, PlaySnd]
type = PlaySnd
trigger1 = Time = 65
value = 3,2


[State 3903]
type = varset
trigger1 = Time = 0
var(4) = 0

[State 3903, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3904

;---------------------------------------------------------------------------
;"Ginzu[Sh](Ninja)Hyper Atack Drill Claw X"
[Statedef 3904]
type    = U
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
;anim = var(4)
ctrl = 0
sprpriority = 0
facep2 = 1
movehitpersist = 1


[State 3904, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3904]
type = PlayerPush
trigger1 = 1
value = 0

[State 3904]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 3904, VarSet]
type = VarSet
trigger1 = time = 0
v = 35   ;fv = 10
value = 1


[State 3904]
type = PlaySnd
trigger1 = Time = 0 && !var(4)
value = 0,8


[State 3904]
type = VarSet
trigger1 = Time = 0
trigger1 = Pos X = Enemynear,Pos X
fvar(1) = (Pos Y -  (enemynear,Pos Y))


[State 3904]
type = VarSet
trigger1 = Time = 0
trigger1 = Pos X != Enemynear,Pos X
fvar(1) = facing*((Pos Y - (enemynear,Pos Y))/(Pos X - (enemynear,Pos X)))


[State 3904]
type = VarSet
trigger1 = Time = 0 && fvar(1) = 0
fvar(1) = 1

[State 3904, VelSet]
type = VelSet
trigger1 = Time = 0
x = 27

[State 3904, VelSet]
type = VelSet
trigger1 = Time = 0
y = (Vel X)*fvar(1)

[State 3904, VelSet]
type = VelSet
trigger1 = Time = 0 && Vel Y > 37
y = 37

[State 3904, VelSet]
type = VelSet
trigger1 = Time = 0 && Vel Y < -37
y = -37

[State 3904, VelSet]
type = VelSet
trigger1 = Time = 0 && abs(Vel Y) = 37
x = floor(Vel Y/(fvar(1)))

[State 3904, VelSet]
type = VelSet
trigger1 = Time = 0 && Vel X = 0
x = 1

[State 3904]
type = ChangeAnim
trigger1 = Time = 0
value = 3161+floor(((atan(((Vel Y))/(Vel X)))*(360/(2*pi))+90)/20)

[State 3904, 1]
type = AngleSet
trigger1 = anim = 3161
value = 90

[State 3904, 1]
type = AngleDraw
trigger1 = anim = 3161

[State 3904, 1]
type = AngleSet
trigger1 = anim = [3162,3164]
value = 45

[State 3904, 1]
type = AngleDraw
trigger1 = anim = [3162,3164]

[State 3904, 1]
type = AngleSet
trigger1 = anim = [3166,3168]
value = -45

[State 3904, 1]
type = AngleDraw
trigger1 = anim = [3166,3168]

[State 3904, 1]
type = AngleSet
trigger1 = anim = 3169
value = -90

[State 3904, 1]
type = AngleDraw
trigger1 = anim = 3169

[State 3904, HitDef]
type = HitDef
attr = A, HA
trigger1 = var(4) < 4
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 15
animtype = Medium
priority  = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 3,1
guard.pause = 10,10
sparkxy = var(42):=-20, var(43):=-58
guard.sparkxy = var(42):=-20, var(43):=-28
hitsound   = S0,13
guardsound = 6,0
sparkno = S8410+random%2
guard.sparkno = S8142
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 1,-7
air.velocity = 1,-7
guard.velocity = -9
airguard.velocity = -9
fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -9
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 1
kill = 0
guard.kill = 0
fall.kill = 0
envshake.time = 10
envshake.ampl = 3

[State 3904, HitDef]
type = HitDef
attr = A, HA
trigger1 = var(4) >= 4
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 20
animtype = Medium
priority  = 5, Hit
guardflag = HA
pausetime = 7,7
guard.pause = 10,10
sparkxy = var(42):=-20, var(43):=-58
guard.sparkxy = var(42):=-20, var(43):=-28
hitsound = S0,13
guardsound = 6,0
sparkno = S8410+random%8
guard.sparkno = S8142
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -30,-9
air.velocity = -30,-9
guard.velocity = -9
airguard.velocity = -9
fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -9
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 1
getpower = 50,25
p2stateno = 5621
kill = 0
guard.kill = 0
fall.kill = 0
envshake.time = 10
envshake.ampl = 4

[State 3904]
type = varadd
trigger1 = MoveHit
var(4) = 1
persistent = 0

[State 3904]
type = ChangeAnim
trigger1 = Anim != [3170,3173]
trigger1 = MoveHit && FrontEdgeDist < 15
value = 3170
persistent = 0


[State 3904]
type = ChangeAnim
trigger1 = Anim != [3170,3173]
trigger1 = MoveHit && ScreenPos Y < 80 && Vel Y < 0
value = 3173
persistent = 0

[State 3904]
type = ChangeAnim
trigger1 = Anim != [3170,3173]
trigger1 = MoveHit && ScreenPos Y > 240 && Vel Y > 0
value = 3172
persistent = 0

[State 3904]
type = VelSet
trigger1 = Anim = [3170,3173]
x = 0
y = 0

[State 3904]
type = Turn
trigger1 = Anim = [3170,3173]
trigger1 = p2bodydist x < 0
persistent = 0

[State 3904, ChangeState]
type = ChangeState
trigger1 = Anim = [3170,3173]
trigger1 = AnimTime = 0
value = 3904


[State 3161, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = var(4) > 7
value = 3905
ctrl = 0

[State 3161, ChangeState]
type = ChangeState
trigger1 = !MoveContact && Anim = [3161,3169]
trigger1 = FrontEdgeDist < 15 || ScreenPos Y > 320+abs(p2dist y) || ScreenPos Y < -abs(p2dist y)
value = 3905
ctrl = 0

[State 3161, ChangeState]
type = ChangeState
trigger1 = !MoveContact
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 3905

;---------------------------------------------------------------------------
;"Ginzu[Sh](Ninja)Hyper Atack Drill Claw X End"
[Statedef 3905]
type    = A
movetype= H
anim = 3100
physics = N
ctrl = 0
sprpriority = 2


[State 3905, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[state 3905,1]
type = playsnd
trigger1 = time = 0
value = 1,5


[state 3905, VelSet]
type = velset
trigger1 = time = 1
x = -6
y = -9


[State 3905, 6]
type = Destroyself
trigger1 = time = 185

;---------------------------------------------------------------------------
; "Jennet(Mmia)"
[Statedef 3920]
type    = A
movetype= H
anim = 3200
physics = N
ctrl = 0
sprpriority = 2


[State 3920, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[state 3920, VelSet]
type = VelSet
trigger1 = time = 1
x = 6
y = 9


[State 3920, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,5

[State 3920, PlaySnd]
type = PlaySnd
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1,2


[State 3920, Explod Dust]
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= 0
anim = 8500
sprpriority = -3
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
id = 8500
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3200, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3921

;---------------------------------------------------------------------------
; "Jennet(Mmia)"
[Statedef 3921]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3201
ctrl = 0
sprpriority = 4


[State 3921, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3901, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = 3,4


[State 3901, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3922

;---------------------------------------------------------------------------
; "Jennet(Mmia)"
[Statedef 3922]
type = S
movetype = A
physics = N
juggle  = 0
ctrl = 0
anim = 3922
sprpriority = 3
velset = 0, 0


[State 3922, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3922, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = 3, 10

[State 3922, Turn]
type = Turn
trigger1 = Facing = -1

[State 3922, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6, >= 0
trigger1 = Time % 8 = 0
value = 0,0

[State 3922, SuperPause]
type = SuperPause
trigger1 = AnimElem = 2
time = 45
anim = S9100
sound = S9100,0;s4000,5
pos = 5,-95


[State 3922, Explod Dust]
type = Explod
trigger1 = AnimElem = 2
anim = 8550
sprpriority = 5
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3922, Explod Dust]
type = Explod
trigger1 = AnimElem = 6
anim = 8500
sprpriority = -3
postype = p1
pos = 0,0
bindtime = 1
ownpal = 1
id = 8500
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3922, Explod Dust]
type = Explod
trigger1 = AnimElem = 8
anim = 8563
sprpriority = 3
postype = p1
pos = 0,5
bindtime = 1
ownpal = 1
id = 8563
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3922, Explod Dust]
type = Explod
trigger1 = time = 120
anim = 7200
sprpriority = 5
postype = p1
pos = 0,5
bindtime = 1
removetime = 100
ownpal = 1
id = 7200
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3922, HitDef]
type = HitDef
trigger1 = (Time%18) = 0
attr = A, HA
animtype  = Medium
damage = 5
guardflag = MA
hitflag = MAFD
priority = 7, Hit
sprpriority = 3
pausetime = 1,1
sparkno = S8410+random%8
guardsparkno = S8142
sparkxy = -10, -122
hitsound = S0, 13
guardsound = S0, 12
ground.type = High
ground.slidetime = 35
ground.hittime  = 33
ground.velocity = 0,-.5
air.type = High
air.velocity = 0,-.5
air.juggle = 3
fall.recover = 0
p2stateno = 3929
envshake.time = 16
envshake.freq = 40
envshake.ampl = 4
kill = 0
guard.kill = 0
fall.kill = 0


[State 3202, ChangeState]
type = ChangeState
trigger1 = time = 220
value = 3923

;---------------------------------------------------------------------------
; "Jennet(Mmia)"
[Statedef 3923]
type = S
movetype = A
physics = N
juggle  = 0
ctrl = 0
anim = 3923
sprpriority = 3
velset = 0, 0


[State 3923, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3202, 1]
type = PlaySnd
trigger1 = Time % 8 = 0
value = 0,0


[State 1000, Explod Dust]
type = Explod
trigger1 = Time % 16 = 0
anim = 7200
sprpriority = 5
postype = p1
pos = 0,0
vel = 0,-0.5
bindtime = 1
removetime = 84
ownpal = 1
id = 7200
ontop = 1
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 1000, Explod Dust]
type = Explod
trigger1 = Time % 16 = 0
anim = 7200
sprpriority = 5
postype = p1
pos = 0,0
vel = 0,0.5
bindtime = 1
removetime = 84
ownpal = 1
id = 7200
ontop = 1
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = -0.5


[State 3202, HitDef]
type = HitDef
trigger1 = (Time%12) = 0
attr = A, HA
animtype = Medium
damage = 5
guardflag = MA
hitflag = MAFD
priority = 7, Hit
sprpriority = 3
pausetime = 1,1
sparkno = S8410+random%8
guardsparkno = S8142
sparkxy = -10, -122
hitsound = S0, 13
guardsound = S0, 12
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,-3
air.type = High
air.velocity = 0,-3
air.juggle = 3
fall.recover = 0
p2stateno = 3930
envshake.time = 16
envshake.freq = 40
envshake.ampl = 4
kill = 0
guard.kill = 0
fall.kill = 0


[State 3202, ChangeState]
type = ChangeState
trigger1 = time = 84
value = 3924

;---------------------------------------------------------------------------
; "Jennet(Mmia)"
[Statedef 3924]
type = S
movetype = A
physics = N
juggle  = 0
ctrl = 0
anim = 3924
sprpriority = 3
velset = 0, 0


[State 3924, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3202, 1]
type = PlaySnd
trigger1 = Time % 8 = 0
value = 0,0


[State 1000, Explod Dust]
type = Explod
trigger1 = Time % 16 = 0
anim = 7200
sprpriority = 5
postype = p1
pos = 0,0
vel = 0,-1.5
bindtime = 1
removetime = 80
ownpal = 1
id = 7200
ontop = 1
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 1000, Explod Dust]
type = Explod
trigger1 = Time % 16 = 0
anim = 7200
sprpriority = 5
postype = p1
pos = 0,0
vel = 0,1.5
bindtime = 1
removetime = 80
ownpal = 1
ontop = 1
id = 7200
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = -1.5


[State 3202, HitDef]
type = HitDef
trigger1 = (Time%10) = 0
attr = A, HA
animtype  = Medium
damage = 4
guardflag = MA
hitflag = MAFD
priority = 7, Hit
sprpriority = 3
pausetime = 1,1
sparkno = S8420+random%2
guardsparkno = S8142
sparkxy = -10, -122
hitsound = S0, 13
guardsound = S0, 12
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,-3
air.type = High
air.velocity = 0,-3
air.juggle = 3
fall.recover = 0
getpower=0
givepower=20
p2stateno = 3931
envshake.time = 16
envshake.freq = 40
envshake.ampl = 4
kill = 0
guard.kill = 0
fall.kill = 0


[State 3202, ChangeState]
type = ChangeState
trigger1 = time = 80
value = 3925

;---------------------------------------------------------------------------
; "Jennet(Mmia)"
[Statedef 3925]
type = S
movetype = A
physics = N
juggle  = 0
ctrl = 0
anim = 3925
sprpriority = 3
velset = 0, 0


[State 3925, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3202, 1]
type = PlaySnd
trigger1 = Time % 8 = 0
value = 0,0

[State 1000, Explod Dust]
type = Explod
trigger1 = Time % 16 = 0
anim = 7200
sprpriority = 5
postype = p1
pos = 0,0
vel = 0,-4
bindtime = 1
removetime = 50
ownpal = 1
id = 7200
ontop = 1
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 1000, Explod Dust]
type = Explod
trigger1 = Time % 16 = 0
anim = 7200
sprpriority = 5
postype = p1
pos = 0,0
vel = 0,3
bindtime = 1
removetime = 50
ownpal = 1
ontop = 1
id = 7200
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = -3


[State 3202, HitDef]
type = HitDef
trigger1 = (Time%8) = 0
attr = A, HA
animtype  = Medium
damage = 4
guardflag = MA
hitflag = MAFD
priority = 7, Hit
sprpriority = 3
pausetime = 1,1
sparkno = S8410+random%8
guardsparkno = S8142
sparkxy = -10, -122
hitsound = S0, 13
guardsound = S0, 12
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,-3.5
air.type = High
air.velocity = 0,-3.5
air.juggle = 3
fall.recover = 0
getpower=0
givepower=20
p2stateno = 3932
envshake.time = 16
envshake.freq = 40
envshake.ampl = 4
kill = 0
guard.kill = 0
fall.kill = 0


[State 3202, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 3926

;---------------------------------------------------------------------------
; "Jennet(Mmia)"
[Statedef 3926]
type = S
movetype = A
physics = N
juggle  = 0
ctrl = 0
anim = 3926
sprpriority = 3
velset = 0, 0


[State 3926, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3202, 1]
type = PlaySnd
trigger1 = time = 5
value = 3, 10


[State 1000, Explod Dust]
type = Explod
trigger1 = Time % 16 = 0
anim = 7200
sprpriority = 5
postype = p1
pos = 0,0
vel = 0,-6
bindtime = 1
removetime = 40
ownpal = 1
id = 7200
ontop = 1
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 1000, Explod Dust]
type = Explod
trigger1 = Time % 16 = 0
anim = 7200
sprpriority = 5
postype = p1
pos = 0,0
vel = 0,5
bindtime = 1
removetime = 40
ownpal = 1
ontop = 1
id = 7200
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 8100, Turn]
type = Turn
trigger1 = Facing = -1

[State 3202, 1]
type = PlaySnd
trigger1 = Time % 8 = 0
value = 0,0


[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = -5


[State 3202, HitDef]
type = HitDef
trigger1 = (Time%5) = 0
attr = A, HA
animtype  = Medium
damage = 2
guardflag = MA
hitflag = MAFD
priority = 7, Hit
sprpriority = 6
pausetime = 1,1
sparkno = S8410+random%8
guardsparkno = S8142
sparkxy = -10, -122
hitsound = S0, 13
guardsound = S0, 12
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,-5.5
air.type = High
air.velocity = 0,-5.5
air.juggle = 3
fall.recover = 0
getpower = 0
givepower = 20
p2stateno = 3933
envshake.time = 16
envshake.freq = 40
envshake.ampl = 4
kill = 0
guard.kill = 0
fall.kill = 0


[State 3202, ChangeState]
type = ChangeState
trigger1 = time = 40
value = 3927

;---------------------------------------------------------------------------
; "Jennet(Mmia)"
[Statedef 3927]
type = S
movetype = A
physics = N
juggle  = 0
ctrl = 0
anim = 3926
sprpriority = 3
velset = 0, 0


[State 3927, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 1000, Explod Dust]
type = Explod
trigger1 = Time % 16 = 0
anim = 7200
sprpriority = 5
postype = p1
pos = 0,0
vel = 0,-6
bindtime = 1
removetime = 20
ownpal = 1
id = 7200
ontop = 1
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 1000, Explod Dust]
type = Explod
trigger1 = Time % 16 = 0
anim = 7200
sprpriority = 5
postype = p1
pos = 0,0
vel = 0,5
bindtime = 1
removetime = 20
ownpal = 1
ontop = 1
id = 7200
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3202, 1]
type = PlaySnd
trigger1 = Time % 8 = 0
value = 0,0


[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = -5


[State 3201, HitDef]
type = HitDef
trigger1 = Time = 0
damage = 20
attr = S, HT
animtype = Up
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 1,1
ground.slidetime = 16
ground.hittime  = 16
sparkno = S8008
guard.sparkno = S8142
sparkxy = 10, -76
hitsound = S5,0
guardsound = S6,0
guard.velocity = -9
fall.envshake.time = 8
fall.envshake.ampl = -4
fall.envshake.freq = 60
p2stateno = 3236;
fall = -1
kill = 0
guard.kill = 0
fall.kill = 0


[State 3102, Destroyself]
type = Destroyself
trigger1 = time = 20

;---------------------------------------------------------------------------
[Statedef 3929]
type    = S
movetype= H
physics = S
juggle = 1
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 0
facep2 = 1


[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 5652


[State 0, VelSet]
type = VelSet
trigger1 = root,anim!=3922
x = 0
y = 0


[State 0, SelfState]
type = SelfState
trigger1 = time = 800
value = 52
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3930]
type    = S
movetype= H
physics = S
juggle = 1
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 0
facep2 = 1


[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 5652



[State 0, VelSet]
type = VelSet
trigger1 = root,anim!=3923
x = 0
y = -0.5


[State 0, SelfState]
type = SelfState
trigger1 = time = 800
value = 52
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 3931]
type    = S
movetype= H
physics = S
juggle = 1
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 0
facep2 = 1


[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 5652


[State 0, VelSet]
type = VelSet
trigger1 = root,anim!=3924
x = 0
y = -1.5

[State 0, SelfState]
type = SelfState
trigger1 = time = 800
value = 52
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 3932]
type    = S
movetype= H
physics = S
juggle = 1
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 0
facep2 = 1


[State 3932, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 5652


[State 3932, VelSet]
type = VelSet
trigger1 = root,anim!=3925
x = 0
y = -3


[State 3932, SelfState]
type = SelfState
trigger1 = time = 800
value = 52
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3933]
type    = S
movetype= H
physics = S
juggle = 1
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 0
facep2 = 1


[State 3933, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 5652

[State 3933, VelSet]
type = VelSet
trigger1 = root,anim!=3926
x = 0
y = -5


[State 3933, SelfState]
type = SelfState
trigger1 = time = 800
value = 52
ctrl = 1


;---------------------------------------------------------------------------
;Hoover(Baby) Run FWD
[Statedef 3950]
type = S
movetype = A
physics = N
anim = 3950
velset = 15, 0
sprpriority = 4


[State 3950, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3950, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1


[State 3950, PosSet]
type = PosSet
trigger1 = time = 0
y = 8


[State 3950, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[state 3950, VelSet]
type = VelSet
trigger1 = time = 1
x = 6
y = 0

[state 3950, playsnd]
type = playsnd
trigger1 = time = 5
value = 2,11


[State 3950, Explod]
type = Explod
trigger1 = (time %8) = 1
ID = 41
anim = 1281
postype = p1
pos = -61, -9
bindtime = -1
removetime = -2
ownpal = 1
scale = .5,.5
sprpriority = -2
pausemovetime = 999999
supermovetime = 999999

[State 3950, Explod]
type = Explod
trigger1 = (time %8) = 0
ID = 42
anim = 1281
postype = p1
pos = 22, -15
bindtime = -1
removetime = -2
ownpal = 1
scale = .5,.5
sprpriority = -3
pausemovetime = 999999
supermovetime = 999999


[State 3950, Explod Dust]
type = Explod
trigger1 = AnimElem = 2, = 0
trigger2 = AnimElem = 5, = 0
anim = 8552
sprpriority = 5
postype = p1
pos = 10,15
bindtime = 1
ownpal = 1
id = 8552
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3950, ChangeState]
type = ChangeState
trigger1 = P2BodyDist X <= 25
value = 3960

;-------------------------------------------------------------------------------
;Hoover(Baby) Hyper Throw
[Statedef 3960]
type    = S
movetype = A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
sprpriority = 3

[State 3960, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3960, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 3960


[State 3960, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 45
anim = S9100
sound = S9100,0
pos = 15,-70


[State 3960, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = SA, HT
hitflag = M-
priority = 1, Miss
sparkno = -1
sprpriority = 3
hitsound = S800,0
p1facing = 1
p2facing = 1
p1stateno = 3961;IfElse(Pos Y < 0,3805,3961)
p2stateno = 3802;IfElse(Pos Y < 0,3806,3802)
fall = 1
id = 3960


[State 3960, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3810

;---------------------------------------------------------------------------
; Throwing the opponent
[Statedef 3961]
type    = S
movetype = A
physics = N
juggle  = 4
velset = 0,0
sprpriority = 3
hitcountpersist = 1


[State 3961, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3960, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 3961


[State 3961, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5

[State 3961, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3,3
volume = 200

[State 3961, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6, >= 0
trigger1 = Time % 7 = 0
value = 0,23
volume = 200


[State 3961, Explod Dust]
type = Explod
trigger1 = AnimElem = 5
anim = 8563
sprpriority = 5
postype = p1
pos = 0,5
bindtime = 1
ownpal = 1
id = 8563
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3961, SprPriority]
type = SprPriority
trigger1 = AnimElem = 6, >= 0
value = -5

[State 3961, SprPriority]
type = SprPriority
trigger1 = AnimElem = 7, >= 0
value = 5


[State 3961, VelSet]
type = VelSet
trigger1 = Time = 26
x = .5
y = -11


[State 3961, VelSet]
type = null;VelSet
triggerall = Target(3960), BackEdgeDist < 100
trigger1 = Time = 26
x = -5
y = -7

[State 3961, VelSet]
type = null;VelSet
triggerall = Target(3960), BackEdgeDist >= 100
trigger1 = Time = 26
x = 5
y = -7

[State 3961, VelSet]
type = null;VelSet
triggerall = Target(3960), BackEdgeDist < 100
trigger1 = Time = 26
x = -5
y = -9

[State 3961, VelSet]
type = null;VelSet
triggerall = Target(3960), BackEdgeDist >= 100
trigger1 = Time = 26
x = 5
y = -9

[State 3961, VelSet]
type = null;VelSet
triggerall = Target(3960), BackEdgeDist < 100
trigger1 = Time = 26
x = -5
y = -11

[State 3961, VelSet]
type = null;VelSet
triggerall = Target(3960), BackEdgeDist >= 100
trigger1 = Time = 26
x = 5
y = -11

[State 3961, Gravity]
type = VelAdd
trigger1 = Time >= 39
y = .7

[State 3961, Width]
type = Width
trigger1 = 1
edge = 70

[State 3961, TargetBind]
type = TargetBind
trigger1 = AnimElemtime(1)>=0 && animelemtime(2)<0
pos = 60, -75
id = 3960

[State 3961, TargetBind]
type = TargetBind
trigger1 = AnimElemtime(2)>=0 && animelemtime(3)<0
pos = 45, -75;-80
id = 3960

[State 3961, TargetBind]
type = TargetBind
trigger1 = AnimElemtime(3)>=0 && animelemtime(4)<0
pos = 42, -75;-67
id = 3960

[State 3961, TargetBind]
type = TargetBind
trigger1 = AnimElemtime(4)>=0 && animelemtime(5)<0
pos = 50, -75;-57
id = 3960

[State 3961, TargetBind]
type = TargetBind
trigger1 = AnimElemtime(5)>=0 && animelemtime(6)<0
pos = 37, -75;-74
id = 3960

[State 3961, TargetBind]
type = TargetBind
trigger1 = AnimElemtime(6)>=0 && animelemtime(7)<0
pos = 43, -75;-86
id = 3960

[State 3961, TargetBind]
type = TargetBind
trigger1 = AnimElemtime(7)>=0 && animelemtime(8)<0
pos = 27, -75;-83
id = 3960

[State 3961, TargetBind]
type = TargetBind
trigger1 = AnimElemtime(8)>=0 && animelemtime(9)<0
pos = -2, -75;-86
id = 3960

[State 3961, TargetBind]
type = TargetBind
trigger1 = AnimElemtime(9)=0
pos = 15, -75;-86
id = 3960

[State 3961, ChangeState]
type = ChangeState
triggerall = Time > 30
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3962

;---------------------------------------------------------------------------
; Throwing the opponent
[Statedef 3962]
type  = A
movetype = A
physics = N
juggle  = 4
anim = 3962
ctrl = 0
velset = 0,0
sprpriority = 3


[State 3962, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3962, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,6

[State 3962, EnvShake]
type = EnvShake
trigger1 =  time = 0
time = 20
freq = 60
ampl = -10

[State 3962, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3962, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = -2
y = -11

[State 3962, VelSet]
type = VelAdd
trigger1 = AnimElem = 4, >= 0
y = .6

[State 3962, TargetBind]
type = TargetBind
trigger1 = AnimElemtime(1)>=0 && animelemtime(4)<0
pos = 25, -35


[State 0, TargetState]
type = TargetState
trigger1 = AnimElem = 1
value = 3804
ID = -1


[State 3962, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 0
value = -90
kill = 0


[State 3962, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8565
sprpriority = 5
postype = p1
pos = 30,5
bindtime = 1
ownpal = 1
id = 8565
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3962, ChangeState]
type = ChangeState
triggerall = Time >= 25
trigger1 = Pos Y >= 0 && vel y >0
value = 3963
ctrl = 0

;---------------------------------------------------------------------------
; Jump Land
[Statedef 3963]
type    = S
movetype = A
physics = N
juggle  = 0
velset = 0,0
anim = 3963
sprpriority = 4


[State 3963, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 3963, VarSet]
type = VarSet
trigger1 = Stateno != 9000
trigger1 = Var(4) != 5150
v = 4
value = StateNo
ignorehitpause = 1

[State 3963, VarSet]
type = VarSet
trigger1 = Stateno != 9000
v = 5
value = AnimElemNo(0)
ignorehitpause = 1

[State 3963, VelSet]
type = Turn
trigger1 = Time = 0
trigger1 = PrevStateNo = 3405

[State 3963, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3963, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 3963, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15
freq = 60
ampl = -5


[State 3963, Landing Sound]
type = PlaySnd
trigger1 = time = 1
value = S52,0

[State 3963, Landing Wave]
type = Explod
trigger1 = time = 0
anim = 8500
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
ownpal = 1
sprpriority = -3
pausemovetime = 999999
supermovetime = 999999


[State 3963, ChangeState]
type = ChangeState
trigger1 = time>30
value = 3964

;---------------------------------------------------------------------------
; "Hoover(Baby) End"
[Statedef 3964]
type  = A
movetype = A
physics = N
velset = 0,0
anim = 3300
sprpriority = 4


[State 3964, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[state 3964, PlaySnd]
type = playsnd
trigger1 = time = 0
value = 3,0

[state 3964, PlaySnd]
type = playsnd
trigger1 = time = 1
value = 1,5

[state 3964, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = 3,3


[State 3964, AfterImage]
type = AfterImage
trigger1 = time = 30
time = 23
length = 20 ;45
;palcolor = 256
;palinvertall = 1
palbright = 0,0,0
palcontrast = 256,256,256
timegap = 1
framegap = 5
trans = add1

[State 3964, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 45,15
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[state 3964, VelSet]
type = VelSet
trigger1 = time = 0
x = -10
y = -7


[state 3964, Destroyself]
type = Destroyself
trigger1 = time = 135
trigger2 = BackEdgeDist < -105 || FrontEdgeDist < -105

;---------------------------------------------------------------------------
; Opponent Thrown
[Statedef 3802]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0


[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3802


[State 804, VelSet]
type = VelSet
trigger1 = AnimElem = 5, = 1
x = 0;-7
y = -8

[State 804, VelSet]
type = VelAdd
trigger1 = Time >= 25
y = .5

[State 0, ChangeState]
type = ChangeState
trigger1 = Pos y >= 0
trigger1 = Vel Y > 0
value = 3804


;---------------------------------------------------------------------------
; Opponent Thrown
[Statedef 3804]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
;time = 1
;facing = 0
pos = 0,0
;ignorehitpause =
;persistent =

[State 804, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3804

[State 804, VelSet]
type = VelSet
trigger1 = AnimElem = 5, = 1
x = 0
y = -8

[State 804, VelSet]
type = VelAdd
trigger1 = Time >= 5
y = .4

[State 0, ChangeState]
type = ChangeState
trigger1 = Pos y >= 0
trigger1 = Vel Y > 0
value = 5622


;---------------------------------------------------------------------------
; Throwing the opponent
[Statedef 3805]
type    = S
movetype= A
physics = N
anim = 3811
sprpriority = 3
velset = 0, 0

[State 1201, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3,3
volume = 200

[State 1201, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6, >= 0
trigger1 = Time % 7 = 0
value = 0,23
volume = 200

[State 805, SprPriority]
type = SprPriority
trigger1 = AnimElem = 7, >= 0
value = -5

[State 805, SprPriority]
type = SprPriority
trigger1 = AnimElem = 8, >= 0
value = 5

[State 805, VelSet]
type = VelSet
triggerall = var(2) = 1
triggerall = Target(3960), BackEdgeDist < 100
trigger1 = Time = 26
x = -5
y = -7

[State 805, VelSet]
type = VelSet
triggerall = var(2) = 1
triggerall = Target(3960), BackEdgeDist >= 100
trigger1 = Time = 26
x = 5
y = -7

[State 805, VelSet]
type = VelSet
triggerall = var(2) = 2
triggerall = Target(3960), BackEdgeDist < 100
trigger1 = Time = 26
x = -5
y = -9

[State 805, VelSet]
type = VelSet
triggerall = var(2) = 2
triggerall = Target(3960), BackEdgeDist >= 100
trigger1 = Time = 26
x = 5
y = -9

[State 805, VelSet]
type = VelSet
triggerall = var(2) = 3
triggerall = Target(3960), BackEdgeDist < 100
trigger1 = Time = 26
x = -5
y = -11

[State 805, VelSet]
type = VelSet
triggerall = var(2) = 3
triggerall = Target(3960), BackEdgeDist >= 100
trigger1 = Time = 26
x = 5
y = -11

[State 805, Gravity]
type = VelAdd
trigger1 = Time >= 39
y = .7

[State 805, Width]
type = Width
trigger1 = 1
edge = 70

[State 805, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1
pos = 60, -75
id = 801

[State 805, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2
pos = 45, -80
id = 801

[State 805, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3
pos = 42, -67
id = 801

[State 805, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4
pos = 50, -57
id = 801

[State 805, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5
pos = 37, -74
id = 801

[State 805, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6, >= 0 && AnimElem = 7, < 0
trigger2 = !AnimTime
pos = 43, -86
id = 801

[State 805, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7, >= 0 && AnimElem = 8, < 0
pos = 27, -83
id = 801

[State 805, TargetBind]
type = TargetBind
trigger1 = AnimElem = 8, >= 0 && AnimElem = 9, < 0
pos = -2, -86
id = 801

[State 805, TargetBind]
type = TargetBind
trigger1 = AnimElem = 9, >= 0 && AnimTime < 0
pos = 15, -86
id = 801

[State 805, ChangeState]
type = ChangeState
triggerall = Time > 30
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 3807

;---------------------------------------------------------------------------
; Opponent Thrown
[Statedef 3806]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 806, ChangeAnim2]
type = null;ChangeAnim2
trigger1 = Time = 0
value = 3802

[State 0, 1]
type = ChangeAnim2
triggerall = Time = 0
trigger1 = Enemy, Name != "Mecha Zangief" && Enemy, var(50)
trigger2 = Enemy, Name = "Mecha Zangief"
value = 3802


[State 0, 2]
type = ChangeAnim2
triggerall = Time = 0
trigger1 = Enemy, Name = "Mecha Zangief" && !Enemy, var(50)
trigger2 = Enemy, Name != "Mecha Zangief"
value = 3802 + 10000*(var(50))

[State 804, VelSet]
type = VelSet
trigger1 = AnimElem = 4, = 1
x = 0;-7
y = -8

[State 804, VelSet]
type = VelAdd
trigger1 = Time >= 25
y = .5

[State 0, ChangeState]
type = ChangeState
trigger1 = Pos y >= 0
trigger1 = Vel Y > 0
value = 3808

;---------------------------------------------------------------------------
; Throwing the opponent
[Statedef 3807]
type    = S
movetype= A
physics = N
anim = 3803
sprpriority = 3
velset = 0, 0

[State 807, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 807, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = -2
y = -11

[State 807, VelSet]
type = VelAdd
trigger1 = AnimElem = 4, >= 0
y = .6

[State 807, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1
pos = 60, -38

[State 807, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2
pos = 67, -23

[State 807, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3
pos = 70, -18

[State 807, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4
pos = 70, -68
time = 1

[State 807, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 3
value = -90
kill = 0
guard.kill = 0
fall.kill = 0

[State 807, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 3809
ctrl = 1



;---------------------------------------------------------------------------
; Opponent Thrown
[Statedef 3808]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 808, ChangeAnim2]
type = null;ChangeAnim2
trigger1 = Time = 0
value = 3804

[State 0, 1]
type = ChangeAnim2
triggerall = Time = 0
trigger1 = Enemy, Name != "Mecha Zangief" && Enemy, var(50)
trigger2 = Enemy, Name = "Mecha Zangief"
value = 3804


[State 0, 2]
type = ChangeAnim2
triggerall = Time = 0
trigger1 = Enemy, Name = "Mecha Zangief" && !Enemy, var(50)
trigger2 = Enemy, Name != "Mecha Zangief"
value = 3804 + 10000*(var(50))

[State 808, VelSet]
type = VelSet
trigger1 = AnimElem = 4, = 1
x = 0
y = -8

[State 808, VelSet]
type = VelAdd
trigger1 = Time >= 5
y = .4

[State 0, ChangeState]
type = ChangeState
trigger1 = Pos y >= 0
trigger1 = Vel Y > 0
value = 5622




;---------------------------------------------------------------------------
; Saotome Cyclone (Enemy Hit)
[Statedef 3236]
type    = A
movetype= H
physics = N
sprpriority = 0
velset = 0,0

[State 3206, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !SelfAnimExist(5250)
value = 3235


[State 3206, 2]
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5250)
value = 5250


[State 3206, 3]
type = PosAdd
trigger1 = time < 30
trigger2 = !SelfAnimExist(5262)
x = 0;P2Dist X + 50 * sin(Time % 360  * 2.5 / (2 * pi))
y = 0;P2Dist Y

[State 3206, 4]
type = PosAdd
trigger1 = time > 30
trigger1 = SelfAnimExist(5262)
x = 0;P2Dist X

[State 3206, 5]
type = ChangeAnim
trigger1 = time = 30
trigger1 = SelfAnimExist(5262)
value = 5262

[State 3206, 6]
type = SprPriority
trigger1 = time = 30
trigger1 = SelfAnimExist(5262)
value = 4

[State 3206, 7]
type = PlayerPush
trigger1 = 1
value = 0

[State 3206, 8]
type = ChangeState
trigger1 = Time = 60
value = 3237

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, going up)
[Statedef 3237]
type    = A
movetype= H
physics = N
velset = 0,-5

[State 3207, 1]
type = ChangeAnim2
trigger1 = anim = 5262
trigger1 = time = 12
trigger1 = !SelfAnimExist(5250)
value = 3235


[State 3207, 2]
type = ChangeAnim
trigger1 = anim = 5262
trigger1 = time = 12
trigger1 = SelfAnimExist(5250)
value = 5250


[State 3207, 3]
type = SprPriority
trigger1 = time = 12
value = 0

[State 3207, 4]
type = PosAdd
trigger1 = time = 0
x = 0;P2Dist X


[State 3207, 6] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 3207, 7]
type = PlayerPush
trigger1 = 1
value = 0

[State 3207, 8]
type = ChangeState
;trigger1 = Pos Y > -170
;trigger1 = ScreenPos Y < -150
trigger1 = Vel Y > 0
value = 3238

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 3238]
type    = A
movetype= H
physics = N

[State 3207, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !SelfAnimExist(5251)
value = 3236


[State 3207, 2]
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5251)
value = 5251


[State 3208, 2]
type = VelMul
trigger1 = Time = 0
y = -1

[State 3208, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 3208, 4]
type = PlayerPush
trigger1 = 1
value = 0

[State 3208, 5]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
;trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 3239 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 3239]
type    = L
movetype= H
physics = N

[State 3209, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 3209, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, 8]
type = GameMakeAnim
trigger1 = time = 0
value = 62 ;+ (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) >= 20


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F7,0
volume = 0
channel = -1

[State 3209, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 8

[State 3207, 5]
type = LifeAdd
trigger1 = Time = 0
value = -20
Kill = 0

[State 3209, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 3209, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100


[State 3209, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5101)
value = 5101

[State 3209, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3209, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 3209, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 3209, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 3209, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 3209, 11]
type = PosFreeze
trigger1 = 1

[State 3209, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5101)
value = 5110


[State 0, ChangeState]
type = ChangeState
trigger1 = time =0
value = 5622
ctrl = 0


[State 3209, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20



;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 3820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 3830

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 3830]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 4]
type = ChangeState
trigger1 = HitOver
trigger2 = Vel Y > 0 ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 3850 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3835 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 3835]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 4]
type = ChangeState
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0 ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0  ;No transition anim
trigger4 = Anim != 5035 ;.
value = 3850 ;HITA_FALL

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 3850]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0  ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE




;-------------------------------------------------------------------------------
;Super Captain Kick
[Statedef 3500]
type = S
movetype = A
physics = S
juggle = 0
ctrl = 0
poweradd = 0
velset = 0,0


[State 3500, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = 3500


[State 3500, Explod Dust]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3500, Superpause]
type = SuperPause
trigger1 = Time = 0
time = 45
anim = S9100
sound = S9100,1
pos = -40,-15
darken = 0
p2defmul = 1
poweradd = -1000
unhittable = 0


[State 3500, Explod Super Charge MVC2]
type = Explod
trigger1 = Time = 0
anim = 9103
ID = 9103
pos = -40,-15
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 20
ownpal = 1
pausemovetime = 999999
supermovetime = 999999


;----------------------
[State 0, VarSet carga Bg]
type = VarSet
trigger1 = time = 0
v = 45   ;fv = 10
value = 1


[State 0, carga Bg]
type = helper
triggerall = numhelper(9200)=0
trigger1 = time >= 0
helpertype = normal
stateno = 9200
ID = 9200
name ="hyperbg"
postype = p1
pos = 0,0
ownpal = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 0, WinKO]
type = AssertSpecial
triggerall = !var(16)
trigger1 = time > 7
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

[State 0, WinKO]
type = VarSet
trigger1 = WinKO
v = 16
value = 1
;----------------------


[State 3500, Width]
type = Width
trigger1 = 1
edge = 5,0


[State 3500, StatetyPeset]
type = StatetyPeset
trigger1 = AnimElem = 17
movetype = I


[State 3500, Position]
type = PosSet
trigger1 = Time = 0
y = 0


[State 3500, PlaySnd Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 850,0
channel = 9

[State 3500, PlaySnd Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 4,33
channel = 0


[State 3500, PlaySnd Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000,1
channel = 8

[State 3500, PlaySnd Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 9000,3
channel = 2

[State 3500, PlaySnd Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 0
channel = 20


[State 3500, StateType]
type = StateTypeSet
trigger1 = AnimElem = 2
StateType = A
physics = N


[State 3500, VelSet Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 15
y = -2.5

[State 3500, VelSet Velocity]
type = VelSet
trigger1 = AnimElem = 6
x = 10
y = -2.5


[State 3500, VelSet]
type = VelAdd
trigger1 = AnimElemTime(10) > 0
x = .08

[State 3500, VelAdd Gravity]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
trigger1 = AnimElemTime(14) < 0
y = .12

[State 3500, VelAdd Gravity]
type = VelAdd
trigger1 = AnimElemTime(14) >= 0
y = .01

[State 3500, VelMul Velocity]
type = VelMul
trigger1 = AnimElemTime(17) >= 0
x = .95
persistent = 1


[State 3500, Explod Flame 1]
type = Explod
trigger1 = AnimElem = 3
ID = 1056
anim = 1056
postype = p1
pos = 5, 10
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 3500, Golden Tiger Kick FX (Bottom)]
type = Explod
trigger1 = AnimElemtime(7)>=0 && animelemtime(9)<0
trigger1 = time%2 = 0
anim = 7205
ID = 7205
sprpriority = 4
pos = 108,-73
posType = P1
bindTime = -1
scale = 0.4,0.5
removetime = -2
ownPal = 1
ignorehitpause = 1
persistent = 1
pausemovetime = 999999
supermovetime = 999999

[State 3500, Golden Tiger Kick FX (Bottom)]
type = Explod
trigger1 = AnimElemtime(12)>=0 && animelemtime(13)<0
trigger1 = time%2 = 0
anim = 7205
ID = 7205
sprpriority = 4
pos = 128,-63
posType = P1
bindTime = -1
scale = 0.6,0.6
removetime = -2
ownpal = 1
ignorehitpause = 1
persistent = 1
pausemovetime = 999999
supermovetime = 999999


[State 3500, HitDef]
type = HitDef
Trigger1 = animelem = 3,1
Trigger2 = animelem = 3,4
Trigger3 = animelem = 3,8
Trigger4 = animelem = 3,12
attr = A, HA
animtype = Heavy
air.animtype = Back
damage = ifelse(hitcount<2,20,ifelse(var(21)=1,13,ifelse(var(21)=2,8,ifelse(var(21)=3,5,10)))),3
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 6,13
sparkno = S8009
guard.sparkno = S8142
sparkxy = -10, -73
hitsound = S0, 7
guardsound = S0, 12
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -4,-12
guard.velocity = -8
air.velocity = -4,-4.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -15
air.cornerpush.veloff = -15
guard.cornerpush.veloff = -15
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 6
fall = 1
fall.recover = 0
air.fall = 1
yaccel = .5
getpower = 0,0
givepower = 35, 35
palfx.color = 0
palfx.add = 240,50,0
palfx.sinadd = 110,55,85,10
palfx.mul = 250,224,120
palfx.time = 50
forcestand = 1

[State 3500, HitDef]
type = HitDef
Trigger1 = animelem = 7,1
Trigger2 = animelem = 8,1
Trigger3 = animelem = 8,4
Trigger4 = animelem = 8,8
attr = A, HA
animtype = Heavy
air.animtype = Back
damage= ifelse(hitcount<2,35,ifelse(var(21)=1,30,ifelse(var(21)=2,15,ifelse(var(21)=3,10,25)))),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 6,13
sparkno = S8009
guard.sparkno = S8142
sparkxy = -10, -70
hitsound = S0, 8
guardsound = S0, 12
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -4.5,-6
guard.velocity = -8
air.velocity = -4.5,-6
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -25
air.cornerpush.veloff = -25
guard.cornerpush.veloff = -11.2
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 6
fall = 1
fall.recover = 0
air.fall = 1
yaccel = .5
getpower = 0,0
givepower = 35, 35
palfx.color = 0
palfx.add = 240,50,0
palfx.sinadd = 110,55,85,10
palfx.mul = 250,224,120
palfx.time = 50
forcestand = 1

[State 3500, HitDef]
type = HitDef
Trigger1 = animelem = 12,1
Trigger2 = animelem = 12,4
Trigger3 = animelem = 12,8
Trigger4 = animelem = 12,12
attr = A, HA
animtype = Heavy
air.animtype = Back
damage = ifelse(hitcount<2,45,ifelse(var(21)=1,35,ifelse(var(21)=2,20,ifelse(var(21)=3,15,30)))),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 6,13
sparkno = S8009
guard.sparkno = S8142
sparkxy = -10, -70
hitsound = S0, 8
guardsound = S0, 12
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -4.5,-6
guard.velocity = -8
air.velocity = -4.5,-6
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -25
air.cornerpush.veloff = -25
guard.cornerpush.veloff = -11.2
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 6
fall = 1
fall.recover = 0
air.fall = 1
yaccel = .5
getpower = 0,0
givepower = 35, 35
palfx.color = 0
palfx.add = 240,50,0
palfx.sinadd = 110,55,85,10
palfx.mul = 250,224,120
palfx.time = 50
forcestand = 1


[state 3500,Fire Sparks]
type = helper
trigger1 = !numhelper(8100)
trigger1 = numtarget && movehit
trigger1 = target,movetype = H &&!target,time
trigger1 = var(48):=(target,ID)
name ="FireSparks"
id = 8100
stateno = 8100
helpertype = normal
postype = p2
pos = 0,0
ownpal = 1
keyctrl = 0
size.yscale = 1
size.xscale = 1
pausemovetime = 9999999
supermovetime = 9999999
ignorehitpause = 1
persistent = 0

[state 3500, Fire Sparks Light]
type = helper
triggerall = !numhelper(8105)
triggerall = numtarget
triggerall = target,movetype = H &&!target,time
triggerall = var(48):=(target,ID)
trigger1 = moveguarded && var(21) = 1
name = "FireSparksLight"
id = 8105
stateno = 8105
helpertype = normal
postype = p2
pos = 0,0
ownpal = 1
keyctrl = 0
size.yscale = 1
size.xscale = 1
pausemovetime = 9999999
supermovetime = 9999999
ignorehitpause = 1
persistent = 0


[State 3500, ChangeState]
type = ChangeState
triggerall = AnimElemTime(4) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger2 = Pos Y >= 0
value = 101

;------------------------------------------------------------------------------------------
;Captain Shock Drill
[Statedef 3550]
type = A
movetype = A
physics = N
velset = 0,0
anim = 3550
ctrl = 0
sprpriority = 2


[State 3550, Screenbound]
type = screenbound
trigger1 = Time >= 0
value = 1
movecamera = 120,0
ignorehitpause =1

[State 3550, Width]
type = Width
trigger1 = Time >= 2
edge = 80,0
ignorehitpause =1


[State 3550, Superpause]
type = SuperPause
trigger1 = Animelem = 2
time = 45
anim = S9100
sound = S9100,1
pos = -15,-75
poweradd = -1000


[State 3550, Explod Super Charge MVC2]
type = Explod
trigger1 = Animelem = 2
anim = 9103
ID = 9103
pos = -15,-75
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 20
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

;----------------------
[State 3550, VarSet carga Bg]
type = VarSet
trigger1 = time = 2
v = 45   ;fv = 10
value = 1


[State 0, carga Bg]
type = helper
triggerall = numhelper(9200)=0
trigger1 = Animelem = 2
helpertype = normal
stateno = 9200
ID = 9200
name ="hyperbg"
postype = p1
pos = 0,0
ownpal = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 0, WinKO]
type = AssertSpecial
triggerall = !var(16)
trigger1 = time > 2
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

[State 0, WinKO]
type = VarSet
trigger1 = WinKO
v = 16
value = 1
;----------------------



[State 3550, Velocity]
type = VelSet
trigger1 = AnimElem = 4
x = 8

[State 3550, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(6)>0
x = .1


[State 3550, PlaySnd Voice 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4,17
channel = 5

[State 3550, PlaySnd Voice 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 4,9
channel = 2


[State 3550, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = normal ;player
name = "Shock Drill"
ID = 3560
stateno = 3560
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
;size.xscale =
;size.yscale =


[State 3550, Explod]
type = Explod
trigger1 = animelemtime(4)>0 && animelemtime(5)<0
trigger1 = time%4=0
anim = 3551
ID = 3551
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 2
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999


[State 3550, Hitdef]
type = Hitdef
trigger1 = (time %6) =0
trigger1 = animelemtime(4)<70
attr = A, HA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ifelse(hitcount<3,25,ifelse(var(22)=1,22,ifelse(var(22)=2,18,ifelse(var(22)=3,10,ifelse(var(22)=4,5,15))))),ifelse(var(22)=1,8,ifelse(var(22)=2,5,ifelse(var(22)=3,0,ifelse(var(22)=4,-3,3))))
pausetime = 5,6
sparkno = S8021+random%4
guard.sparkno = S8142
sparkxy = ifelse(random<500,10+random%10,-10-random%10),ifelse(random<500,-60+random%10,-40-random%10)
hitsound = S2,ifelse(random<500,2,0)
guardsound = S0,12
ground.type = Low
air.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -8.5,-4
guard.velocity = -8
air.velocity = -8,-2
airguard.velocity = -9.67,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
getpower = 0
givepower = 35, 35
air.juggle = 0
fall = 0
air.fall = 0
yaccel = .5
forcestand = 1
envshake.time = 12
envshake.ampl = 5
yaccel = .5
palfx.time = 40
palfx.add = -255,-71,41
palfx.mul = 205,164,356
palfx.sinadd = 61,102,51,15
palfx.invertall = 1
palfx.color = 150
forcestand = 1

[State 3550, Hitdef]
type = Hitdef
trigger1 = (time %4) =0
trigger1 = animelemtime(4)>=70
attr = A, HA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ifelse(var(22)=1,32,ifelse(var(22)=2,28,ifelse(var(22)=3,15,ifelse(var(22)=4,8,25)))),ifelse(var(22)=1,8,ifelse(var(22)=2,5,ifelse(var(22)=3,0,ifelse(var(22)=4,-3,3))))
pausetime = 8,3
sparkno = S8030
guard.sparkno = S8142
sparkxy = -20, -50
hitsound = S2,1
guardsound = S0,12
ground.type = high
air.type = Low
ground.slidetime =10
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = 6.5,-12
guard.velocity = -8
air.velocity = 6,-13
airguard.velocity = -9.67,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
getpower = 0
givepower = 35, 35
air.juggle = 0
fall = 1
air.fall = 1
yaccel = .5
forcestand = 1
envshake.time = 16
envshake.ampl = 6
yaccel = .5
palfx.time = 80
palfx.add = -255,-71,41
palfx.mul = 205,164,356
palfx.sinadd = 61,102,51,15
palfx.invertall = 1
palfx.color = 150
forcestand = 1

[state 0,Eletric Sparks]
type = helper
trigger1 = !numhelper(8300)
trigger1 = numtarget && movehit
trigger1 = target,movetype = H &&!target,time
trigger1 = var(48):=(target,ID)
name = "EletricSparks"
id = 8300
stateno = 8300
helpertype = normal
postype = p2
pos = 0,0
ownpal = 1
keyctrl = 0
size.yscale = 1
size.xscale = 1
pausemovetime = 9999999
supermovetime = 9999999
ignorehitpause = 1
persistent = 0

[state 0,Eletric Sparks]
type = helper
triggerall = !numhelper(8305)
triggerall = numtarget && moveguarded
triggerall = target,movetype = H &&!target,time
triggerall = var(48):=(target,ID)
trigger1 = var(22) =[1,2]
name = "EletricSparks"
id = 8305
stateno = 8305
helpertype = normal
postype = p2
pos = 0,0
ownpal = 1
keyctrl = 0
size.yscale = 1
size.xscale = 1
pausemovetime = 9999999
supermovetime = 9999999
ignorehitpause = 1
persistent = 0


[State 3550, ChangeState]
type = ChangeState
trigger1 = Pos y <0
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 3550, ChangeState]
type = ChangeState
trigger1 = Pos y >=0
value = 101
ctrl = 1

;-------------------------------------------------------------------------------
;Captain Shock Drill Helper
[Statedef 3560]
type = A
movetype = A
physics = N
anim = 3560
ctrl = 0
sprpriority = 5


[State 3560, BindToParent]
type = BindToParent
trigger1 = 1
pos = ceil(90*root,const(size.xscale)),ceil(-85*root,const(size.yscale))


[State 3560, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1


[State 3560, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 3560
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 3560, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1


[State 3560, PlaySnd Effect]
type = PlaySnd
trigger1 = time%20 = 0
value = 900, 2
channel = 0



[State 3560, ChangeState]
type = ChangeState
trigger1 = parent,stateno !=3550
trigger2 = parent,stateno = 3550
trigger2 = parent,animelemtime(5)>=0
trigger3 = parent,movetype = H
value = 3561
ctrl = 0

;-------------------------------------------------------------------------------
;Captain Shock Drill Helper End
[Statedef 3561]
type = A
movetype = I
physics = N
anim = 3561
ctrl = 0
sprpriority = 5


[State 3561, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 3561, PlaySnd Effect]
type = PlaySnd
trigger1 = time = 1
value = 900, 3

[State 3561, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
;Go Commando!
[Statedef 3600]
type = S
movetype = A
physics = N
juggle = 0
anim = 3600
ctrl = 0
velset = 0,0
sprpriority = 2

[State 8888, ExShadow]
type = AfterImage
trigger1 = Animelem = 1
time = 40
TimeGap =1
FrameGap=4
length = 15
palbright = 0, 40, 40
paladd = -10, -10, -10
palmul = 0, 1, 1
trans = add
ignorehitpause = 1


[State 3600, Superpause]
type = SuperPause
trigger1 = Time = 0
time = 65
anim = S9101
sound = S9100,1
pos = -60,-95
darken = 0
p2defmul = 1
poweradd = -3000
unhittable = 0

;----------------------
[State 3600, VarSet carga Bg]
type = VarSet
trigger1 = time = 0
v = 45   ;fv = 10
value = 1


[State 3600, carga Bg]
type = helper
triggerall = numhelper(9200)=0
trigger1 = time >= 0
helpertype = normal
stateno = 9200
ID = 9200
name ="hyperbg"
postype = p1
pos = 0,0
ownpal = 1
persistent = 0
supermovetime = 9999
ignorehitpause = 1

[State 3600, WinKO]
type = VarSet
trigger1 = WinKO
v = 16
value = 1
;----------------------

[State 3600, Helper]
type = Helper
triggerall = numhelper(9500)=0
trigger1 = time = 0
helpertype = normal
stateno = 9500
id = 9500
name ="Image"
postype = p1
pos = 0,0
ownpal = 1
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1


[State 3600, Explod Dust]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3600, Explod Dust]
type = Explod
trigger1 = AnimElem = 3
anim = 8552
sprpriority = 4
postype = p1
pos = 10,8
vel = -2,0
bindtime = -1
ownpal = 1
id = 8552
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3600, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3600, VelSet]
type = VelSet
trigger1 = animelem=2
x = 14

[State 3600, PlaySnd Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,34
channel = 0

[State 3600, PlaySnd]
type = PlaySnd
trigger1 = AnimTime = 3
value = 1, 5

[State 3600, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype  = hard
damage = 50,10
priority = 6, Hit
hitflag = MAF
guardflag = M
pausetime = 42,42
guard.pausetime = 12,28
sparkno = S8004
guard.sparkno = S8142
sparkxy = -20, -45
hitsound = S0,16
guardsound = S0,12
ground.type = Low
ground.slidetime = 6
ground.hittime  = 25
ground.velocity = 0
snap = 60,0
air.velocity = 0,8
ground.cornerpush.veloff =  0
guard.cornerpush.veloff =  0
envshake.time = 22
envshake.ampl = 6
kill = 0
p2stateno = 5650


[State 3600, ChangeState]
type = ChangeState
trigger1 = movehit && NumTarget
value = 3601
ctrl = 0

[State 3600, ChangeState]
type = ChangeState
trigger1 = time = 40
trigger2 = moveguarded
value = 101
ctrl = 1

;------------------------------------------------------------------------------------------
;Go Commando!
[Statedef 3601]
type = S
movetype = A
physics = N
juggle = 0
anim = 3601
ctrl = 0
velset = 0,0
facep2 = 1


[State 3601, ChangeState]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 101
ctrl = 1


[State 3601, TargetBind]
type = TargetBind
trigger1 = 1
pos = 50,0
ignorehitpause = 1


[State 3601, PlaySnd Voice]
type = PlaySnd
triggerall = Random <= 500
trigger1 = animelem=2||animelem=8||animelem=13||animelem=16||animelem=19
trigger2 = animelem=22||animelem=28||animelem=34||animelem=38||animelem=44
trigger3 = animelem=48||animelem=53
value = 3,12+random%3
channel = 6

[State 3601, PlaySnd Voice]
type = PlaySnd
triggerall = Random <= 500
trigger1 = animelem=2||animelem=8||animelem=13||animelem=16||animelem=19
trigger2 = animelem=22||animelem=28||animelem=34||animelem=38||animelem=44
trigger3 = animelem=48||animelem=53
value = S0,15


[State 3601, Explod Dust]
type = Explod
triggerall = Random <= 500
trigger1 = animelem=2||animelem=8||animelem=13||animelem=16||animelem=19
trigger2 = animelem=22||animelem=28||animelem=34||animelem=38||animelem=44
trigger3 = animelem=48||animelem=53
anim = 8559
sprpriority = 3
postype = p1
pos = ifelse((Random < 300),25,ifelse((Random = [330,660]),15,35)),ifelse((Random < 300),0,ifelse((Random = [330,660]),-5,5))
vel = -1,0.8
bindtime = 1
ownpal = 1
id = 8559
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 3601, HitDef 1]
type = HitDef
trigger1 = animelem=2||animelem=13||animelem=22||animelem=34||animelem=44||animelem=53
attr = S,HA
animtype = hard
damage = 20
priority = 6, Hit
hitflag = MAF
guardflag = M
pausetime = 5,8
sparkno = S8003
guard.sparkno = S8142
sparkxy = -20+random%10,-75+random%20
hitsound = S0,17+random%3
guardsound = S0,11
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = 0
air.velocity = 0
air.hittime = 12
ground.cornerpush.veloff =  0
guard.cornerpush.veloff =  0
envshake.time = 10
envshake.ampl = 5
kill = 0
id = 5651
;p2stateno = 5651


[State 3601, TargetState]
type = TargetState
trigger1 = !time && numtarget
value = 5651
ID = 5651


[State 3601, HitDef 2]
type = HitDef
trigger1 = animelem=8 ||animelem=16||animelem=19||animelem=28||animelem=38||animelem=48
attr = S, HA
animtype = Hard
damage = 25
priority  = 6, Hit
hitflag = MAF
guardflag = M
pausetime = 6,8
sparkno = S8003
guard.sparkno = S8105
sparkxy = -20+random%10, -85+random%20
hitsound = S0,17+random%3
guardsound = S0,11
ground.type = High
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = 0
air.velocity = 0
air.hittime = 12
ground.cornerpush.veloff =  0
guard.cornerpush.veloff =  0
envshake.time = 10
envshake.ampl = 5
kill = 0
id = 5652
;p2stateno = 5652


[State 3601, TargetState]
type = TargetState
trigger1 = !time && numtarget
value = 5652
ID = 5652


[State 3601, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 3602
ctrl = 0

;-------------------------------------------------------------------------------
;Go Commando Uppercut
[Statedef 3602]
type = S
movetype = A
physics = S
juggle = 0
ctrl = 0
velset = 0,0


[State 3602, ChangeState]
type = ChangeState
trigger1 = !NumTarget
value = 101
ctrl = 1


[State 3201,CAMERA]
type = helper
trigger1 = pos X != 0
trigger1 = Time = 0
name = "helper1"
id = 6001
pos = 0,0
postype = p1
stateno = 6001
helpertype = normal
ownpal = 1
keyctrl = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0


[State 902, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = 3602

[State 105, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1100, PlaySnd Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,0
channel = 0

[State 1100, PlaySnd Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1
channel = 2

[State 52, PlaySnd Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 40, 0
channel = 20

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(4) = 0
x = 8
y = -14

[State 1100, Gravity]
type = VelAdd
trigger1 = AnimElemTime(4) >= 0
y = .6

[State 1100, Velocity]
type = VelMul
trigger1 = AnimElemTime(4) >= 0
x = .9
persistent = 1

[State 1000, Explod Dust]
type = Explod
trigger1 = AnimElem = 2, = 0
anim = 8551
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8551
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 1000, Explod Dust]
type = Explod
trigger1 = AnimElem = 4, = 0
Trigger2 = animelem = 4,9
anim = 7330
sprpriority = 5
postype = p1;p2,front,back,left,right
pos = 40,10
bindtime = 1
ownpal = 1
id = 7330
name = "PilarFogo"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 1000, Explod Dust]
type = Explod
trigger1 = animelem = 4,3
Trigger2 = animelem = 4,7
Trigger3 = animelem = 4,10
anim = 7330
sprpriority = -1
postype = p1
pos = -50,200
bindtime = 1
ownpal = 1
id = 7330
name = "PilarFogo"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 4,2
time = 55
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 0


[State 0, AfterImage]
type = AfterImage
trigger1 = AnimElem = 4
time = 35
length = 12
;palcolor = 256
;palinvertall = 0
palbright = 240,50,0
palcontrast = 250,224,120
palpostbright = 240,50,0
paladd = 240,50,0
;palmul = 250,224,120
timegap = 1
framegap = 2
trans = add
ignorehitpause = -1
persistent = -1
pausemovetime = 999999
supermovetime = 999999


[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
Trigger2 = animelem = 4,3
trigger3 = animelem = 4,7
Trigger4 = animelem = 4,9
Trigger5 = animelem = 4,10
value = 1000,1
channel = 8

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
Trigger2 = animelem = 4,4
trigger3 = animelem = 4,8
Trigger4 = animelem = 4,11
value = 9000,3
channel = 2

[State 220, Helper]
type = Helper
Trigger1 = animelem=4,1
Trigger2 = animelem=4,3
Trigger3 = animelem=4,5
Trigger4 = animelem=4,7
Trigger5 = animelem=4,9
Trigger6 = animelem=4,11
Trigger7 = animelem=4,2
Trigger8 = animelem=4,4
Trigger9 = animelem=4,6
stateno = 3605
id = 3605
ownpal = 1
ignorehitpause = 0
persistent = 1


[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
time = 55
id = -1
pos = 20,-70


[State 0, TargetDrop]
type = TargetDrop
Trigger1 = animelem = 5
excludeID = -1
keepone = 1


[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
animtype = Heavy
air.animtype = Back
damage = 60,5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
sparkno = S8004
guard.sparkno = S8142
sparkxy = -10, -59
hitsound = S0,19
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2.5,-11
guard.velocity = -8
air.velocity = -2.5,-11
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 5
fall = 1
fall.recover = 0
air.fall = 1
yaccel = .5
kill = 0
palfx.color = 0
palfx.add = 240,50,0
palfx.sinadd = 110,55,85,10
palfx.mul = 250,224,120
palfx.time = 64
forcestand = 1


[State 1100, HitDef]
type = HitDef
Trigger1 = animelem=4,1
Trigger2 = animelem=4,2
Trigger3 = animelem=4,3
Trigger4 = animelem=4,4
Trigger5 = animelem=4,5
Trigger6 = animelem=4,6
Trigger7 = animelem=4,7
Trigger8 = animelem=4,9
Trigger9 = animelem=4,11
Trigger10 = animelem=4,13
attr = A, HA
animtype = Heavy
air.animtype = Back
damage = 50,2
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 5,5
sparkno = S8007
guard.sparkno = S8141
sparkxy = -10, -75
hitsound = S0,8
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2.8,-11
guard.velocity = -8
air.velocity = -2.8,-11
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
air.fall = 1
yaccel = .5
givepower = 20,10
getpower = 20,10
sprpriority = 5
palfx.time = 45
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 1
palfx.color = 15
envshake.time = 10
envshake.freq = 90
envshake.ampl = 3



[state 0,Fire Sparks]
type = helper
trigger1 =!numhelper(8100)
trigger1 = numtarget && movehit
trigger1 = target,movetype = H &&!target,time
trigger1 = var(48):=(target,ID)
name ="FireSparks"
id =8100
stateno = 8100
helpertype = normal
postype = p2
pos = 0,0
ownpal = 1
keyctrl = 0
size.yscale = 1
size.xscale = 1
pausemovetime = 9999999
supermovetime = 9999999
ignorehitpause = 1
persistent = 0


[state 0, Fire Sparks Light]
type = helper
triggerall = !numhelper(8105)
triggerall = numtarget
triggerall = target,movetype = H &&!target,time
triggerall = var(48):=(target,ID)
trigger1 = moveguarded && var(21) = 1
name = "FireSparksLight"
id = 8105
stateno = 8105
helpertype = normal
postype = p2
pos = 0,0
ownpal = 1
keyctrl = 0
size.yscale = 1
size.xscale = 1
pausemovetime = 9999999
supermovetime = 9999999
ignorehitpause = 1
persistent = 0


[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(4) >= 2
value = 3603
;-------------------------------------------------------------------------------
[Statedef 3603]
type = S
physics = S
ctrl = 0
anim = 3501
velset = 0,0

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = 8500
pos = 0, 0
postype = p1
ownpal = 1
sprpriority = -3
;pausemovetime = -1
supermovetime = -1
scale = .5,.5

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Capitain Uppecup Fire
[Statedef 3605]
type = A
movetype = A
physics = N
anim = 10300
ctrl = 0
sprpriority = 5
ignorehitpause = 0


[State 3605, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = anim
elem = 3


[State 3605, BindToRoot]
type = BindToRoot
triggerall = root,stateno = 3602
trigger1 = 1
pos = ceil(100*const(size.xscale)),ceil(-30*const(size.yscale))


[State 3605, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow


[State 3605, AngleSet]
type = AngleSet
trigger1 = 1
value = 90


[State 3605, AngleDraw]
type = AngleDraw
trigger1 = 1


[State 5035, Trans]
type = Trans
trigger1 = 1
trans = add


[State 3605, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA
ignorehitpause = 1


[State 3605, PlaySnd Effect]
type = PlaySnd
trigger1 = time = 0
value = S1000,1
channel = 2


[State 3605, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = root,stateno = 3602 && root,time = 1

;---------------------------------------------------------------------------
;Captain Storm Sword
[Statedef 4600]
type = S
movetype = A
physics = S
anim = 1600
ctrl = 0
velset = 0, 0
sprpriority = 1


[State 4600, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 4600, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 0


[State 4600, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 4600, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 4, 4
channel = 0


[State 4600, SuperPause]
type = SuperPause
trigger1 = time = 7
time = 4
sound = S9100,1
anim = 9101
pos = -3, -86
movetime = 2
poweradd = -3000

[State 4600, SuperPause]
type = SuperPause
trigger1 = time = [8,14]
time = 2
anim = -1
pos = -3, -86
sound = -1
movetime = 2
p2defmul = 1

[State 4600, SuperPause]
type = SuperPause
trigger1 = time = [15,45]
time = 2
anim = -1
sound = -1
movetime = 2
p2defmul = 1


;----------------------
[State 4600, VarSet carga Bg]
type = VarSet
trigger1 = time = 0
v = 45   ;fv = 10
value = 1


[State 4600, carga Bg]
type = helper
triggerall = numhelper(9200)=0
trigger1 = time >= 7
helpertype = normal
stateno = 9200
ID = 9200
name ="hyperbg"
postype = p1
pos = 0,0
ownpal = 1
persistent = 0
supermovetime = 9999
ignorehitpause = 1


[State 0, WinKO]
type = VarSet
trigger1 = WinKO
v = 16
value = 1
;----------------------

[State 4600, Helper]
type = Helper
triggerall = numhelper(9500)=0
trigger1 = time = 4
helpertype = normal
stateno = 9500
id = 9500
name ="Image"
postype = p1
pos = 0,0
ownpal = 1
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1


[State 4600, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 2, 8


[State 4600, Explod]
type = Explod
trigger1 = AnimElem = 2
ID = 490
anim = 1565
postype = p1
pos = 0, 0
bindtime = -1
removetime = 45
sprpriority = 2
ownpal = 1
removeongethit = 1
supermovetime = 999


[State 4600, Helper]
type = Helper
trigger1 = time = 7
ID = 888
name = "Hoover"
StateNo = 4700
postype = p1
pos = -54, -(var(5))
ownpal = 1
supermovetime = 900

[State 4600, Helper]
type = Helper
trigger1 = time = 7
ID = 889
name = "Jennety"
StateNo = 4740
postype = p1
pos = -160, -(var(5))
ownpal = 1
supermovetime = 900

[State 4600, Helper]
type = Helper
trigger1 = time = 7
ID = 890
name = "Sho"
StateNo = 4780
postype = p1
pos = 40, -(var(5))
ownpal = 1
supermovetime = 900


[State 4600, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = 3, 9


[State 4600, ChangeState]
type = ChangeState
trigger1 = time = 45
value = 4620

;-------------------------------------------------------------------------------
;Captain Storm - Dash at Opponent
[Statedef 4620]
type = S
movetype = A
physics = N
anim = 1610
velset = 15, 0


[State 4620, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
physics = S


[State 4620, NotHitBy]
type = NotHitBy
trigger1 = time<34
value = ,NT,ST

[State 4620, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AP


[State 4620, Explod Dust]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 8555
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8555
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 4620, Explod]
type = Explod
trigger1 = AnimElem = 6
trigger2 = AnimElem = 6 = 2
trigger3 = AnimElem = 6 = 3
trigger4 = AnimElem = 7
ID = 43
anim = 6000
postype = p1
pos = 15, 0
bindtime = 1
removetime = -2
vel = -.2, 0
ownpal = 1
sprpriority = 2


[State 4620, VarSet]
type = VarSet
trigger1 = AnimTime = 0
v = 0
value = 2


[State 4620, ChangeState]
type = ChangeState
triggerall = AnimElemNo(0) != 1
trigger1 = P2BodyDist X <= 25
value = 4630

[State 4620, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Hyper Captain Storm - Atack
[Statedef 4630]
type = S
movetype = A
physics = N
anim = 4630


[State 4630, VelMul]
type = VelMul
trigger1 = time = 0
x = .5


[State 4630, NotHitBy]
type = NotHitBy
trigger1 = time<34
value = ,NT,ST,AP


[State 4630, PlaySnd Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300, 13


[State 4630, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, HA
hitflag = MAF
guardflag = MA
pausetime = 5, 6
guard.pausetime = 9, 9
damage = 50, 12
priority = 8, Hit
sparkno = S8035
guardsparkno = S8142
sparkxy = -5, -90
hitsound = S0, 11
guardsound = S0, 12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.slidetime = 23
guard.hittime = 23
guard.velocity = -9
hitonce = 1
kill = 0
fall = 1
air.fall = 1
;p2stateno = 1820
id = 1820
givepower = 20
getpower = 0
envshake.time = 8
envshake.ampl = 5


[State 4630, TargetState]
type = TargetState
trigger1 = !time && numtarget
value = 1820
id = 1820


[State 4630, Helper Cloth]
type = Helper
trigger1 = AnimElem = 1
stateno = 7800
postype = P1
pos = 0,-50
ownpal = 1
supermovetime = 999999
size.xscale = 1.2
size.yscale = 4


[State 4630, Width]
type = Width
trigger1 = MoveHit
value = 30, 0


[State 4630, VelSet]
type = VelSet
trigger1 = AnimElem = 5
y = -6


[State 4630, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
StateType = A


[State 4630, Gravity]
type = Gravity
trigger1 = time > 12


[State 4630, VarSet]
type = VarSet
trigger1 = MoveHit
v = 0
value = 1


[State 4630, NotHitBy]
type = NotHitBy
trigger1 = MoveHit
value = SCA
time = 10


[State 4630, VarSet]
type = VarSet
trigger1 = MoveGuarded
v = 0
value = 2

[State 4630, VelMul]
type = VelMul
trigger1 = MoveGuarded
x = .5


[State 4630, ChangeState]
type = ChangeState
triggerall = MoveHit && numtarget
trigger1 = HitCount = 1
trigger2 = AnimElemNo(0) = 7
value = 4640

[State 4630, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4635

;-------------------------------------------------------------------------------
;Captain Storm - Land from Uppercut
[Statedef 4635]
type = S
movetype = I
physics = S
anim = 4635


[State 4635, 1]
type = VelSet
trigger1 = time = 0
y = 0

[State 4635, 2]
type = PosSet
trigger1 = time = 0
y = 0

[State 4635, 3]
type = PlaySnd
trigger1 = time = 0
value = S52,0

[State 4635, 3a]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 640

[State 4635, VarSet]
type = VarSet
trigger1 = time = 0 ;AnimTime = 0
v = 0
value = 2

[State 4635, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4636
ctrl = 0

;---------------------------------------------------------------------------
;Captain Storm Rum Fwd End
[Statedef 4636]
type = S
physics = N
ctrl = 0
anim = 101

[State 4636, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 4636, VelSet]
type = VelSet
trigger1 = 1
y = 0

[State 4636, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
physics = S


[State 4636, VelMul]
type = VelMul
trigger1 = 1
x = .9

[State 4636, VelSet]
type = VelSet
trigger1 = animtime = 0
x = 0

[State 4636, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,3
channel = 20


[State 4636, Explod]
type = Explod
trigger1 = time = [2,17]
trigger1 = (time % 4) = 0
ID = 43
anim = 6000
postype = p1
pos = 15, 0
bindtime = 1
removetime = -2
vel = -.2, 0
ownpal = 1
sprpriority = 2


[State 4636, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Captain Storm - Initial attack connected, launching followups
[Statedef 4640]
type = A
movetype = I
physics = N
anim = 1625


[State 4640, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0


[State 4640, ChangeState]
type = ChangeState
trigger1 = !time && !numtarget
value = 0
ctrl = 1


[State 4640, TargetState]
type = TargetState
trigger1 = !time && numtarget
value = 1830


[State 4640, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 3


[State 4640, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 12


[State 4640, VelAdd]
type = VelAdd
trigger1 = time > 0
trigger1 = ScreenPos Y < 350
y = .39


[State 4640, VelSet]
type = VelSet
trigger1 = ScreenPos Y >= 350
x = 0
y = 0
persistent = 0


[State 1820, ChangeState]
type = ChangeState
trigger1 = ScreenPos Y >= 350
value = 4645

;-------------------------------------------------------------------------------
; Captain Storm - Helper Attacks
[Statedef 4645]
type = A
movetype = I
physics = N
anim = 0
velset = 0, 0


[State 4645, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0


[State 4645, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2


[State 4645, Helper]
type = Helper
trigger1 = time = 6
trigger2 = time = 60
ID = 770
name = "Jennety"
StateNo = 4691
postype = p1
pos = -20, 0
ownpal = 1

[State 4645, Helper]
type = Helper
trigger1 = time = 22
ID = 771
name = "Sho"
StateNo = 4692
postype = left
pos = -60, 40
ownpal = 1

[State 4645, 3]
type = Helper
trigger1 = time = 44
ID = 772
name = "Hoover"
StateNo = 4693
postype = right
pos = 100, 90
ownpal = 1
facing = -1

[State 4645, 4]
type = Helper
trigger1 = time = 77
ID = 771
name = "Sho"
StateNo = 4694
postype = right
pos = 100, 90
ownpal = 1
facing = -1

[State 4645, Helper]
type = Helper
trigger1 = time = 92
ID = 772
name = "Hoover"
StateNo = 4695
postype = left
pos = -60, 40
ownpal = 1


[State 4645, ChangeState]
type = ChangeState
trigger1 = !time && !numtarget
value = 0
ctrl = 1


[State 4645, TargetState]
type = TargetState
trigger1 = time = 102 ;&& numtarget
value = 5850


[State 4645, Turn]
type = Turn
trigger1 = time = 150


[State 4645, PosAdd]
type = PosAdd
trigger1 = time = 151
x = -85


[State 4645, VelSet]
type = VelSet
trigger1 = time = 160
y = -14


[State 4645, VelAdd]
type = VelAdd
trigger1 = time > 160
y = -.39


[State 4645, ChangeAnim]
type = ChangeAnim
trigger1 = time = 148
value = 1020


[State 4645, PlaySnd]
type = PlaySnd
trigger1 = time = 148
value = 4, 0


[State 4645, Helper]
type = Helper
trigger1 = Anim = 1020
trigger1 = AnimElem = 6
ID = 4645;789
name = "Energy Blast"
StateNo = 1025;4696
postype = p1
pos = 53, 9
ownpal = 1

[State 4645, PalFX]
type = PalFX
trigger1 = Anim = 1020
trigger1 = AnimElemNo(0) = 6
trigger1 = (time % 3) = 0
time = 2
add = 174,174,184
mul = 256,256,256
color = 200

[State 4645, 13a]
type = VarSet
trigger1 = WinKO
v = 16
value = 2

[State 4645, ChangeState]
type = ChangeState
trigger1 = Pos Y <= 0
value = 4650

;-------------------------------------------------------------------------------
;Captain Storm - Stop Moving
[Statedef 4650]
type = S
movetype = I
physics = N
velset = 0, 0
sprpriority = 1


[State 4650, b]
type = Null ;ScreenBound
trigger1 = (Anim != 183)
value = 0


[State 4650, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2


[State 4650, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 4650, VarSet]
type = VarSet
trigger1 = WinKO
v = 16
value = 2


[State 4650, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 4650, ChangeState]
type = ChangeState
trigger1 = time = 5
value = 4900;6500
ctrl = 1

;-------------------------------------------------------------------------------
; Jennety - Storm End Pose
[Statedef 4660]
type = A
movetype = I
physics = N
anim = 830
sprpriority = 0
velset = 2.6, 4

[State 4660, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 4660, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 4660, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 4665

;-------------------------------------------------------------------------------
; Land and Pose
[Statedef 4665]
type = S
movetype = I
physics = N
anim = 201
velset = 0, 0

[State 4665, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 4665, 2]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 4760

;-------------------------------------------------------------------------------
; Sho - Storm End Pose
[Statedef 4670]
type = A
movetype = I
physics = N
anim = 821
sprpriority = 0
velset = -3.4, 4

[State 4670, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 4670, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 4670, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 4675

;-------------------------------------------------------------------------------
; Land and Pose
[Statedef 4675]
type = S
movetype = I
physics = N
anim = 184
velset = 0, 0

[State 4675, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1675, 2]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 4800

;-------------------------------------------------------------------------------
; Hoover - Storm End Pose
[Statedef 4680]
type = A
movetype = I
physics = N
anim = 810;730
sprpriority = 0
velset = -.3, 4

[State 4680, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 4680, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 4680, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 4685

;-------------------------------------------------------------------------------
; Land and Pose
[Statedef 4685]
type = S
movetype = I
physics = N
anim = 186
velset = 0, 0

[State 4685, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 4685, 2]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 4720

;-------------------------------------------------------------------------------
; Jennety Attack 1
[Statedef 4691]
type = A
movetype = A
physics = N
anim = 1220
velset = 1, -11

[State 4691, 1]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 4691, 1a]
type = PlaySnd
trigger1 = time = 0
value = 3, 5

[State 4691, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300, 13

[State 4691, 1b]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4691, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag =
pausetime = 9, 9
damage = 30
sparkno = S8030
sparkxy = -5, -110
hitsound = S0, 13
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0
envshake.time = 8
envshake.ampl = 4


[State 191, Cloth]
type = Helper
trigger1 = AnimElem = 1
stateno = 7801
postype = P1
pos = 0,-80
ownpal = 1
supermovetime = 999999
size.xscale = 1.2
size.yscale = 4

[State 1691, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1691, 3]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;-----------------
; Sho Attack 1
[Statedef 4692]
type = A
movetype = A
physics = N
anim = 1725

[State 1692, b]
type = PlaySnd
trigger1 = time = 0
value = 3, 8

[State 630, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300, 13

[State 1692, 1]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 12

[State 1692, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag =
pausetime = 9, 9
damage = 30
sparkno = S8030
sparkxy = -5, -60
hitsound = S0, 13
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0
envshake.time = 8
envshake.ampl = 4


[State 191, Cloth]
type = Helper
trigger1 = AnimElem = 1
stateno = 7803
postype = P1
pos = 0,-60
ownpal = 1
supermovetime = 999999
size.xscale = 1.2
size.yscale = 4

[State 1692, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1692, 3]
type = DestroySelf
trigger1 = ScreenPos X > 500

;----------------
; Hoover Attack 1
[Statedef 4693]
type = A
movetype = A
physics = N
anim = 1705

[State 1693, 1]
type = PlaySnd
trigger1 = time = 0
value = 3, 3

[State 630, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300, 13

[State 1693, 2]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 18

[STate 1693, 3]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag =
pausetime = 9, 9
damage = 30
sparkno = S8030
sparkxy = -5, -60
hitsound = S0, 11
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0
envshake.time = 8
envshake.ampl = 4


[State 191, Cloth]
type = Helper
trigger1 = AnimElem = 1
stateno = 7802
postype = P1
pos = 0,-90
ownpal = 1
supermovetime = 999999
size.xscale = 1.2
size.yscale = 4

[State 1693, 3a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1693, 4]
type = DestroySelf
trigger1 = ScreenPos X < -100

;----------------
; Sho Attack 2
[Statedef 4694]
type = A
movetype = A
physics = N
anim = 1725

[State 1694, 1]
type = PlaySnd
trigger1 = time = 0
value = 3, 8

[State 630, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300, 13

[State 1694, 2]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 19

[STate 1694, 3]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag =
pausetime = 9, 9
damage = 30
sparkno = S8030
sparkxy = -5, -60
hitsound = S0, 13
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0
envshake.time = 8
envshake.ampl = 4


[State 191, Cloth]
type = Helper
trigger1 = AnimElem = 1
stateno = 7803
postype = P1
pos = 0,-60
ownpal = 1
supermovetime = 999999
size.xscale = 1.2
size.yscale = 4

[State 1694, 3a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1694, 4]
type = DestroySelf
trigger1 = ScreenPos X < -100

;-----------------
; Hoover - Attack 2
[Statedef 4695]
type = A
movetype = A
physics = N
anim = 1705


[State 4695, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3, 3


[State 4695, PlaySnd Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300, 13


[State 4695, VelSet]
type = VelSet
trigger1 = time = 0
x = 20
y = (P2Dist Y) / 12


[State 4695, HitDef]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag =
pausetime = 9, 9
damage = 35
sparkno = S8030
sparkxy = -5, -110
hitsound = S0, 11
air.velocity = -4, -6
kill = 0
fall = 1
air.fall = 1
p2stateno = 1850
givepower = 10
getpower = 0
envshake.time = 10
envshake.ampl = 5


[State 4695, Helper]
type = Helper
trigger1 = AnimElem = 1
stateno = 7802
postype = P1
pos = 0,-90
ownpal = 1
supermovetime = 999999
size.xscale = 1.2
size.yscale = 4


[State 4695, ParentVarSet]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0


[State 4695, DestroySelf]
type = DestroySelf
trigger1 = ScreenPos X > 500

;-------------------------------------------------------------------------------
; Captain Storm Hoover - Pose for startup
[Statedef 4700]
type = A
movetype = I
physics = N
anim = 810;730
velset = 2.2, 7
sprpriority = -1

[State 1700, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1700, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1700, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 4710

;-------------------------------------------------------------------------------
; Hoover - Land
[Statedef 4710]
type = S
movetype = I
physics = N
anim = 1700
velset = 0, 0

[State 1710, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1710, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 4730

[State 1710, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 4720

;-------------------------------------------------------------------------------
; Hoover - Leave when attack is blocked
[Statedef 4720]
type = A
movetype = I
physics = N
anim = 810;730
velset = 3, -14

[State 1720, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1720, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;-------------------------------------------------------------------------------
; Hoover - Fly off for attack
[Statedef 4730]
type = A
movetype = I
physics = N
anim = 1705

[State 1730, 1]
type = Turn
trigger1 = time = 0

[State 1730, 2]
type = VelSet
trigger1 = time = 0
x = 11
y = -5

[State 4730, 3]
type = DestroySelf
trigger1 = time = 70

;-------------------------------------------------------------------------------
; Captain Storm Jennety - Pose for Startup
[Statedef 4740]
type = A
movetype = I
physics = N
anim = 830
velset = 4.5, 7
sprpriority = 0

[State 1740, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1740, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1740, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 4750

;-------------------------------------------------------------------------------
; Jennety - Land
[Statedef 4750]
type = S
movetype = I
physics = N
anim = 1710
velset = 0, 0

[State 1750, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1750, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 4770

[State 1750, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 4760

;-------------------------------------------------------------------------------
; Jennety - Leave when attack is blocked
[Statedef 4760]
type = A
movetype = I
physics = N
anim = 830
velset = -5, -14

[State 1760, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1760, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;-------------------------------------------------------------------------------
; Jennety - Fly off for attack
[Statedef 4770]
type = A
movetype = I
physics = N
anim = 1220

[State 1770, 2]
type = VelSet
trigger1 = time = 0
x = 1
y = -16

[State 1770, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------------------------------------------
; Captain Storm Sho - Pose for Startup
[Statedef 4780]
type = A
movetype = I
physics = N
anim = 821
velset = -7, 7
sprpriority = 2

[State 1780, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1780, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1780, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 4790

;-------------------------------------------------------------------------------
; Sho - Land
[Statedef 4790]
type = S
movetype = I
physics = N
anim = 1720
velset = 0, 0

[State 1790, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1790, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 4810

[State 1790, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 4800

;-------------------------------------------------------------------------------
; Sho - Leave when attack is blocked
[Statedef 4800]
type = A
movetype = I
physics = N
anim = 821
velset = -4, -14

[State 1800, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1800, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

;-------------------------------------------------------------------------------
; Sho - Fly off for attack
[Statedef 4810]
type = A
movetype = I
physics = N
anim = 1725

[State 1810, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 630, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300, 13

[State 191, Cloth]
type = Helper
trigger1 = AnimElem = 1
stateno = 7803
postype = P1
pos = 0,-80
ownpal = 1
supermovetime = 999999
size.xscale = 1.2
size.yscale = 4

[State 1810, 2]
type = VelSet
trigger1 = time = 0
x = 15
y = -6

[State 1810, 3]
type = DestroySelf
trigger1 = time = 70



;-------------------------------------------------------------------------------
;Captain Sword Ultra
[Statedef 4900]
type = S
movetype = A
physics = S
anim = 1500
ctrl = 0
velset = 0, 0
sprpriority = 1


[State 4900, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 4900, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 0


[State 4900, Explod Dust]
type = Explod
trigger1 = time = 0
anim = 8550
sprpriority = 3
postype = p1
pos = 10,8
bindtime = 1
ownpal = 1
id = 8550
name = "Dust"
scale = 1,1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State 4900, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 4, 5
channel = 0


[State 4900, SuperPause]
type = SuperPause
trigger1 = time = 7
time = 45
movetime = 45
sound = S9100,1
anim = 9101
pos = -6, -129


[State 4900, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 2, 8


;----------------------

[State 4900, Helper]
type = Helper
trigger1 = time = 7
ID = 888
name = "Hoover"
StateNo = 1510
postype = p1
pos = -140, -(var(5))
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

[State 4900, Helper]
type = Helper
trigger1 = time = 7
ID = 889
name = "Jennety"
StateNo = 1520
postype = p1
pos = 6, -(var(5))
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

[State 4900, Helper]
type = Helper
trigger1 = time = 7
ID = 890
name = "Sho"
StateNo = 1530
postype = p1
pos = 30, -(var(5))
ownpal = 1
pausemovetime = 999999
supermovetime = 999999


[State 4900, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = 3, 9


[State 4900, Helper]
type = Helper
trigger1 = time = 44
ID = 999
name = "Sword Beam"
StateNo = 4910
postype = p1
pos = 0, 0
ownpal = 1
;pausemovetime = 999999
;supermovetime = 999999


[State 4900, ChangeAnim]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 13
value = 1511

[State 1500, ChangeAnim]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 19
value = 1512

[State 1500, ChangeAnim]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 22
value = 1513

[State 1500, ChangeAnim]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 30
value = 1514


[State 1500, VarSet]
type = VarSet
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 20
v = 0
value = 1

[State 1500, VarSet]
type = VarSet
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), MoveHit
trigger1 = Helper(999), AnimElemNo(0) = 24
v = 6
value = 1


[State 1500, VarAdd]
type = VarAdd
trigger1 = Anim = 1514
trigger1 = NumHelper(999) = 0
v = 0
value = 1

[State 4900, 19a]
type = RemoveExplod
trigger1 = var(0) >= 20
ID = 640


[State 4900, ScreenBound]
type = ScreenBound
trigger1 = var(6) = 1
value = 0


[State 4900, ChangeState]
type = ChangeState
trigger1 = var(0) >= 20
trigger1 = var(6) = 1
value = 4901

[State 4900, ChangeState]
type = ChangeState
trigger1 = var(0) >= 20
value = 12
ctrl = 1

;-------------------------------------------------------------------------------
;Dash Back Onto Screen
[Statedef 4901]
type = S
movetype = I
physics = S
anim = 0


[State 4901, ChangeState]
type = ChangeState
trigger1 = BackEdgeDist <= 0
value = 4902


[State 4901, VarSet]
type = VarSet
trigger1 = BackEdgeDist > 0
v = 6
value = 0


[State 4901, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0


[State 4901, ChangeState]
type = ChangeState
trigger1 = BackEdgeDist > 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 4902]
type = S
movetype = I
physics = S


[State 4902, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0


[State 4902, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 3


[State 4902, ChangeAnim]
type = ChangeAnim
trigger1 = time = 50
value = 100


[State 4902, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 4, 22


[State 4902, PosAdd]
type = PosAdd
trigger1 = BackEdgeDist < -100
x = -70 - BackEdgeDist


[State 4902, VelSet]
type = VelSet
trigger1 = time = 50
x = 20


[State 4902, VarSet]
type = VarSet
trigger1 = Anim = 100
trigger1 = AnimTime = 0
v = 6
value = 0


[State 4902, ChangeState]
type = ChangeState
trigger1 = Anim = 100
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Ultra Sword Beam
[Statedef 4910]
type = A
movetype = A
physics = N
sprpriority = 5


[State 4910, VarAdd]
type = VarAdd
trigger1 = 1
v = 0
value = 1


[State 4910, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow


[State 4910, ChangeAnim]
type = ChangeAnim
trigger1 = var(0) = 1
value = 4910
sprpriority = 5


[State 4910, BindToParent]
type = BindToParent
trigger1 = time = 0
pos = 0, 0
time = 9999


[State 4910, PlaySnd]
type = PlaySnd
trigger1 = var(0) = 1
value = 2, 10


[State 4910, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 4910, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 4910
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 4910, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1


[State 4910, HitDef]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 11
trigger3 = AnimElem = 12
trigger4 = AnimElem = 13
trigger5 = AnimElem = 14
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 3
damage = 15, 2
animtype = back
sparkno = S8030
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -5, 3
air.velocity = -.2, 2
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
p2stateno = 2000

[State 4910, HitDef]
type = HitDef
trigger1 = AnimElem = 18
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 1
damage = 25, 2
animtype = back
sparkno = S8030
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -5, 0
air.velocity = -8, 3 ;fvar(0)  ;3
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
yaccel = .65
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
p2stateno = 2000

[State 4910, HitDef]
type = HitDef
trigger1 = AnimElem = 19
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 1
damage = 30, 2
animtype = back
sparkno = S8030
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -5, 0
air.velocity = -7, 3 ;fvar(0) ;7
yaccel = .8
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
p2stateno = 2000

[State 4910, HitDef]
type = HitDef
trigger1 = AnimElem = 20
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 9, 1
damage = 35, 2
animtype = back
sparkno = S8030
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -9, 5
air.velocity = -8, 3 ;fvar(0) ;6
guard.hittime = 20
guard.velocity = -10
yaccel = 1.1
airguard.velocity = -5, 4
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
p2stateno = 2000

[State 4910, HitDef]
type = HitDef
trigger1 = AnimElem = 21
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 9, 1
damage = 40, 2
animtype = back
sparkno = S8030
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -9, 5
air.velocity = -8, 3 ;fvar(0) ;9
yaccel = 1.2
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
p2stateno = 2000

[State 4910, HitDef]
type = HitDef
trigger1 = AnimElem = 22
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 9, 1
damage = 30, 2
animtype = back
sparkno = S8030
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -9, 8
air.velocity = -7, 3 ;fvar(0) ;6
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
yaccel = ifelse(HitCount < 2, .45, 1.3)
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
p2stateno = 2000

[State 4910, HitDef]
type = HitDef
trigger1 = AnimElem = 23
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 9, 1
damage = 45, 2
animtype = back
sparkno = S8030
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -9, 1
air.velocity = -7, 4 ;fvar(0) ;5.4
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
yaccel = ifelse(HitCount < 2, .15, 1.4)
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
p2stateno = 2000

[State 4910, HitDef]
type = HitDef
trigger1 = AnimElem = 24
trigger2 = AnimElem = 26
trigger3 = AnimElem = 28
trigger4 = AnimElem = 30
trigger5 = AnimElem = 32
trigger6 = AnimElem = 34
trigger7 = AnimElem = 36
trigger8 = AnimElem = 38
trigger6 = AnimElem = 40
trigger10 = AnimElem = 42
trigger11 = AnimElem = 44
trigger12 = AnimElem = 46
attr = A, HA
hitflag = MAFD
guardflag = MA
pausetime = 2, 3
damage = 4, 2
animtype = back
sparkno = S8040
guard.sparkno = S8142
sparkxy = floor(P2Dist Y + parent, var(3)), floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -9, 1
air.velocity = -7, 4 ;fvar(0) ;5.4
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 3
;fall = 1
;air.fall = 1
;fall.recover = 0
;givepower = 40
;getpower = 0
envshake.time = 10
envshake.ampl = 4
p2stateno = 2000


[State 4910, HitDef]
type = HitDef
trigger1 = AnimElem = 48
attr = A, HA
hitflag = MAFD
guardflag = MA
pausetime = 9, 9
damage = 100, 2
animtype = back
sparkno = S8040
guard.sparkno = S8142
sparkxy = -5, floor(P2Dist Y + parent, var(3))
hitsound = S2, 0
guardsound = S0, 12
ground.velocity = -12, -14
air.velocity = -11, -14
guard.hittime = 20
guard.velocity = -15
airguard.velocity = -5, 1
fall = 1
air.fall = 1
fall.recover = 0
sprpriority = 3
givepower = 40
getpower = 0
envshake.time = 10
envshake.ampl = 4
p2stateno = 2000


[State 4910, ParentVarSet]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1


[State 4910, MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit


[State 4910, Explod]
type = Explod
trigger1 = AnimElem = 30
ID = 471
anim = 6120
postype = p1
pos = 106, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 4910, Explod]
type = Explod
trigger1 = AnimElem = 31
ID = 472
anim = 6121
postype = p1
pos = 176, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 4910, Explod]
type = Explod
trigger1 = AnimElem = 32
ID = 471
anim = 6122
postype = p1
pos = 246, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 4910, Explod]
type = Explod
trigger1 = AnimElem = 30
ID = 471
anim = 6123
postype = p1
pos = 316, 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 4910, Explod]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 112, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 4910, Explod]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 152, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 4910, Explod]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 192, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 4910, Explod]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 232, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 4910, Explod]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 272, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 4910, Explod]
type = Explod
trigger1 = AnimElem = 30
ID = 473
anim = 6110
postype = p1
pos = 312, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1


[State 4910, DestroySelf]
type = DestroySelf
trigger1 = Anim = 9999
trigger1 = NumExplod = 0
trigger2 = parent, MoveType = H
trigger3 = ScreenPos X <= -486
trigger4 = ScreenPos X >= 806

[State 4910, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 4910
trigger1 = AnimTime = 0
value = 9999


